{"version":3,"file":"js/decidim_initiatives-d982f06596233ecb8cc4.js","mappings":"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","sources":["webpack://app/webpack/runtime/chunk loaded","webpack://app/../.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-initiatives-0.27.5/app/packs/images/ sync ^\\.\\/.*$","webpack://app/../.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.5/app/packs/src/decidim/editor/linebreak_module.js","webpack://app/../.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-initiatives-0.27.5/app/packs/entrypoints/decidim_initiatives.js","webpack://app/../.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-initiatives-0.27.5/app/packs/src/decidim/initiatives/identity_selector_dialog.js","webpack://app/../.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/decidim-initiatives-0.27.5/app/packs/src/decidim/initiatives/scoped_type.js","webpack://app/webpack/bootstrap","webpack://app/webpack/runtime/compat get default export","webpack://app/webpack/runtime/define property getters","webpack://app/webpack/runtime/hasOwnProperty shorthand","webpack://app/webpack/runtime/node module decorator","webpack://app/webpack/runtime/publicPath","webpack://app/webpack/runtime/jsonp chunk loading","webpack://app/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var map = {\n\t\"./decidim/gamification/badges/decidim_gamification_badges_initiatives.svg\": 11934,\n\t\"./decidim/initiatives/decidim_initiatives.svg\": 57329\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 78091;","/* eslint-disable require-jsdoc */\n\nimport addEnterBindings from \"src/decidim/editor/modified_enter\"\nimport backspaceBindingsRangeAny from \"src/decidim/editor/modified_backspace_offset_any\"\nimport backspaceBindings from \"src/decidim/editor/modified_backspace_offset1\"\nimport HistoryOverride from \"src/decidim/editor/history_override\"\n\n// Disable warning messages from overwritting modules\nQuill.debug(\"error\");\n\n// It all started with these snippets of code: https://github.com/quilljs/quill/issues/252\nconst Delta = Quill.import(\"delta\");\nconst Break = Quill.import(\"blots/break\");\nconst Embed = Quill.import(\"blots/embed\");\nconst Scroll = Quill.import(\"blots/scroll\");\nconst Parchment = Quill.import(\"parchment\");\nQuill.register({\"modules/history\": HistoryOverride}, true);\nlet icons = Quill.import(\"ui/icons\");\nicons.linebreak = \"⏎\";\n\nclass SmartBreak extends Break {\n  length() {\n    return 1;\n  }\n\n  value() {\n    return \"\\n\";\n  }\n\n  insertInto(parent, ref) {\n    // Embed.prototype.insertInto.call(this, parent, ref);\n    Reflect.apply(Embed.prototype.insertInto, this, [parent, ref]);\n  }\n}\nQuill.register(SmartBreak);\n\n// Override quill/blots/scroll.js\nclass ScrollOvderride extends Scroll {\n  optimize(mutations = [], context = {}) {\n    if (this.batch === true) {\n      return;\n    }\n\n    this.parchmentOptimize(mutations, context);\n\n    if (mutations.length > 0) {\n      // quill/core/emitter.js, Emitter.events.SCROLL_OPTIMIZE = \"scroll-optimize\"\n      this.emitter.emit(\"scroll-optimize\", mutations, context);\n    }\n  }\n\n  // Override parchment/src/blot/scroll.ts\n  parchmentOptimize(mutations = [], context = {}) {\n    // super.optimize(context);\n    Reflect.apply(Parchment.Container.prototype.optimize, this, [context]);\n\n    // We must modify mutations directly, cannot make copy and then modify\n    // let records = [].slice.call(this.observer.takeRecords());\n    let records = [...this.observer.takeRecords()];\n    // Array.push currently seems to be implemented by a non-tail recursive function\n    // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n    while (records.length > 0) {\n      mutations.push(records.pop());\n    }\n    let mark = (blot, markParent) => {\n      if (!blot || blot === this) {\n        return;\n      }\n      if (!blot.domNode.parentNode) {\n        return;\n      }\n      if (blot.domNode.__blot && blot.domNode.__blot.mutations === null) {\n        blot.domNode.__blot.mutations = [];\n      }\n      if (markParent) {\n        mark(blot.parent);\n      }\n    };\n    let optimize = (blot) => {\n      // Post-order traversal\n      if (!blot.domNode.__blot) {\n        return;\n      }\n\n      if (blot instanceof Parchment.Container) {\n        blot.children.forEach(optimize);\n      }\n      blot.optimize(context);\n    };\n    let remaining = mutations;\n    for (let ind = 0; remaining.length > 0; ind += 1) {\n      // MAX_OPTIMIZE_ITERATIONS = 100\n      if (ind >= 100) {\n        throw new Error(\"[Parchment] Maximum optimize iterations reached\");\n      }\n      remaining.forEach((mutation) => {\n        let blot = Parchment.find(mutation.target, true);\n        if (!blot) {\n          return;\n        }\n        if (blot.domNode === mutation.target) {\n          if (mutation.type === \"childList\") {\n            mark(Parchment.find(mutation.previousSibling, false));\n\n            mutation.addedNodes.forEach((node) => {\n              let child = Parchment.find(node, false);\n              mark(child, false);\n              if (child instanceof Parchment.Container) {\n                child.children.forEach(function(grandChild) {\n                  mark(grandChild, false);\n                });\n              }\n            });\n          } else if (mutation.type === \"attributes\") {\n            mark(blot.prev);\n          }\n        }\n        mark(blot);\n      });\n      this.children.forEach(optimize);\n      remaining = [...this.observer.takeRecords()];\n      records = remaining.slice();\n      while (records.length > 0) {\n        mutations.push(records.pop());\n      }\n    }\n  }\n};\nQuill.register(\"blots/scroll\", ScrollOvderride, true);\nParchment.register(ScrollOvderride);\n\nexport default function lineBreakButtonHandler(quill) {\n  let range = quill.selection.getRange()[0];\n  let currentLeaf = quill.getLeaf(range.index)[0];\n  let nextLeaf = quill.getLeaf(range.index + 1)[0];\n  const previousChar = quill.getText(range.index - 1, 1);\n\n  // Insert a second break if:\n  // At the end of the editor, OR next leaf has a different parent (<p>)\n  if (nextLeaf === null || (currentLeaf.parent !== nextLeaf.parent)) {\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n  } else if (previousChar === \"\\n\") {\n    const delta = new Delta().retain(range.index).insert(\"\\n\");\n    quill.updateContents(delta, Quill.sources.USER);\n  } else {\n    quill.insertEmbed(range.index, \"break\", true, \"user\");\n  }\n\n  // Now that we've inserted a line break, move the cursor forward\n  quill.setSelection(range.index + 1, Quill.sources.SILENT);\n}\n\nQuill.register(\"modules/linebreak\", (quill) => {\n  quill.getModule(\"toolbar\").addHandler(\"linebreak\", () => {\n    lineBreakButtonHandler(quill);\n  });\n\n  quill.emitter.on(\"editor-ready\", () => {\n    const length = quill.getLength();\n    const text = quill.getText(length - 2, 2);\n\n    // Remove extraneous new lines\n    if (text === \"\\n\\n\") {\n      quill.deleteText(quill.getLength() - 2, 2);\n    }\n  });\n\n  addEnterBindings(quill);\n  backspaceBindingsRangeAny(quill);\n  backspaceBindings(quill);\n\n  return;\n});\n\n","import \"src/decidim/initiatives/application\"\nimport \"src/decidim/initiatives/identity_selector_dialog\"\nimport \"src/decidim/initiatives/scoped_type\"\n\n// Images\nrequire.context(\"../images\", true)\n","$(() => {\n  let button = $(\"#select-identity-button\"),\n      userIdentitiesDialog = $(\"#user-identities\");\n\n  if (userIdentitiesDialog.length) {\n    let refreshUrl = userIdentitiesDialog.data(\"refresh-url\");\n\n    button.click(function () {\n      $.ajax(refreshUrl).done(function(response) {\n        userIdentitiesDialog.html(response).foundation(\"open\");\n      });\n    });\n  }\n})\n","/* eslint-disable camelcase */\nconst controlSelector = function(source, prefix, currentValueKey) {\n  if (source.length) {\n    let currentValue = source.data(currentValueKey),\n        searchUrl = source.data(`${prefix}-search-url`),\n        targetElement = $(`#${source.data(`${prefix}-selector`)}`);\n\n    if (targetElement.length) {\n      let refresh = function () {\n        $.ajax({\n          url: searchUrl,\n          cache: false,\n          dataType: \"html\",\n          data: {\n            type_id: source.val(),\n            selected: currentValue\n          },\n          success: function (data) {\n            targetElement.html(data);\n          }\n        });\n      };\n\n      source.change(refresh);\n      refresh();\n    }\n  }\n};\n\n$(() => {\n  let typeSelector = $(\"[data-scope-selector]\");\n  controlSelector(typeSelector, \"scope\", \"scope-id\");\n  controlSelector(typeSelector, \"signature-types\", \"signature-type\");\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/decidim-packs/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t7982: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkapp\"] = self[\"webpackChunkapp\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [2415,7277], function() { return __webpack_require__(28267); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Quill","debug","Delta","Break","Embed","Scroll","Parchment","register","HistoryOverride","linebreak","SmartBreak","_Break","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","parent","ref","Reflect","prototype","insertInto","this","ScrollOvderride","_Scroll","_super2","mutations","length","undefined","context","batch","parchmentOptimize","emitter","emit","_this","Container","optimize","records","_toConsumableArray","observer","takeRecords","push","pop","mark","blot","markParent","domNode","parentNode","__blot","children","forEach","remaining","ind","mutation","find","target","type","previousSibling","addedNodes","node","child","grandChild","prev","slice","quill","getModule","addHandler","range","selection","getRange","currentLeaf","getLeaf","index","nextLeaf","previousChar","getText","insertEmbed","delta","retain","insert","updateContents","sources","USER","setSelection","SILENT","lineBreakButtonHandler","on","getLength","deleteText","addEnterBindings","backspaceBindingsRangeAny","backspaceBindings","require","$","button","userIdentitiesDialog","refreshUrl","data","click","ajax","done","response","html","foundation","controlSelector","source","prefix","currentValueKey","currentValue","searchUrl","concat","targetElement","refresh","url","cache","dataType","type_id","val","selected","success","change","typeSelector","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","defineProperty","enumerable","get","obj","prop","hasOwnProperty","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}