!function(){var t,e={49851:function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(r=i.key,a=void 0,a=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===o(a)?a:String(a)),i)}var r,a}var r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listSelector=e.listSelector,this.labelSelector=e.labelSelector,this.onPositionComputed=e.onPositionComputed,this.run()}var e,n,o;return e=t,(n=[{key:"run",value:function(){var t=this;$(this.listSelector).each((function(e,n){var o=$(n).find(t.labelSelector),i=o.html();i.match(/#(\d+)/)?o.html(i.replace(/#(\d+)/,"#".concat(e+1))):o.html("".concat(i," #").concat(e+1)),t.onPositionComputed&&t.onPositionComputed(n,e)}))}}])&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,r=void 0,r=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(r)?r:String(r)),o)}var i,r}var c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listSelector=e.listSelector,this.hideOnFirstSelector=e.hideOnFirstSelector,this.hideOnLastSelector=e.hideOnLastSelector,this.run()}var e,n,o;return e=t,(n=[{key:"run",value:function(){var t=$(this.listSelector),e=this.hideOnFirstSelector,n=this.hideOnLastSelector;if(1===t.length){var o=t.first();o.find(e).hide(),o.find(n).hide()}else t.each((function(o,i){i.id===t.first().attr("id")?($(i).find(e).hide(),$(i).find(n).show()):i.id===t.last().attr("id")?($(i).find(n).hide(),$(i).find(e).show()):($(i).find(n).show(),$(i).find(e).show())}))}}])&&l(e.prototype,n),o&&l(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,r=void 0,r=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===s(r)?r:String(r)),o)}var i,r}var d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wrapperSelector=e.wrapperSelector,this.containerSelector=e.containerSelector,this.fieldSelector=e.fieldSelector,this.addFieldButtonSelector=e.addFieldButtonSelector,this.addSeparatorButtonSelector=e.addSeparatorButtonSelector,this.addTitleAndDescriptionButtonSelector=e.addTitleAndDescriptionButtonSelector,this.fieldTemplateSelector=e.fieldTemplateSelector,this.separatorTemplateSelector=e.separatorTemplateSelector,this.TitleAndDescriptionTemplateSelector=e.TitleAndDescriptionTemplateSelector,this.removeFieldButtonSelector=e.removeFieldButtonSelector,this.moveUpFieldButtonSelector=e.moveUpFieldButtonSelector,this.moveDownFieldButtonSelector=e.moveDownFieldButtonSelector,this.onAddField=e.onAddField,this.onRemoveField=e.onRemoveField,this.onMoveUpField=e.onMoveUpField,this.onMoveDownField=e.onMoveDownField,this.placeholderId=e.placeholderId,this.elementCounter=0,this._enableInterpolation(),this._activateFields(),this._bindEvents()}var e,n,o;return e=t,n=[{key:"_enableInterpolation",value:function(){$.fn.replaceAttribute=function(t,e,n){return $(this).find("[".concat(t,"*=").concat(e,"]")).addBack("[".concat(t,"*=").concat(e,"]")).each((function(o,i){$(i).attr(t,$(i).attr(t).replace(e,n))})),this},$.fn.template=function(t,e){var n=$(this).find("template, .decidim-template");n.length>0&&n.html((function(n,o){return $(o).template(t,e)[0].outerHTML}));var o=$(this).find("[data-template]");return o.length>0&&o.each((function(n,o){var i=$(o),r=$(i.data("template")),a=$(r[0].outerHTML),l="".concat(r.attr("id"),"-").concat(e),c="#".concat(l);a.attr("id",l),i.attr("data-template",c).data("template",c),r.after(a),a.html((function(n,o){return $(o).template(t,e)[0].outerHTML}))})),$(this).replaceAttribute("id",t,e),$(this).replaceAttribute("name",t,e),$(this).replaceAttribute("data-tabs-content",t,e),$(this).replaceAttribute("for",t,e),$(this).replaceAttribute("tabs_id",t,e),$(this).replaceAttribute("href",t,e),$(this).replaceAttribute("value",t,e),this}}},{key:"_bindEvents",value:function(){var t=this;$(this.wrapperSelector).on("click",this.addFieldButtonSelector,(function(e){return t._bindSafeEvent(e,(function(){return t._addField(t.fieldTemplateSelector)}))})),this.addSeparatorButtonSelector&&$(this.wrapperSelector).on("click",this.addSeparatorButtonSelector,(function(e){return t._bindSafeEvent(e,(function(){return t._addField(t.separatorTemplateSelector)}))})),this.addTitleAndDescriptionButtonSelector&&$(this.wrapperSelector).on("click",this.addTitleAndDescriptionButtonSelector,(function(e){return t._bindSafeEvent(e,(function(){return t._addField(t.TitleAndDescriptionTemplateSelector)}))})),$(this.wrapperSelector).on("click",this.removeFieldButtonSelector,(function(e){return t._bindSafeEvent(e,(function(e){return t._removeField(e)}))})),this.moveUpFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveUpFieldButtonSelector,(function(e){return t._bindSafeEvent(e,(function(e){return t._moveUpField(e)}))})),this.moveDownFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveDownFieldButtonSelector,(function(e){return t._bindSafeEvent(e,(function(e){return t._moveDownField(e)}))}))}},{key:"_bindSafeEvent",value:function(t,e){t.preventDefault(),t.stopPropagation();try{return e(t.target)}catch(n){return console.error(n),n}}},{key:"_addField",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".decidim-template",e=$(this.wrapperSelector),n=e.find(this.containerSelector),o=e.data("template"),i=null;o&&(i=$(o)),(null===i||i.length<1)&&(i=e.children("template, ".concat(t)));var r=$(i.html()).template(this.placeholderId,this._getUID());r.find("ul.tabs").attr("data-tabs",!0);var a=n.find(this.fieldSelector).last();a.length>0?a.after(r):r.appendTo(n),r.foundation(),this.onAddField&&this.onAddField(r)}},{key:"_removeField",value:function(t){var e=$(t).parents(this.fieldSelector);if(e.find("input").filter((function(t,e){return e.name.match(/id/)})).length>0){var n=e.find("input").filter((function(t,e){return e.name.match(/delete/)}));n.length>0&&$(n[0]).val(!0),e.addClass("hidden"),e.hide()}else e.remove();this.onRemoveField&&this.onRemoveField(e)}},{key:"_moveUpField",value:function(t){var e=$(t).parents(this.fieldSelector);e.prev().before(e),this.onMoveUpField&&this.onMoveUpField(e)}},{key:"_moveDownField",value:function(t){var e=$(t).parents(this.fieldSelector);e.next().after(e),this.onMoveDownField&&this.onMoveDownField(e)}},{key:"_activateFields",value:function(){var t=this,e=$(this.wrapperSelector).find(this.containerSelector);e.append(e.find("script")),$(this.fieldSelector).each((function(e,n){$(n).template(t.placeholderId,t._getUID()),$(n).find("ul.tabs").attr("data-tabs",!0)}))}},{key:"_getUID",value:function(){return this.elementCounter+=1,(new Date).getTime()+this.elementCounter}}],n&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();var f=n(64112);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,r=void 0,r=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==p(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(r)?r:String(r)),o)}var i,r}function v(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var m=v((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$(e).length>0&&(0,f.Z)(e,n)[0].addEventListener("sortupdate",(function(t){var e=$(t.target).children();n.onSortUpdate&&n.onSortUpdate(e)}))}));$((function(){var t=function(t){var e="#".concat(t.attr("id")),n=t.data("placeholder-id"),o=".multifield-field",i=new r({listSelector:"".concat(e," .multifield-field:not(.hidden)"),labelSelector:".card-title span:first",onPositionComputed:function(t,e){$(t).find("input.position-input").val(e)}}),a=new c({listSelector:"".concat(e," .multifield-field:not(.hidden)"),hideOnFirstSelector:".move-up-field",hideOnLastSelector:".move-down-field"}),l=function(){var t;t="".concat(e," .fields-list:not(.published)"),new m(t,{handle:".multifield-field-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){i.run()}})};new d({placeholderId:n,wrapperSelector:e,containerSelector:".multifield-fields-list",fieldSelector:o,addFieldButtonSelector:".add-field",removeFieldButtonSelector:".remove-field",moveUpFieldButtonSelector:".move-up-field",moveDownFieldButtonSelector:".move-down-field",onAddField:function(e){l(),i.run(),a.run(),t.trigger("add-field-section",e)},onRemoveField:function(){i.run(),a.run()},onMoveUpField:function(){i.run(),a.run()},onMoveDownField:function(){i.run(),a.run()}}),l(),$(o).each((function(t,e){!function(t){"true"===t.find("input[name$=\\[deleted\\]]").val()&&(t.addClass("hidden"),t.hide())}($(e))})),i.run(),a.run()};$.fn.multifield=function(){$(this).each((function(){var e=$(this),n=e.attr("id");(!n||n.length<1)&&(n="multifield-".concat(Math.random().toString(16).slice(2)),e.attr("id",n)),t(e)}))}}));n(26353),n(59451),n(7842),n(66736)},26353:function(){$((function(){$.fn.constraintSection=function(){$(this).each((function(){!function(t){var e=$("select.constraint-subject-selector",t),n=$("select.constraint-subject-model-selector",t);e.on("change init",(function(){var e=$(this).val();$("[data-manifest]",t).hide(),$('[data-manifest="'.concat(e,'"]'),t).show()})).trigger("init"),n.on("change init",(function(){var t=$(this).parents(".manifest-container"),e=$(this).val();$("[data-components]",t).hide(),$('[data-components="'.concat(e,'"]'),t).show()})).trigger("init")}($(this))}))}}))},59451:function(){$((function(){var t=$("form.translation-sets-form .multifield-fields");t.multifield(),t.on("add-field-section",(function(t,e){$(e).constraintSection()})),$(".constraints-list .constraint-section",t).each((function(t,e){$(e).constraintSection()}))}))},66736:function(){$((function(){var t=$("#data_picker-autocomplete"),e=$("#add-translations-results"),n=$("template",e),o=t.parents("form"),i="",r=[];t.on("keyup",(function(){i=t.val()})),o.on("submit",(function(t){return t.preventDefault()})),$.isObject=$.isPlainObject;$.fn.tcAutocomplete=function(e){$(this).each((function(n,o){var i=$(o),a=function(e){var n=$("#".concat(e.mainContainerId)),o=$("<div />");return n.css({top:"",left:""}),o.css({position:"relative"}),o.append(n),t.after(o),e.fixPosition=function(){},e.origSuggest=e.suggest,e.suggest=function(){return e.suggestions=e.suggestions.filter((function(t){return!r.includes(t)})),e.data=e.data.filter((function(t){return!r.includes(t.value)})),e.origSuggest()},e.onKeyPress=function(t){if(!e.disabled&&e.enabled){switch(t.keyCode){case 27:e.el.val(e.currentValue),e.hide();break;case 9:case 13:if(1===e.suggestions.length)e.select(0);else{if(-1===e.selectedIndex)return void e.hide();e.select(e.selectedIndex)}if(9===t.keyCode)return;break;case 38:e.moveUp();break;case 40:e.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}},e}(i.autocomplete(e));i.data("autocomplete",a)}))},t.tcAutocomplete({width:"100%",minChars:2,noCache:!0,serviceUrl:o.attr("action"),delimiter:"||",deferRequestBy:500,formatResult:function(t,e){var n=t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),o=new RegExp("(".concat(n,")"),"gi");return"".concat(e.value," - ").concat(e.data).replace(o,"<strong>$1</strong>")},onSelect:function(a,l){var c=l.data,s=l.value;r.push(a);var u=n.html();u=(u=u.replace(new RegExp("{{translation_key}}","g"),c)).replace(new RegExp("{{translation_term}}","g"),s);var d=$(u);$("table tbody",e).append(d),e.removeClass("hide");var f=$('<input type="hidden" name="keys[]" value="'.concat(c,'">'));o.append(f),$(".remove-translation-key",d).on("click",(function(t){t.preventDefault(),d.remove(),f.remove(),r=r.filter((function(t){return t!==a})),$("table tbody tr",e).length<1&&e.addClass("hide")})),t.val(i),setTimeout((function(){t.data("autocomplete").suggest()}),20)}})}))},7842:function(){$(document).ready((function(){var t=function(){return $(".table-list .js-check-all-translation:checked").length};window.selectedTranslationsCountUpdate=function(){0===t()?$("#js-selected-translation-count").text(""):$("#js-selected-translation-count").text(t())};var e=function(){t()>0&&$("#js-bulk-actions-button").removeClass("hide")},n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];0!==t()&&!0!==e||($("#js-bulk-actions-button").addClass("hide"),$("#js-bulk-actions-dropdown").removeClass("is-open"))};window.showOtherActionsButtons=function(){$("#js-other-actions-wrapper").removeClass("hide")};window.hideBulkActionForms=function(){return $(".js-bulk-action-form").addClass("hide")},$(".js-bulk-action-form").length&&(window.hideBulkActionForms(),$("#js-bulk-actions-button").addClass("hide"),$("#js-bulk-actions-dropdown ul li button").click((function(t){t.preventDefault();var e=$(t.target).data("action");e&&($("#js-form-".concat(e)).submit((function(){$(".layout-content > .callout-wrapper").html("")})),$("#js-".concat(e,"-actions")).removeClass("hide"),n(!0),$("#js-other-actions-wrapper").addClass("hide"))})),$(".js-check-all").change((function(){$(".js-check-all-translation").prop("checked",$(this).prop("checked")),$(this).prop("checked")?($(".js-check-all-translation").closest("tr").addClass("selected"),e()):($(".js-check-all-translation").closest("tr").removeClass("selected"),n()),window.selectedTranslationsCountUpdate()})),$(".table-list").on("change",".js-check-all-translation",(function(){var t=$(this).val(),o=$(this).prop("checked");!1===$(this).prop("checked")&&$(".js-check-all").prop("checked",!1),$(".js-check-all-translation:checked").length===$(".js-check-all-translation").length&&($(".js-check-all").prop("checked",!0),e()),$(this).prop("checked")?(e(),$(this).closest("tr").addClass("selected")):(n(),$(this).closest("tr").removeClass("selected")),0===$(".js-check-all-translation:checked").length&&n(),$(".js-bulk-action-form").find(".js-translation-id-".concat(t)).prop("checked",o),window.selectedTranslationCountUpdate()})),$(".js-cancel-bulk-action").on("click",(function(){window.hideBulkActionForms(),e(),window.showOtherActionsButtons()})))}))}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,o),r.exports}o.m=e,t=[],o.O=function(e,n,i,r){if(!n){var a=1/0;for(u=0;u<t.length;u++){n=t[u][0],i=t[u][1],r=t[u][2];for(var l=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(o.O).every((function(t){return o.O[t](n[c])}))?n.splice(c--,1):(l=!1,r<a&&(a=r));if(l){t.splice(u--,1);var s=i();void 0!==s&&(e=s)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,i,r]},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={8632:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,r,a=n[0],l=n[1],c=n[2],s=0;if(a.some((function(e){return 0!==t[e]}))){for(i in l)o.o(l,i)&&(o.m[i]=l[i]);if(c)var u=c(o)}for(e&&e(n);s<a.length;s++)r=a[s],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(u)},n=self.webpackChunkapp=self.webpackChunkapp||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var i=o.O(void 0,[4112],(function(){return o(49851)}));i=o.O(i)}();
//# sourceMappingURL=decidim_term_customizer_admin-caf1a32bdc4f17593e45.js.map