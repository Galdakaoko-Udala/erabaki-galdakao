!function(){var e,t={30411:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,l=void 0,l=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(l)?l:String(l)),i)}var o,l}var o=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listSelector=t.listSelector,this.hideOnFirstSelector=t.hideOnFirstSelector,this.hideOnLastSelector=t.hideOnLastSelector,this.run()},(t=[{key:"run",value:function(){var e=$(this.listSelector),t=this.hideOnFirstSelector,n=this.hideOnLastSelector;if(1===e.length){var r=e.first();r.find(t).hide(),r.find(n).hide()}else e.each((function(r,i){i.id===e.first().attr("id")?($(i).find(t).hide(),$(i).find(n).show()):i.id===e.last().attr("id")?($(i).find(n).hide(),$(i).find(t).show()):($(i).find(n).show(),$(i).find(t).show())}))}}])&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===l(o)?o:String(o)),r)}var i,o}var c=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listSelector=t.listSelector,this.labelSelector=t.labelSelector,this.onPositionComputed=t.onPositionComputed,this.run()},(t=[{key:"run",value:function(){var e=this;$(this.listSelector).each((function(t,n){var r=$(n).find(e.labelSelector),i=r.html();i.match(/#(\d+)/)?r.html(i.replace(/#(\d+)/,"#".concat(t+1))):r.html("".concat(i," #").concat(t+1)),e.onPositionComputed&&e.onPositionComputed(n,t)}))}}])&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),d=n(64112);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===u(o)?o:String(o)),r)}var i,o}function f(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p=f((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(t).length>0&&(0,d.Z)(t,n)[0].addEventListener("sortupdate",(function(e){var t=$(e.target).children();n.onSortUpdate&&n.onSortUpdate(t)}))}));function m(e,t){return new p(e,t)}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===v(o)?o:String(o)),r)}var i,o}var b=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wrapperSelector=t.wrapperSelector,this.containerSelector=t.containerSelector,this.fieldSelector=t.fieldSelector,this.addFieldButtonSelector=t.addFieldButtonSelector,this.addSeparatorButtonSelector=t.addSeparatorButtonSelector,this.addTitleAndDescriptionButtonSelector=t.addTitleAndDescriptionButtonSelector,this.fieldTemplateSelector=t.fieldTemplateSelector,this.separatorTemplateSelector=t.separatorTemplateSelector,this.TitleAndDescriptionTemplateSelector=t.TitleAndDescriptionTemplateSelector,this.removeFieldButtonSelector=t.removeFieldButtonSelector,this.moveUpFieldButtonSelector=t.moveUpFieldButtonSelector,this.moveDownFieldButtonSelector=t.moveDownFieldButtonSelector,this.onAddField=t.onAddField,this.onRemoveField=t.onRemoveField,this.onMoveUpField=t.onMoveUpField,this.onMoveDownField=t.onMoveDownField,this.placeholderId=t.placeholderId,this.elementCounter=0,this._enableInterpolation(),this._activateFields(),this._bindEvents()},t=[{key:"_enableInterpolation",value:function(){$.fn.replaceAttribute=function(e,t,n){return $(this).find("[".concat(e,"*=").concat(t,"]")).addBack("[".concat(e,"*=").concat(t,"]")).each((function(r,i){$(i).attr(e,$(i).attr(e).replace(t,n))})),this},$.fn.template=function(e,t){var n=$(this).find("template, .decidim-template");n.length>0&&n.html((function(n,r){return $(r).template(e,t)[0].outerHTML}));var r=$(this).find("[data-template]");return r.length>0&&r.each((function(n,r){var i=$(r),o=$(i.data("template")),l=$(o[0].outerHTML),a="".concat(o.attr("id"),"-").concat(t),c="#".concat(a);l.attr("id",a),i.attr("data-template",c).data("template",c),o.after(l),l.html((function(n,r){return $(r).template(e,t)[0].outerHTML}))})),$(this).replaceAttribute("id",e,t),$(this).replaceAttribute("name",e,t),$(this).replaceAttribute("data-tabs-content",e,t),$(this).replaceAttribute("for",e,t),$(this).replaceAttribute("tabs_id",e,t),$(this).replaceAttribute("href",e,t),$(this).replaceAttribute("value",e,t),this}}},{key:"_bindEvents",value:function(){var e=this;$(this.wrapperSelector).on("click",this.addFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.fieldTemplateSelector)}))})),this.addSeparatorButtonSelector&&$(this.wrapperSelector).on("click",this.addSeparatorButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.separatorTemplateSelector)}))})),this.addTitleAndDescriptionButtonSelector&&$(this.wrapperSelector).on("click",this.addTitleAndDescriptionButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.TitleAndDescriptionTemplateSelector)}))})),$(this.wrapperSelector).on("click",this.removeFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._removeField(t)}))})),this.moveUpFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveUpFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._moveUpField(t)}))})),this.moveDownFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveDownFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._moveDownField(t)}))}))}},{key:"_bindSafeEvent",value:function(e,t){e.preventDefault(),e.stopPropagation();try{return t(e.target)}catch(n){return console.error(n),n}}},{key:"_addField",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".decidim-template",t=$(this.wrapperSelector),n=t.find(this.containerSelector),r=t.data("template"),i=null;r&&(i=$(r)),(null===i||i.length<1)&&(i=t.children("template, ".concat(e)));var o=$(i.html()).template(this.placeholderId,this._getUID());o.find("ul.tabs").attr("data-tabs",!0);var l=n.find(this.fieldSelector).last();l.length>0?l.after(o):o.appendTo(n),o.foundation(),this.onAddField&&this.onAddField(o)}},{key:"_removeField",value:function(e){var t=$(e).parents(this.fieldSelector);if(t.find("input").filter((function(e,t){return t.name.match(/id/)})).length>0){var n=t.find("input").filter((function(e,t){return t.name.match(/delete/)}));n.length>0&&$(n[0]).val(!0),t.addClass("hidden"),t.hide()}else t.remove();this.onRemoveField&&this.onRemoveField(t)}},{key:"_moveUpField",value:function(e){var t=$(e).parents(this.fieldSelector);t.prev().before(t),this.onMoveUpField&&this.onMoveUpField(t)}},{key:"_moveDownField",value:function(e){var t=$(e).parents(this.fieldSelector);t.next().after(t),this.onMoveDownField&&this.onMoveDownField(t)}},{key:"_activateFields",value:function(){var e=this,t=$(this.wrapperSelector).find(this.containerSelector);t.append(t.find("script")),$(this.fieldSelector).each((function(t,n){$(n).template(e.placeholderId,e._getUID()),$(n).find("ul.tabs").attr("data-tabs",!0)}))}},{key:"_getUID",value:function(){return this.elementCounter+=1,(new Date).getTime()+this.elementCounter}}],t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function g(e){return new b(e)}var y=n(6705),S=n(97624),w=n(65800),_=n(8866);function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function k(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===F(o)?o:String(o)),r)}var i,o}function E(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function j(e,t,n){return t=A(t),function(e,t){if(t&&("object"===F(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){return!1}}()?Reflect.construct(t,n||[],A(e).constructor):t.apply(e,n))}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}Quill.debug("error");var B=Quill.import("delta"),x=Quill.import("blots/break"),D=Quill.import("blots/embed"),U=Quill.import("blots/scroll"),M=Quill.import("parchment");Quill.register({"modules/history":_.Z},!0),Quill.import("ui/icons").linebreak="\u23ce";var R=function(e){function t(){return P(this,t),j(this,t,arguments)}return C(t,e),E(t,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"insertInto",value:function(e,t){Reflect.apply(D.prototype.insertInto,this,[e,t])}}])}(x);Quill.register(R);var N=function(e){function t(){return P(this,t),j(this,t,arguments)}return C(t,e),E(t,[{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(this.parchmentOptimize(e,t),e.length>0&&this.emitter.emit("scroll-optimize",e,t))}},{key:"parchmentOptimize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Reflect.apply(M.Container.prototype.optimize,this,[n]);for(var r=k(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var i=function t(n,r){n&&n!==e&&n.domNode.parentNode&&(n.domNode.__blot&&null===n.domNode.__blot.mutations&&(n.domNode.__blot.mutations=[]),r&&t(n.parent))},o=function e(t){t.domNode.__blot&&(t instanceof M.Container&&t.children.forEach(e),t.optimize(n))},l=t,a=0;l.length>0;a+=1){if(a>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach((function(e){var t=M.find(e.target,!0);t&&(t.domNode===e.target&&("childList"===e.type?(i(M.find(e.previousSibling,!1)),e.addedNodes.forEach((function(e){var t=M.find(e,!1);i(t,!1),t instanceof M.Container&&t.children.forEach((function(e){i(e,!1)}))}))):"attributes"===e.type&&i(t.prev)),i(t))})),this.children.forEach(o),r=(l=k(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}}}])}(U);function L(e){var t=e.selection.getRange()[0],n=e.getLeaf(t.index)[0],r=e.getLeaf(t.index+1)[0],i=e.getText(t.index-1,1);if(null===r||n.parent!==r.parent)e.insertEmbed(t.index,"break",!0,"user"),e.insertEmbed(t.index,"break",!0,"user");else if("\n"===i){var o=(new B).retain(t.index).insert("\n");e.updateContents(o,Quill.sources.USER)}else e.insertEmbed(t.index,"break",!0,"user");e.setSelection(t.index+1,Quill.sources.SILENT)}Quill.register("blots/scroll",N,!0),M.register(N),Quill.register("modules/linebreak",(function(e){e.getModule("toolbar").addHandler("linebreak",(function(){L(e)})),e.emitter.on("editor-ready",(function(){var t=e.getLength();"\n\n"===e.getText(t-2,2)&&e.deleteText(e.getLength()-2,2)})),(0,y.Z)(e),(0,S.Z)(e),(0,w.Z)(e)}));n(38193),n(13320),n(90037);function Q(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=["bold","italic","link","underline","header","list","alt","break","width","style","code","blockquote","indent"];function H(e){var t=$(e).data("toolbar"),n=$(e).data("disabled"),r=[["bold","italic","underline","linebreak"],[{list:"ordered"},{list:"bullet"}],["link","clean"],["code","blockquote"],[{indent:"-1"},{indent:"+1"}]],i=!1,o=!1;"content"===t?r=[[{header:[2,3,4,5,6,!1]}]].concat(Q(r)):"full"===t&&(i=!0,o=!0,r=[[{header:[2,3,4,5,6,!1]}]].concat(Q(r),[["video"],["image"]]));var l={linebreak:{},toolbar:{container:r,handlers:{linebreak:L}}},a=$(e).siblings('input[type="hidden"]');e.innerHTML=a.val()||"";var c=$('meta[name="csrf-token"]').attr("content");if(o&&q.push("video"),i){q.push("image"),l.imageResize={modules:["Resize","DisplaySize"]},l.imageUpload={url:$(e).data("uploadImagesPath"),method:"POST",name:"image",withCredentials:!1,headers:{"X-CSRF-Token":c},callbackOK:function(e,t){$("div.ql-toolbar").last().removeClass("editor-loading"),t(e.url)},callbackKO:function(e){$("div.ql-toolbar").last().removeClass("editor-loading"),console.log("Image upload error: ".concat(e.message))},checkBeforeSend:function(e,t){$("div.ql-toolbar").last().addClass("editor-loading"),t(e)}};var d=$(e).data("dragAndDropHelpText");$(e).after('<p class="help-text" style="margin-top:-1.5rem;">'.concat(d,"</p>"))}var u=new Quill(e,{modules:l,formats:q,theme:"snow"});return!1===i&&u.root.addEventListener("drop",(function(e){return e.preventDefault()})),n&&u.disable(),u.on("text-change",(function(){var t=u.getText(),n=new CustomEvent("quill-position",{detail:u.getSelection()});if(e.dispatchEvent(n),"\n"!==t&&"\n\n"!==t||0!==u.root.querySelectorAll("iframe").length){var r="<p><br></p>",i=u.root.innerHTML.replace(new RegExp("^".concat(r,"|").concat(r,"$"),"g"),"");a.val(i)}else a.val("")})),u.emitter.emit("editor-ready"),u}var Z=".meeting-agenda-item",K=new c({listSelector:".meeting-agenda-item:not(.hidden)",labelSelector:".card-title span:first",onPositionComputed:function(e,t){$(e).find("input[name$=\\[position\\]]").val(t)}}),X=new o({listSelector:".meeting-agenda-item:not(.hidden)",hideOnFirstSelector:".move-up-agenda-item",hideOnLastSelector:".move-down-agenda-item"}),G=function(){m(".meeting-agenda-items-list:not(.published)",{handle:".agenda-item-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){K.run()}})},J=new c({listSelector:".meeting-agenda-item-child:not(.hidden)",labelSelector:".card-title span:first",onPositionComputed:function(e,t){$(e).find("input[name$=\\[position\\]]").val(t)}}),V=new o({listSelector:".meeting-agenda-item-child:not(.hidden)",hideOnFirstSelector:".move-up-agenda-item-child",hideOnLastSelector:".move-down-agenda-item-child"}),W=function(e){return g({placeholderId:"meeting-agenda-item-child-id",wrapperSelector:"#".concat(e," ").concat(".meeting-agenda-item-childs"),containerSelector:".meeting-agenda-item-childs-list",fieldSelector:".meeting-agenda-item-child",addFieldButtonSelector:".add-agenda-item-child",removeFieldButtonSelector:".remove-agenda-item-child",moveUpFieldButtonSelector:".move-up-agenda-item-child",moveDownFieldButtonSelector:".move-down-agenda-item-child",onAddField:function(e){m(".meeting-agenda-item-childs-list:not(.published)",{handle:".agenda-item-child-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){K.run()}}),e.find(".editor-container").each((function(e,t){H(t)})),J.run(),V.run()},onRemoveField:function(){J.run(),V.run()},onMoveUpField:function(){J.run(),V.run()},onMoveDownField:function(){J.run(),V.run()}})},Y={},ee=function(e){var t=e.attr("id");Y[t]=W(t)};g({placeholderId:"meeting-agenda-item-id",wrapperSelector:".meeting-agenda-items",containerSelector:".meeting-agenda-items-list",fieldSelector:Z,addFieldButtonSelector:".add-agenda-item",removeFieldButtonSelector:".remove-agenda-item",moveUpFieldButtonSelector:".move-up-agenda-item",moveDownFieldButtonSelector:".move-down-agenda-item",onAddField:function(e){ee(e),G(),e.find(".editor-container").each((function(e,t){H(t)})),K.run(),X.run()},onRemoveField:function(){K.run(),X.run()},onMoveUpField:function(){K.run(),X.run()},onMoveDownField:function(){K.run(),X.run()}}),G(),$(Z).each((function(e,t){var n=$(t);!function(e){"true"===e.find("input[name$=\\[deleted\\]]").val()&&(e.addClass("hidden"),e.hide())}(n),ee(n)})),K.run(),X.run(),J.run(),V.run();n(5973);function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===te(o)?o:String(o)),r)}var i,o}var re=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.controllerField=t.controllerField,this.wrapperSelector=t.wrapperSelector,this.dependentFieldsSelector=t.dependentFieldsSelector,this.dependentInputSelector=t.dependentInputSelector,this.enablingCondition=t.enablingCondition,this._bindEvent(),this._run()},(t=[{key:"_run",value:function(){var e=this.controllerField,t=e.parents(this.wrapperSelector).find(this.dependentFieldsSelector),n=t.find(this.dependentInputSelector);this.enablingCondition(e)?(n.prop("disabled",!1),t.show()):(n.prop("disabled",!0),t.hide())}},{key:"_bindEvent",value:function(){var e=this;this.controllerField.on("change",(function(){e._run()}))}}])&&ne(e.prototype,t),n&&ne(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function ie(e){return new re(e)}function oe(e,t,n){var r="".concat(e,"Name");if(n[r])return n[r];var i=t.attr("name"),o=/\[[^\]]+\]$/;return i.match(o)?i.replace(o,"[".concat(e,"]")):e}function le(e,t,n){var r=$.extend({},t),i=e.attr("id").split("_");i.pop();var o="".concat(i.join("_")),l="latitude",a="longitude";e.length>0&&(l=oe("latitude",e,r),a=oe("longitude",e,r));var c=$.extend({latitudeId:"".concat(o,"_latitude"),longitudeId:"".concat(o,"_longitude"),latitudeName:l,longitudeName:a},t),d=!1,u=function(t){!function(){var t=$("#".concat(c.latitudeId));t.length<1&&(t=$('<input type="hidden" name="'.concat(c.latitudeName,'" id="').concat(c.latitudeId,'" />')),e.after(t));var n=$("#".concat(c.longitudeId));n.length<1&&(n=$('<input type="hidden" name="'.concat(c.longitudeName,'" id="').concat(c.longitudeId,'" />')),e.after(n))}(),$("#".concat(c.latitudeId)).val(t[0]).attr("value",t[0]),$("#".concat(c.longitudeId)).val(t[1]).attr("value",t[1])};e.on("change.decidim",(function(){d||($("#".concat(c.latitudeId)).val("").removeAttr("value"),$("#".concat(c.longitudeId)).val("").removeAttr("value"))})),e.on("geocoder-suggest-coordinates.decidim",(function(e,t){u(t),d=!0,"function"!==typeof n||n(t)}));var s="".concat(e.data("coordinates")).split(",").map(parseFloat);Array.isArray(s)&&2===s.length&&u(s)}$((function(){var e=".meeting-service",t=new c({listSelector:".meeting-service:not(.hidden)",labelSelector:".card-title span:first",onPositionComputed:function(e,t){$(e).find("input[name$=\\[position\\]]").val(t)}}),n=new o({listSelector:".meeting-service:not(.hidden)",hideOnFirstSelector:".move-up-service",hideOnLastSelector:".move-down-service"}),r=function(){m(".meeting-services-list:not(.published)",{handle:".service-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){t.run()}})};g({placeholderId:"meeting-service-id",wrapperSelector:".meeting-services",containerSelector:".meeting-services-list",fieldSelector:e,addFieldButtonSelector:".add-service",removeFieldButtonSelector:".remove-service",moveUpFieldButtonSelector:".move-up-service",moveDownFieldButtonSelector:".move-down-service",onAddField:function(){r(),t.run(),n.run()},onRemoveField:function(){t.run(),n.run()},onMoveUpField:function(){t.run(),n.run()},onMoveDownField:function(){t.run(),n.run()}}),r(),$(e).each((function(e,t){!function(e){"true"===e.find("input[name$=\\[deleted\\]]").val()&&(e.addClass("hidden"),e.hide())}($(t))})),t.run(),n.run();var i=$(".edit_meeting, .new_meeting, .copy_meetings");if(i.length>0){var l=i.find("#private_meeting"),a=i.find("#transparent"),d=function(){var e=l.find("input[type='checkbox']").prop("checked");a.find("input[type='checkbox']").attr("disabled","disabled"),e&&a.find("input[type='checkbox']").attr("disabled",!e)};l.on("change",d),d(),le(i.find("#meeting_address"));var u=i.find("#meeting_registration_type"),s=i.find("#meeting_registration_url"),f=function(e,t,n){var r=e.val();t.toggle(r===n)};u.on("change",(function(e){var t=$(e.target);f(t,s,"on_different_platform")})),f(u,s,"on_different_platform");var p=i.find("#meeting_type_of_meeting"),v=i.find(".field[data-meeting-type='online']"),h=i.find(".field[data-meeting-type='in_person']"),b=i.find(".field[data-meeting-type='online-access-level']"),y=i.find("#meeting_iframe_embed_type"),S=function(e,t,n){var r=e.val();"hybrid"===r?t.show():(t.hide(),r===n&&t.show())};p.on("change",(function(e){var t=$(e.target),n=$("#meeting_iframe_embed_type select").val();S(t,v,"online"),S(t,h,"in_person"),"none"===n?b.hide():S(t,b,"online")})),S(p,v,"online"),S(p,h,"in_person"),ie({controllerField:y,wrapperSelector:".iframe-fields",dependentFieldsSelector:".iframe-fields--access-level",dependentInputSelector:"input",enablingCondition:function(e){return"none"!==e.find("select").val()}})}}));n(39660);$((function(){var e=$('[name="meeting_registration_invite[existing_user]"');ie({controllerField:e,wrapperSelector:".attendee-fields",dependentFieldsSelector:".attendee-fields--new-user",dependentInputSelector:"input",enablingCondition:function(){return $("#meeting_registration_invite_existing_user_false").is(":checked")}}),ie({controllerField:e,wrapperSelector:".attendee-fields",dependentFieldsSelector:".attendee-fields--user-picker",dependentInputSelector:"input",enablingCondition:function(){return $("#meeting_registration_invite_existing_user_true").is(":checked")}})}))},5973:function(){$((function(){var e=$(".destroy-meeting-alert");e.length>0&&e.on("click",(function(){var t="".concat(e.data("invalid-destroy-message")," \n\n");t+=e.data("proposal-titles").replace(/\n\s/g,"\n"),alert(t)}))}))},39660:function(){$((function(){var e=$(".edit_meeting_registrations");if(e.length>0){var t=e.find("#meeting_registrations_enabled"),n=e.find("#meeting_available_slots"),r=e.find("#meeting_reserved_slots"),i=e.find("#meeting_customize_registration_email"),o=function(){var o=t.prop("checked");n.attr("disabled",!o),r.attr("disabled",!o),i.attr("disabled",!o),e.find(".editor-container").each((function(e,t){Quill.find(t).enable(o)}))};t.on("change",o),o()}}))}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,e=[],r.O=function(t,n,i,o){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var a=!0,c=0;c<n.length;c++)(!1&o||l>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(a=!1,o<l&&(l=o));if(a){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={597:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,l=n[0],a=n[1],c=n[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(c)var u=c(r)}for(t&&t(n);d<l.length;d++)o=l[d],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunkapp=self.webpackChunkapp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i=r.O(void 0,[2415,4112,8860],(function(){return r(30411)}));i=r.O(i)}();
//# sourceMappingURL=decidim_meetings_admin-d6ccd6c8956ff8c48bd8.js.map