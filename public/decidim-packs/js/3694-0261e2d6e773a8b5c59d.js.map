{"version":3,"file":"js/3694-0261e2d6e773a8b5c59d.js","mappings":"mNACA,IAAMA,EAAc,SAACC,GACnB,IAAMC,EAAUC,SAASC,cAAc,eAEvCH,EAAII,iBACJH,EAAQI,UAAUC,OAAO,cAC3B,E,w0BCL0D,IAEpDC,EAAiBC,GAYrB,SAAAD,EAAYE,EAAkBC,I,4FAASC,CAAA,KAAAJ,GACjCK,EAAEH,GAAkBI,OAAS,IAC/BC,EAAAA,EAAAA,GAASL,EAAkBC,GAAS,GAAGK,iBAAiB,cAAc,SAACC,GACrE,IAAMC,EAAYL,EAAEI,EAAME,QAAQC,WAE9BT,EAAQU,cACVV,EAAQU,aAAaH,EAEzB,GAEJ,IAGa,SAASI,EAAeZ,EAAkBC,GACvD,OAAO,IAAIH,EAAkBE,EAAkBC,EACjD,C,swBC5BA,IAAMY,EAAY,UAWZC,EAAmB,CACvBC,kBAAmB,CACjBC,IAAI,YAADC,OAAcJ,EAAS,cAC1BK,MAAM,YAADD,OAAcJ,EAAS,gBAE9BM,eAAgB,CACdH,IAAI,GAADC,OAAKJ,EAAS,mBACjBK,MAAM,GAADD,OAAKJ,EAAS,sBAGnBO,EAAWN,EAEMO,EAAqB,WAkFvC,O,EA7ED,SAAAA,EAAYC,GAAQ,IAADC,EAAA,M,4FAAArB,CAAA,KAAAmB,GACjBG,KAAKC,OAASH,EACdE,KAAKE,QAAUvB,EAAEqB,KAAKC,OAAOE,KAAK,yBAClCH,KAAKI,cAAgBC,SAASL,KAAKC,OAAOK,KAAK,aAAc,IAC7DN,KAAKO,cAAgBF,SAASL,KAAKC,OAAOK,KAAK,aAAc,IAC7DN,KAAKQ,kBAAiD,WAA7BR,KAAKC,OAAOK,KAAK,SAAwE,qBAAzCN,KAAKC,OAAOK,KAAK,oBAGtFN,KAAKO,cAAgB,IACnBP,KAAKO,cAAgB,IACvBP,KAAKS,kBAAoBC,KAAKC,MA9BF,GA8BQX,KAAKO,eAEzCP,KAAKS,kBAAoB,GAI3BT,KAAKY,uBAlCyB,KAoC9BZ,KAAKS,kBAAoB,EACzBT,KAAKY,uBAAyB,GAGhC,IAAIC,EAAWb,KAAKE,QAAQI,KAAK,MACT,qBAAbO,IAEPA,EADEb,KAAKC,OAAOK,KAAK,OAASN,KAAKC,OAAOK,KAAK,MAAM1B,OAAS,EACpD,GAAAa,OAAMO,KAAKC,OAAOK,KAAK,MAAK,eAE5B,cAAAb,OAAiBiB,KAAKI,SAASC,SAAS,IAAIC,OAAO,EAAG,KAI9DhB,KAAKE,QAAQtB,OAAS,EACxBoB,KAAKE,QAAQI,KAAK,KAAMO,IAExBb,KAAKE,QAAUvB,EAAE,aAADc,OAAcoB,EAAQ,yCAGlCb,KAAKC,OAAOgB,SAASC,GAAG,WAC1BlB,KAAKC,OAAOgB,SAASE,MAAMnB,KAAKE,SAKhCF,KAAKC,OAAOgB,SAASC,GAAG,aACxBlB,KAAKC,OAAOgB,SAASA,SAASC,GAAG,QAEjClB,KAAKC,OAAOgB,SAASA,SAASE,MAAMnB,KAAKE,SAEzCF,KAAKC,OAAOkB,MAAMnB,KAAKE,UAIvBF,KAAKE,QAAQtB,OAAS,IAAMoB,KAAKO,cAAgB,GAAKP,KAAKI,cAAgB,KAG7EJ,KAAKoB,UAAYzC,EAAE,2BAADc,OACWoB,EAAQ,6DAErCb,KAAKE,QAAQmB,OAAOrB,KAAKoB,WACzBpB,KAAKE,QAAQI,KAAK,cAAe,QAEjCN,KAAKsB,WAAatB,KAAKC,OAKnBsB,OAASvB,KAAKC,OAAOgB,SAASC,GAAG,WAEnCM,YAAW,WACTzB,EAAK0B,OAASF,MAAMG,KAAK3B,EAAKE,OAAO0B,SAAS,qBAAqB,IACnE5B,EAAKuB,WAAa3C,EAAEoB,EAAK0B,OAAOG,MAChC7B,EAAK8B,YACP,IAEA7B,KAAK6B,aAGX,E,EAAC,EAAAC,IAAA,aAAAC,MAED,WACE/B,KAAKgC,oBACLhC,KAAKiC,oBAAsBjC,KAAKkC,YAEhClC,KAAKmC,aACLnC,KAAKoC,gBAAe,EACtB,GAAC,CAAAN,IAAA,iBAAAC,MAED,SAAeM,GACRrC,KAAKQ,oBAIN6B,EACFrC,KAAKsB,WAAWhB,KAAK,mBAAoBN,KAAKoB,UAAUd,KAAK,OAE7DN,KAAKsB,WAAWgB,WAAW,oBAE/B,GAAC,CAAAR,IAAA,aAAAC,MAED,WAAc,IAADQ,EAAA,KACPvC,KAAKyB,OACPzB,KAAKyB,OAAOe,GAAG,eAAe,WAC5BD,EAAKE,aACP,IAEAzC,KAAKsB,WAAWkB,GAAG,SAAS,WAC1BD,EAAKE,aACP,IAGFzC,KAAKsB,WAAWkB,GAAG,SAAS,WAC1BD,EAAKG,cACP,IACA1C,KAAKsB,WAAWkB,GAAG,SAAS,WAC1BD,EAAKI,0BACP,IACA3C,KAAKsB,WAAWkB,GAAG,QAAQ,WACzBD,EAAKI,2BACLJ,EAAKH,gBAAe,EACtB,IAC+B,OAA3BpC,KAAKsB,WAAWsB,IAAI,IACtB5C,KAAKsB,WAAWsB,IAAI,GAAG9D,iBAAiB,eAAe,WACrDyD,EAAKG,cACP,IAEF1C,KAAK0C,eACL1C,KAAK2C,0BACP,GAAC,CAAAb,IAAA,iBAAAC,MAED,WACE,OAAO/B,KAAKkC,WACd,GAAC,CAAAJ,IAAA,oBAAAC,MAED,WACE/B,KAAKiC,oBAAsBjC,KAAKkC,YAC5BlC,KAAKyB,OACPzB,KAAKkC,YAAclC,KAAKyB,OAAOoB,YAE/B7C,KAAKkC,YAAclC,KAAKC,OAAO6C,MAAMlE,MAEzC,GAAC,CAAAkD,IAAA,cAAAC,MAED,WACE/B,KAAKgC,oBACLhC,KAAK+C,0BAKL/C,KAAKoC,gBAAe,EACtB,GAEA,CAAAN,IAAA,oBAAAC,MAOA,WACE,OAAI/B,KAAKkC,YAAclC,KAAKiC,oBACnB,MAGF,KACT,GAAC,CAAAH,IAAA,wBAAAC,MAED,WACE,IAAMiB,EAAgBhD,KAAKiD,iBAC3B,GAAIjD,KAAKO,cAAgB,GACvB,OAAOyC,EACF,GAAIhD,KAAKO,cAAgByC,GAAiBhD,KAAKY,uBACpD,OAAOoC,EAGT,IAAME,EAAWF,EAAgBA,EAAgBhD,KAAKS,kBAUtD,GAAiC,QAA7BT,KAAKmD,oBAA+B,CAGtC,GAAID,IAAaF,EACf,OAAOE,EAIF,GAAIlD,KAAKO,cAAgB2C,IAAalD,KAAKS,kBAChD,OAAOT,KAAKoD,aAAeJ,EAKtB,GAAIE,EAAWF,EACpB,OAAOE,EAAWlD,KAAKS,iBAQ3B,MAAO,GAAIyC,EAAWlD,KAAKoD,YACzB,OAAOpD,KAAKoD,YAGd,OAAOF,CACT,GAAC,CAAApB,IAAA,cAAAC,MAED,WAAmC,IAC3BsB,EAAe,GACjBnB,EAFmBoB,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAO1B,GAJoB,OAAhBpB,IACFA,EAAclC,KAAKiD,kBAGjBjD,KAAKI,cAAgB,EAAG,CAC1B,IAAIoD,EAAU5D,EAASL,kBAAkBG,MACd,IAAvBM,KAAKI,gBACPoD,EAAU5D,EAASL,kBAAkBC,KAEvC6D,EAAaI,KAAKD,EAAQE,QAAQrE,EAAWW,KAAKI,eACpD,CAEA,GAAIJ,KAAKO,cAAgB,EAAG,CAC1B,IAAMoD,EAAY3D,KAAKO,cAAgB2B,EACnC0B,EAAUhE,EAASD,eAAeD,MACpB,IAAdiE,IACFC,EAAUhE,EAASD,eAAeH,KAEpCQ,KAAKC,OAAO,GAAG4D,cACb,IAAIC,YAAY,mBAAoB,CAACC,OAAQ,CAACJ,UAAWA,MAE3DN,EAAaI,KAAKG,EAAQF,QAAQrE,EAAWsE,GAC/C,CAEA,OAAON,CACT,GAAC,CAAAvB,IAAA,eAAAC,MAED,WACE/B,KAAKE,QAAQ8D,KAAKhE,KAAKiE,cAAcC,KAAK,MAC5C,GAAC,CAAApC,IAAA,0BAAAC,MAED,WACE,KAAI/B,KAAKO,cAAgB,GAAzB,CAIA,IAAMyC,EAAgBhD,KAAKmE,wBACvBnB,IAAkBhD,KAAKoD,cAI3BpD,KAAKoD,YAAcJ,EACnBhD,KAAK2C,yBAAyBK,GAR9B,CASF,GAAC,CAAAlB,IAAA,2BAAAC,MAED,WAAgD,IAAvBiB,EAAaM,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,KACvCtD,KAAKoB,UAAU4C,KAAKhE,KAAKiE,YAAYjB,GAAekB,KAAK,MAC3D,I,EAAC,EAAApC,IAAA,oBAAAC,MA7QD,SAAyBqC,GACvBxE,EAAWjB,EAAE0F,OAAO/E,EAAkB8E,EACxC,I,4FAAC,CAHuC,G,6sBAuR1CzF,GAAE,WACAA,EAAE,8DAA8D2F,MAAK,SAACC,EAAIC,GACxE,IAAMvE,EAAStB,EAAE6F,IAEZvE,EAAOiB,GAAG,gBAAmBjB,EAAOiB,GAAG,iBAVjB,SAACjB,GACR,qBAAXA,GAA0BA,EAAOrB,QAC1CqB,EAAOE,KAAK,+BAAgC,IAAIN,EAAsBI,GAE1E,CAUIwE,CAAuBxE,EACzB,GACF,I,IC1TqByE,EAAuB,WAOzC,O,EAND,SAAAA,IAA2B,IAAfjG,EAAO6E,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,G,4FAAC5E,CAAA,KAAAgG,GACtB1E,KAAK2E,iBAAmBlG,EAAQkG,iBAChC3E,KAAK4E,oBAAsBnG,EAAQmG,oBACnC5E,KAAK6E,sBAAwBpG,EAAQoG,sBACrC7E,KAAK8E,aACL9E,KAAK+E,SACP,G,EAAC,EAAAjD,IAAA,UAAAC,MAED,WAAW,IAADhC,EAAA,KACRC,KAAK2E,iBAAiBL,MAAK,SAACU,EAAKC,GAC/BlF,EAAKmF,IAAID,EACX,GACF,GAAC,CAAAnD,IAAA,MAAAC,MAED,SAAI9C,GACF,IAAIiB,EAAUvB,EAAEM,GACZ2F,EAAsB5E,KAAK4E,oBAC3B7C,EAAQ7B,EAAQ4C,MAGhBqC,EADQjF,EAAQkF,QAAQpF,KAAK6E,uBACXnD,KAAK,IAADjC,OAAKmF,IAC3BS,EAAmBF,EAAUG,OAAO,IAAD7F,OAAKmF,EAAmB,KAAAnF,OAAIsC,IAEnEoD,EAAUzD,KAAK,yBAAyB6D,KAAK,YAAY,GACzDJ,EAAUK,OAEVH,EAAiB3D,KAAK,yBAAyB6D,KAAK,YAAY,GAChEF,EAAiBI,MACnB,GAAC,CAAA3D,IAAA,aAAAC,MAED,WAAc,IAADQ,EAAA,KACXvC,KAAK2E,iBAAiBnC,GAAG,UAAU,SAACzD,GAClCwD,EAAK2C,IAAInG,EAAME,OACjB,GACF,M,yFAAC,CAnCyC,G,6sBCY5CyG,OAAOC,QAAUD,OAAOC,SAAW,CAAC,EACpCD,OAAOC,QAAQC,iBCTA,WACU,IAAIlB,EAAwB,CACjDC,iBAAkBhG,EAAE,sDACpBiG,oBAAqB,wBACrBC,sBAAuB,SAGVK,KACjB,EDEAQ,OAAOC,QAAQE,OAAS,IAAIC,EAAAA,EAC5BJ,OAAOC,QAAQ9F,sBAAwBA,EAEvClB,GAAE,WJTa,IACPoH,EISNL,OAAOM,cAAgB,IAAIC,EAAAA,EAAWtH,EAAE,iBAExCA,EAAEV,UAAUiI,cJXNH,EAAa9H,SAASC,cAAc,mBAExC6H,EAAWjH,iBAAiB,QAAShB,GIavCsB,EAAe,eAAgB,CAC7B+G,YAAaxH,EAAE,yFAAyF,GACxGQ,aAAc,SAACH,GACb,IAAMoH,EAAUzH,EAAE,gBAAgBwB,KAAK,YACjCkG,EAAQrH,EAAUsH,KAAI,SAACC,EAAOC,GAAK,OAAK7H,EAAE6H,GAAOrG,KAAK,KAAK,IAAEsG,UAEnE9H,EAAE+H,KAAK,CACLC,OAAQ,OACRC,IAAKR,EACLS,YAAa,mBACb1G,KAAM2G,KAAKC,UAAU,CAAEC,UAAWX,KAEtC,KAGFY,EAAAA,EAAAA,KAEAtI,EAAE,qBAAqB2F,MAAK,SAAC4C,EAAMC,IACjCC,EAAAA,EAAAA,GAAkBD,EACpB,IAEAxI,EAAE,mBAAmB2F,MAAK,WACL,IAAI+C,EAAAA,EAAoB1I,EAAEqB,OAElCsH,gBACb,GACF,I,IElDqBC,EAA4B,WAO9C,O,EAND,SAAAA,IAA2B,IAAf9I,EAAO6E,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,G,4FAAC5E,CAAA,KAAA6I,GACtBvH,KAAK2E,iBAAmBlG,EAAQkG,iBAChC3E,KAAK4E,oBAAsBnG,EAAQmG,oBACnC5E,KAAK6E,sBAAwBpG,EAAQoG,sBACrC7E,KAAK8E,aACL9E,KAAK+E,SACP,G,EAAC,EAAAjD,IAAA,UAAAC,MAED,WAAW,IAADhC,EAAA,KACRC,KAAK2E,iBAAiBL,MAAK,SAACU,EAAKC,GAC/BlF,EAAKmF,IAAID,EACX,GACF,GAAC,CAAAnD,IAAA,MAAAC,MAED,SAAI9C,GACF,IAAIiB,EAAUvB,EAAEM,GACZ2F,EAAsB5E,KAAK4E,oBAC3B7C,EAAQ7B,EAAQ4C,MAGhBuC,EADQnF,EAAQkF,QAAQpF,KAAK6E,uBACJnD,KAAK,IAADjC,OAAKmF,EAAmB,KAAAnF,OAAIsC,IAEzD7B,EAAQqF,KAAK,YACfF,EAAiB3D,KAAK,yBAAyB6D,KAAK,YAAY,GAChEF,EAAiBI,SAEjBJ,EAAiB3D,KAAK,yBAAyB6D,KAAK,YAAY,GAChEF,EAAiBG,OAErB,GAAC,CAAA1D,IAAA,aAAAC,MAED,WAAc,IAADQ,EAAA,KACXvC,KAAK2E,iBAAiBnC,GAAG,UAAU,SAACzD,GAClCwD,EAAK2C,IAAInG,EAAME,OACjB,GACF,M,yFAAC,CApC8C,GCEjDN,GAAE,WAC4B,IAAI4I,EAA6B,CAC3D5C,iBAAkBhG,EAAE,mDACpBiG,oBAAqB,wBACrBC,sBAAuB,aAGLK,KACtB,I,ovBCVqBsC,EAA0B,WAI5C,O,EAHD,SAAAA,IAA2B,IAAf/I,EAAO6E,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,G,4FAAC5E,CAAA,KAAA8I,GACtBxH,KAAKyH,eAAiBhJ,EAAQgJ,eAC9BzH,KAAK+E,SACP,G,EAAC,EAAAjD,IAAA,UAAAC,MAED,WAAW,IAADhC,EAAA,KACRC,KAAKyH,eAAenD,MAAK,SAACC,EAAImD,GAC5B3H,EAAK+E,WAAW4C,GAChB3H,EAAKmF,IAAIwC,EACX,GACF,GAAC,CAAA5F,IAAA,aAAAC,MAED,SAAW9C,GAAS,IAADsD,EAAA,KACjB5D,EAAEM,GAAQuD,GAAG,UAAU,SAACzD,GACtBwD,EAAK2C,IAAInG,EAAME,OACjB,GACF,GAAC,CAAA6C,IAAA,MAAAC,MAED,SAAI9C,GAAS,IAAD0I,EAAA,KACV3H,KAAK4H,gBAAgB3I,GAEjBN,EAAEM,GAAQsG,KAAK,YACjBvF,KAAKyH,eAAenC,QAClB,SAACf,EAAImD,GACH,OAAOA,IAAazI,CACtB,IAAGsG,KAAK,WAAW,GAAOjB,MAC1B,SAACC,EAAImD,GACHC,EAAKC,gBAAgBF,EACvB,GAEN,GAAC,CAAA5F,IAAA,kBAAAC,MAED,SAAgB9C,GACd,IAAMkI,EAAYxI,EAAEM,GAAQ4I,QAAQ,OACpC,KAAIV,EAAUvI,OAAS,GAAvB,CAGA,IAAMkJ,EAAuBX,EAAU7G,KAAK,SAC1CoD,QAAQ,cAAe,SACvBA,QAAQ,sBAAuB,IAC3B5D,EAAQnB,EAAE,YAADc,OAAaqI,EAAoB,4BAE5CnJ,EAAEM,GAAQsG,KAAK,WACjBzF,EAAMiI,YAENjI,EAAMkI,SATR,CAWF,M,yFAAC,CAhD4C,G,6sBCO/CrJ,GAAE,WAC0B,IAAI6I,EAA2B,CACvDC,eAAgB9I,EAAE,gDAGFuG,MAGSvG,EAAE,6BAEVsJ,OAAM,SAAClJ,GAExB,OADAA,EAAMZ,kBACC,CACT,IAWA,IAAM+J,EAAqBvJ,EAAE,+CAE7B,GAAIuJ,EAAmBtJ,OAAS,EAAG,CACjC,IAAMuJ,EAAyBxJ,EAAE,kMAE7BuJ,EAAmBhH,GAAG,mBACxBiH,EAAuB3C,OAGzB0C,EAAmBD,OAAM,WACvBE,EAAuB9J,QACzB,GACF,CACF,I,IC5CqB+J,EAA8B,WAOhD,O,EAND,SAAAA,IAA2B,IAAf3J,EAAO6E,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,G,4FAAC5E,CAAA,KAAA0J,GACtBpI,KAAKqI,aAAe5J,EAAQ4J,aAC5BrI,KAAKsI,oBAAsB7J,EAAQ6J,oBACnCtI,KAAKuI,mBAAqB9J,EAAQ8J,mBAElCvI,KAAKkF,KACP,G,EAAC,EAAApD,IAAA,MAAAC,MAED,WACE,IAAMyG,EAAQ7J,EAAEqB,KAAKqI,cACfI,EAAczI,KAAKsI,oBACnBI,EAAa1I,KAAKuI,mBAExB,GAAqB,IAAjBC,EAAM5J,OAAc,CACtB,IAAM+J,EAAQH,EAAMI,QAEpBD,EAAMjH,KAAK+G,GAAajD,OACxBmD,EAAMjH,KAAKgH,GAAYlD,MACzB,MACEgD,EAAMlE,MAAK,SAACU,EAAKC,GACXA,EAAG4D,KAAOL,EAAMI,QAAQtI,KAAK,OAC/B3B,EAAEsG,GAAIvD,KAAK+G,GAAajD,OACxB7G,EAAEsG,GAAIvD,KAAKgH,GAAYjD,QAEhBR,EAAG4D,KAAOL,EAAMM,OAAOxI,KAAK,OACnC3B,EAAEsG,GAAIvD,KAAKgH,GAAYlD,OACvB7G,EAAEsG,GAAIvD,KAAK+G,GAAahD,SAGxB9G,EAAEsG,GAAIvD,KAAKgH,GAAYjD,OACvB9G,EAAEsG,GAAIvD,KAAK+G,GAAahD,OAE5B,GAEJ,M,yFAAC,CAnCgD,G,itBCA9BsD,EAA4B,WAO9C,O,EAND,SAAAA,IAA2B,IAAftK,EAAO6E,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,G,4FAAC5E,CAAA,KAAAqK,GACtB/I,KAAKqI,aAAe5J,EAAQ4J,aAC5BrI,KAAKgJ,cAAgBvK,EAAQuK,cAC7BhJ,KAAKiJ,mBAAqBxK,EAAQwK,mBAElCjJ,KAAKkF,KACP,G,EAAC,EAAApD,IAAA,MAAAC,MAED,WAAO,IAADhC,EAAA,KACUpB,EAAEqB,KAAKqI,cAEf/D,MAAK,SAACU,EAAKC,GACf,IAAMiE,EAASvK,EAAEsG,GAAIvD,KAAK3B,EAAKiJ,eACzBG,EAAeD,EAAOE,OAExBD,EAAaE,MAAM,UACrBH,EAAOE,KAAKD,EAAazF,QAAQ,SAAS,IAADjE,OAAMuF,EAAM,KAErDkE,EAAOE,KAAK,GAAD3J,OAAI0J,EAAY,MAAA1J,OAAKuF,EAAM,IAGpCjF,EAAKkJ,oBACPlJ,EAAKkJ,mBAAmBhE,EAAID,EAEhC,GACF,M,yFAAC,CA1B8C,G,6sBCAf,IAC5BsE,EAAsB,WAuBzB,O,EAtBD,SAAAA,IAA2B,IAAf7K,EAAO6E,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,G,4FAAC5E,CAAA,KAAA4K,GACtBtJ,KAAKuJ,gBAAkB9K,EAAQ8K,gBAC/BvJ,KAAKwJ,kBAAoB/K,EAAQ+K,kBACjCxJ,KAAKyJ,cAAgBhL,EAAQgL,cAC7BzJ,KAAK0J,uBAAyBjL,EAAQiL,uBACtC1J,KAAK2J,2BAA6BlL,EAAQkL,2BAC1C3J,KAAK4J,qCAAuCnL,EAAQmL,qCACpD5J,KAAK6J,sBAAwBpL,EAAQoL,sBACrC7J,KAAK8J,0BAA4BrL,EAAQqL,0BACzC9J,KAAK+J,oCAAsCtL,EAAQsL,oCACnD/J,KAAKgK,0BAA4BvL,EAAQuL,0BACzChK,KAAKiK,0BAA4BxL,EAAQwL,0BACzCjK,KAAKkK,4BAA8BzL,EAAQyL,4BAC3ClK,KAAKmK,WAAa1L,EAAQ0L,WAC1BnK,KAAKoK,cAAgB3L,EAAQ2L,cAC7BpK,KAAKqK,cAAgB5L,EAAQ4L,cAC7BrK,KAAKsK,gBAAkB7L,EAAQ6L,gBAC/BtK,KAAKuK,cAAgB9L,EAAQ8L,cAC7BvK,KAAKwK,eAAiB,EACtBxK,KAAKyK,uBACLzK,KAAK0K,kBACL1K,KAAK2K,aACP,E,EAAC,EAAA7I,IAAA,uBAAAC,MAED,WACEpD,EAAEiM,GAAGC,iBAAmB,SAASC,EAAW3E,EAAapE,GAKvD,OAJApD,EAAEqB,MAAM0B,KAAK,IAADjC,OAAKqL,EAAS,MAAArL,OAAK0G,EAAW,MAAK4E,QAAQ,IAADtL,OAAKqL,EAAS,MAAArL,OAAK0G,EAAW,MAAK7B,MAAK,SAACiC,EAAOyE,GACpGrM,EAAEqM,GAAS1K,KAAKwK,EAAWnM,EAAEqM,GAAS1K,KAAKwK,GAAWpH,QAAQyC,EAAapE,GAC7E,IAEO/B,IACT,EAEArB,EAAEiM,GAAGK,SAAW,SAAS9E,EAAapE,GAGpC,IAAMmJ,EAAevM,EAAEqB,MAAM0B,KAAK,+BAE9BwJ,EAAatM,OAAS,GACxBsM,EAAa9B,MAAK,SAAC7C,EAAO4E,GAAO,OAAKxM,EAAEwM,GAASF,SAAS9E,EAAapE,GAAO,GAAGqJ,SAAS,IAK5F,IAAMC,EAAsB1M,EAAEqB,MAAM0B,KAAK,mBA4BzC,OA1BI2J,EAAoBzM,OAAS,GAC/ByM,EAAoB/G,MAAK,SAACC,EAAIC,GAC5B,IAAM8G,EAAQ3M,EAAE6F,GACV+G,EAAO5M,EAAE2M,EAAMnL,KAAK,aAIpBqL,EAAU7M,EAAE4M,EAAK,GAAGH,WACpBK,EAAa,GAAAhM,OAAM8L,EAAKjL,KAAK,MAAK,KAAAb,OAAIsC,GACtC2J,EAAmB,IAAAjM,OAAOgM,GAChCD,EAAQlL,KAAK,KAAMmL,GACnBH,EAAMhL,KAAK,gBAAiBoL,GAAqBvL,KAAK,WAAYuL,GAClEH,EAAKpK,MAAMqK,GAEXA,EAAQpC,MAAK,SAAC7C,EAAO4E,GAAO,OAAKxM,EAAEwM,GAASF,SAAS9E,EAAapE,GAAO,GAAGqJ,SAAS,GACvF,IAGFzM,EAAEqB,MAAM6K,iBAAiB,KAAM1E,EAAapE,GAC5CpD,EAAEqB,MAAM6K,iBAAiB,OAAQ1E,EAAapE,GAC9CpD,EAAEqB,MAAM6K,iBAAiB,oBAAqB1E,EAAapE,GAC3DpD,EAAEqB,MAAM6K,iBAAiB,MAAO1E,EAAapE,GAC7CpD,EAAEqB,MAAM6K,iBAAiB,UAAW1E,EAAapE,GACjDpD,EAAEqB,MAAM6K,iBAAiB,OAAQ1E,EAAapE,GAC9CpD,EAAEqB,MAAM6K,iBAAiB,QAAS1E,EAAapE,GAExC/B,IACT,CACF,GAAC,CAAA8B,IAAA,cAAAC,MAED,WAAe,IAADhC,EAAA,KACZpB,EAAEqB,KAAKuJ,iBAAiB/G,GAAG,QAASxC,KAAK0J,wBAAwB,SAAC3K,GAAK,OACrEgB,EAAK4L,eAAe5M,GAAO,kBAAMgB,EAAK6L,UAAU7L,EAAK8J,sBAAsB,GAAC,IAG1E7J,KAAK2J,4BACPhL,EAAEqB,KAAKuJ,iBAAiB/G,GAAG,QAASxC,KAAK2J,4BAA4B,SAAC5K,GAAK,OACzEgB,EAAK4L,eAAe5M,GAAO,kBAAMgB,EAAK6L,UAAU7L,EAAK+J,0BAA0B,GAAC,IAIhF9J,KAAK4J,sCACPjL,EAAEqB,KAAKuJ,iBAAiB/G,GAAG,QAASxC,KAAK4J,sCAAsC,SAAC7K,GAAK,OACnFgB,EAAK4L,eAAe5M,GAAO,kBAAMgB,EAAK6L,UAAU7L,EAAKgK,oCAAoC,GAAC,IAI9FpL,EAAEqB,KAAKuJ,iBAAiB/G,GAAG,QAASxC,KAAKgK,2BAA2B,SAACjL,GAAK,OACxEgB,EAAK4L,eAAe5M,GAAO,SAACE,GAAM,OAAKc,EAAK8L,aAAa5M,EAAO,GAAC,IAG/De,KAAKiK,2BACPtL,EAAEqB,KAAKuJ,iBAAiB/G,GAAG,QAASxC,KAAKiK,2BAA2B,SAAClL,GAAK,OACxEgB,EAAK4L,eAAe5M,GAAO,SAACE,GAAM,OAAKc,EAAK+L,aAAa7M,EAAO,GAAC,IAIjEe,KAAKkK,6BACPvL,EAAEqB,KAAKuJ,iBAAiB/G,GAAG,QAASxC,KAAKkK,6BAA6B,SAACnL,GAAK,OAC1EgB,EAAK4L,eAAe5M,GAAO,SAACE,GAAM,OAAKc,EAAKgM,eAAe9M,EAAO,GAAC,GAGzE,GAAC,CAAA6C,IAAA,iBAAAC,MAED,SAAehD,EAAOiN,GACpBjN,EAAMZ,iBACNY,EAAMkN,kBAEN,IACE,OAAOD,EAAGjN,EAAME,OAClB,CAAE,MAAOiN,GAEP,OADAC,QAAQD,MAAMA,GACPA,CACT,CACF,GAKA,CAAApK,IAAA,YAAAC,MACA,WAAgD,IAAtCqK,EAAa9I,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,oBAClB+I,EAAW1N,EAAEqB,KAAKuJ,iBAClB+C,EAAaD,EAAS3K,KAAK1B,KAAKwJ,mBAMhC+C,EAAmBF,EAASlM,KAAK,YACnCqM,EAAY,KACZD,IACFC,EAAY7N,EAAE4N,KAEE,OAAdC,GAAsBA,EAAU5N,OAAS,KAM3C4N,EAAYH,EAASnN,SAAS,aAADO,OAAc2M,KAG7C,IAAMK,EAAY9N,EAAE6N,EAAUpD,QAAQ6B,SAASjL,KAAKuK,cAAevK,KAAK0M,WAExED,EAAU/K,KAAK,WAAWpB,KAAK,aAAa,GAE5C,IAAMqM,EAAgBL,EAAW5K,KAAK1B,KAAKyJ,eAAeX,OACtD6D,EAAc/N,OAAS,EACzB+N,EAAcxL,MAAMsL,GAEpBA,EAAUG,SAASN,GAGrBG,EAAUvG,aAENlG,KAAKmK,YACPnK,KAAKmK,WAAWsC,EAEpB,GAAC,CAAA3K,IAAA,eAAAC,MAED,SAAa9C,GACX,IACM4N,EADUlO,EAAEM,GACYmG,QAAQpF,KAAKyJ,eAG3C,GAFgBoD,EAAcnL,KAAK,SAAS4D,QAAO,SAACN,EAAKlF,GAAK,OAAKA,EAAMgN,KAAKzD,MAAM,KAAK,IAE7EzK,OAAS,EAAG,CACtB,IAAMmO,EAAeF,EAAcnL,KAAK,SAAS4D,QAAO,SAACN,EAAKlF,GAAK,OAAKA,EAAMgN,KAAKzD,MAAM,SAAS,IAE9F0D,EAAanO,OAAS,GACxBD,EAAEoO,EAAa,IAAIjK,KAAI,GAGzB+J,EAAcG,SAAS,UACvBH,EAAcrH,MAChB,MACEqH,EAAcI,SAGZjN,KAAKoK,eACPpK,KAAKoK,cAAcyC,EAEvB,GAAC,CAAA/K,IAAA,eAAAC,MAED,SAAa9C,GACX,IACMiO,EADUvO,EAAEM,GACYmG,QAAQpF,KAAKyJ,eAE3CyD,EAAcC,OAAO9L,OAAO6L,GAExBlN,KAAKqK,eACPrK,KAAKqK,cAAc6C,EAEvB,GAAC,CAAApL,IAAA,iBAAAC,MAED,SAAe9C,GACb,IACMmO,EADUzO,EAAEM,GACcmG,QAAQpF,KAAKyJ,eAE7C2D,EAAgBC,OAAOlM,MAAMiM,GAEzBpN,KAAKsK,iBACPtK,KAAKsK,gBAAgB8C,EAEzB,GAAC,CAAAtL,IAAA,kBAAAC,MAED,WAAmB,IAADQ,EAAA,KAMV+J,EADW3N,EAAEqB,KAAKuJ,iBACI7H,KAAK1B,KAAKwJ,mBACtC8C,EAAWgB,OAAOhB,EAAW5K,KAAK,WAElC/C,EAAEqB,KAAKyJ,eAAenF,MAAK,SAACU,EAAKC,GAC/BtG,EAAEsG,GAAIgG,SAAS1I,EAAKgI,cAAehI,EAAKmK,WAExC/N,EAAEsG,GAAIvD,KAAK,WAAWpB,KAAK,aAAa,EAC1C,GACF,GAAC,CAAAwB,IAAA,UAAAC,MAED,WAGE,OAFA/B,KAAKwK,gBAAkB,GAEf,IAAI+C,MAAOC,UAAaxN,KAAKwK,cACvC,I,4FAAC,CAxOyB,GCI5B7L,GAAE,WACgC,CAC9B,CACE8O,cAAe,qBACflE,gBAAiB,oBACjBE,cAAe,mBACfiE,iBAAkB,yBAIEC,SAAQ,SAACC,GAC/B,ID4NwCnP,EC5NlCoP,EAAsBD,EAAQnE,cAAc/F,QAAQ,IAAK,IAEzDoK,EAAwB,IAAI1F,EAA+B,CAC/DC,aAAa,GAAD5I,OAAKmO,EAAQnE,cAAa,iBACtCnB,oBAAqB,oBACrBC,mBAAoB,wBAGhBwF,EAAsB,IAAIhF,EAA6B,CAC3DV,aAAa,GAAD5I,OAAKmO,EAAQnE,cAAa,iBACtCT,cAAe,yBACfC,mBAAoB,SAAChE,EAAID,GACvBrG,EAAEsG,GAAIvD,KAAK,+BAA+BoB,IAAIkC,EAChD,IAGIgJ,EAAqB,WACzB5O,EAAe,yCAA0C,CACvD6O,OAAQ,2BACR9H,YAAa,+DACb+H,sBAAsB,EACtB/O,aAAc,WACZ4O,EAAoB7I,MACpB4I,EAAsB5I,KACxB,GAEJ,EDkMwCzG,ECpLpB,CAClB8L,cAAeqD,EAAQH,cACvBlE,gBAAiBqE,EAAQrE,gBACzBC,kBAAkB,GAAD/J,OAAKmO,EAAQrE,gBAAe,SAC7CE,cAAemE,EAAQnE,cACvBC,uBAAwBkE,EAAQF,iBAChC1D,0BAA0B,WAADvK,OAAaoO,GACtC5D,0BAA2B,oBAC3BC,4BAA6B,sBAC7BC,WAAY,WACV6D,IAEAD,EAAoB7I,MACpB4I,EAAsB5I,KACxB,EACAkF,cAAe,SAAC+D,GACdJ,EAAoB7I,MACpB4I,EAAsB5I,MAGtBvG,EAAE,QAASwP,GAAQ7L,WAAW,WAChC,EACA+H,cAAe,WACb0D,EAAoB7I,MACpB4I,EAAsB5I,KACxB,EACAoF,gBAAiB,WACfyD,EAAoB7I,MACpB4I,EAAsB5I,KACxB,GDwJG,IAAIoE,EAAuB7K,GCrJhCuP,IAEArP,EAAEiP,EAAQnE,eAAenF,MAAK,SAAC4C,EAAMjC,IA9Cb,SAAC/E,GAGF,SAFAA,EAAQwB,KAAK,8BAA8BoB,QAG9D5C,EAAQ8M,SAAS,UACjB9M,EAAQsF,OAGR7G,EAAE,QAASuB,GAASoC,WAAW,YAEnC,CAuCE8L,CAFgBzP,EAAEsG,GAGpB,IAEA8I,EAAoB7I,MACpB4I,EAAsB5I,KACxB,GACF,I,wwBCvFAvG,GAAE,WACA,IAAM0P,EAAc1P,EAAE,mBAClB2P,EAAuB,GAE3BD,EAAY/J,MAAK,SAACiC,EAAO/B,GACvB8J,EAAoB,GAAA7O,OAAA8O,EAAOD,GAAoB,KAAA7O,OAAM+E,EAAKgK,UAAUC,MAAM,KAAKnJ,QAAO,SAACwH,GAAI,MAAM,YAAa4B,KAAK5B,EAAK,IAAE,KAC5H,IAEA7O,SAASa,iBAAiB,QAAQ,SAAUC,GAC1CsP,EAAYM,IAAI5P,EAAME,OAAO2P,eAAe5B,SAAS,WACvD,IAEA/O,SAASa,iBAAiB,WAAW,WACnCuP,EAAYQ,YAAY,WAC1B,IAtBAzP,EAwBmBkP,EAAqBpK,KAAK,MAxBvB,CACpB+J,OAAQ,KACRC,sBAAsB,EACtBY,WAAY,eAsBhB,ICxBAnQ,GAAE,WACA,IAAMoQ,EAAW,eACCpQ,EAAEoQ,GAEVzK,MAAK,SAACiC,EAAO/B,GAKrBpF,EAJcoF,EAAKqE,GAAE,IAAApJ,OACb+E,EAAKqE,IACTkG,EAEiB,CACnBd,OAAQ,KACRC,sBAAsB,EACtBc,iBAAkB,oBAEtB,GACF,I,o1CCwDArQ,GAAE,WACA,IAAMsQ,EAAmBtQ,EAAE,uBACvBsQ,EAAiBrQ,OAAS,GAI9BqQ,EAAiB3K,MAAK,SAAC4K,EAAQlE,IAhEX,SAAC/F,GACrB,IAAMY,EAASiB,KAAKqI,MAAMlK,EAAGmK,QAAQC,cAC/BC,EAAY,IAAIC,IAAI1J,EAAO2J,WAC3BC,EAAYxR,SAASyR,cAAc,SACzCD,EAAUE,KAAO,OACjBF,EAAUjB,UAAY,qBACtBvJ,EAAG2K,YAAYH,GACf,IAAII,EAAOhK,EAAOgK,MAAQ,SACtBC,EAAW,KACf,GAAIjK,EAAOiK,SACT,OAAQD,GACR,IAAK,QACHC,EAAWjK,EAAOiK,SAASxJ,KAAI,SAACyJ,GAAI,MAClC,CACEjO,IAAK,QACLC,MAAO,CACLA,MAAOgO,EAAKhO,MACZiO,MAAOD,EAAKC,OAEf,IAEH,MACF,IAAK,SACHF,EAAW,CAAEhO,IAAK,QAASC,MAAO8D,EAAOpH,QAAQoH,EAAOpH,QAAQG,OAAS,IACzE,MACF,QACEkR,EAAWjK,EAAOiK,SAiBX,IAAIG,EAAAA,EAAaR,EAAW,CACrC3C,KAAMjH,EAAOiH,KACb3G,YAAaN,EAAOM,YACpB2J,SAAUA,EACVD,KAAMA,EACNK,cAAc,EACdC,iBAAkBtK,EAAOsK,iBACzBC,UAAW,EACXC,cAAe,CAAC,SAChBC,WAtBiB,SAACC,EAAOC,GACzB,IAAMC,EAAS,IAAIC,gBAAeC,EAAAA,EAAC,CAAC,EAC/BC,OAAOC,YAAYvB,EAAUwB,eAAa,IAC7CC,KAAMR,KAERS,MAAM,GAADvR,OAAI6P,EAAU2B,QAAMxR,OAAG6P,EAAU4B,SAAQ,KAAAzR,OAAIgR,EAAO1P,YAAc,CACrE4F,OAAQ,MACRwK,QAAS,CAAE,eAAgB,sBAC1BC,MAAK,SAACC,GAAQ,OAAKA,EAASC,MAAM,IAAEF,MAAK,SAACjR,GAC3CqQ,EAASrQ,EACX,GACF,GAeF,CASIoR,CAAcvG,EAChB,GACF,IC3CAwG,IAAAA,QAEA9L,OAAO5G,iBAAiB,oBAAoB,WACjBb,SAASwT,iBAAiB,0BCzC1C9D,SAAQ,SAAC+D,GAChBA,EAAO5S,iBAAiB,UAAU,WAChC,IAAI6S,EAAwBD,EAAO3P,MAC/B6P,EAAcF,EAAO9C,cAAcA,cAAciD,mBAErDD,EAAY1T,cAAc,cAAcE,UAAU6O,OAAO,aACzD2E,EAAY1T,cAAcyT,GAAuBvT,UAAU0T,IAAI,YACjE,GACF,GDkCF,G,mBE9CAnT,GAAE,WACA,IAAMoT,EAAqBpT,EAAE,uBACvBqT,EAAuBD,EAAmBrQ,KAAK,mBAC/CuQ,EAAmBF,EAAmBrQ,KAAK,qBAC3CwQ,EAAkBD,EAAiBvQ,KAAK,YACxCyQ,EAAmBF,EAAiBvQ,KAAK,aAE/CyQ,EAAiB3M,OAEjBwM,EAAqBxP,GAAG,SAAS,WAC/B0P,EAAgB7T,SAChB8T,EAAiB9T,SAEb6T,EAAgBhR,GAAG,WACrB8Q,EAAqB5I,KAAK4I,EAAqB7R,KAAK,6BAEpD6R,EAAqB5I,KAAK4I,EAAqB7R,KAAK,6BAExD,GACF,G,mBCnBAxB,GAAE,WACA,IAAMyT,EAAQzT,EAAE,4BAEhB,GAAIyT,EAAMxT,OAAS,EAAG,CACpB,IAAMyT,EAA4BD,EAAM1Q,KAAK,iCACvC4Q,EAA6BF,EAAM1Q,KAAK,iCACxC6Q,EAAgCH,EAAM1Q,KAAK,oCAC3C8Q,EAAgCJ,EAAM1Q,KAAK,oCAE3C+Q,EAAoCH,EAA2B5Q,KAAK,0BAA0B6D,KAAK,WACnGmN,EAAuCH,EAA8B7Q,KAAK,0BAA0B6D,KAAK,WAE/G8M,EAA0B7P,GAAG,UAAU,SAACzD,GACtC,IAAM4T,EAAU5T,EAAME,OAAO0T,QACzBA,GACFL,EAA2B5Q,KAAK,0BAA0B6D,KAAK,WAAYoN,GAC3EJ,EAA8B7Q,KAAK,0BAA0B6D,KAAK,WAAYoN,GAC9EH,EAA8BhN,SAE9B8M,EAA2B5Q,KAAK,0BAA0B6D,KAAK,WAAYoN,GAC3EJ,EAA8B7Q,KAAK,0BAA0B6D,KAAK,WAAYoN,GAC9EH,EAA8B/M,OAElC,IAEA6M,EAA2B9P,GAAG,UAAU,SAACzD,GACvC,IAAM4T,EAAU5T,EAAME,OAAO0T,QACvBC,EAAkCL,EAA8B7Q,KAAK,0BAA0B6D,KAAK,WAEtGoN,GACFN,EAA0B3Q,KAAK,0BAA0B6D,KAAK,WAAYoN,GAC1EH,EAA8B/M,QACpBmN,IACVP,EAA0B3Q,KAAK,0BAA0B6D,KAAK,WAAW,GACzEiN,EAA8BhN,OAElC,IAEA+M,EAA8B/P,GAAG,UAAU,SAACzD,GAC1C,IAAM4T,EAAU5T,EAAME,OAAO0T,QACvBE,EAA+BP,EAA2B5Q,KAAK,0BAA0B6D,KAAK,WAChGoN,GACFN,EAA0B3Q,KAAK,0BAA0B6D,KAAK,WAAYoN,GAC1EH,EAA8B/M,QACpBoN,IACVR,EAA0B3Q,KAAK,0BAA0B6D,KAAK,WAAW,GACzEiN,EAA8BhN,OAElC,IAEIiN,GAAqCC,EACvCF,EAA8B/M,OAE9B+M,EAA8BhN,OAGhC7G,EAAE,2BAA2B2F,MAAK,SAASC,EAAIuO,GAC7C,IAAMC,EAAYpU,EAAEmU,GAAUpR,KAAK,kBACnCqR,EAAUC,QAAO,WACf,IAAIC,EAAiBF,EAAUrR,KAAK,mBAAmBoB,MAChC,QAAnBmQ,GACFF,EAAUrR,KAAK,UAAUiN,IAAI,UAAUpJ,KAAK,YAAY,GACxDwN,EAAUrR,KAAK,uBAAuB6D,KAAK,YAAY,IAC3B,KAAnB0N,GACTF,EAAUrR,KAAK,UAAUiN,IAAI,UAAUpJ,KAAK,YAAY,EAE5D,GACF,IAEA6M,EAAM5P,GAAG,UAAU,WACjB,IAAI0Q,EAAQd,EAAMe,gBAAgBC,WAC9BC,EAAOjB,EAAMjS,KAAK,oCAChBmT,EAAS3U,EAAE,6BACjB2U,EAAOzE,YAAY,QACnBlQ,EAAEiE,IAAIyQ,EAAM,CAAClT,KAAM+S,IAAQ,SAASK,GAClC5U,EAAE,qBAAqBqF,KAAKuP,EAC9B,IAAGC,QAAO,WACRF,EAAOtG,SAAS,OAClB,GACF,GACF,CACF,G,mBCjFArO,GAAE,WACA,IAAM2U,EAAS3U,EAAE,qBAEjB,GAAsB,IAAlB2U,EAAO1U,OAAX,CAIA,IAAM6U,EAAU9U,EAAE,yBAA0B2U,GACtCI,EAAS/U,EAAE,cAAe2U,GAC1BK,EAAYhV,EAAE,kBAAmB2U,GAEvC3U,EAAE,kCAAkC6D,GAAG,SAAS,SAACzD,GAC/CA,EAAMZ,iBAENsV,EAAQhO,OACRgO,EAAQnT,KAAK,gBAAiBvB,EAAM6U,cAAcC,MAClDF,EAAU3P,KAAKrF,EAAEI,EAAM6U,eAAezT,KAAK,cAC3CuT,EAAOtK,KAAK,GACd,GAbA,CAcF,G,kBCnBAzK,GAAE,WACA,IAAMmV,EAAqBnV,EAAE,8DACvBoV,EAA0BpV,EAAE,kDAC5BqV,EAA2BrV,EAAE,mDAC7BsV,EAAqBtV,EAAE,2CAE7BsV,EAAmBC,SAAStH,SAASkH,GAEjCE,EAAyB9S,GAAG,aAC9B+S,EAAmBzO,OAGrBuO,EAAwBvR,GAAG,SAAS,WAClCyR,EAAmBxO,MACrB,IAEAuO,EAAyBxR,GAAG,SAAS,WACnCyR,EAAmBzO,MACrB,GACF,G,mBCnBA7G,GAAE,WACA,IAAMwV,EAAyBxV,EAAE,sCAC3ByV,EAAoBzV,EAAE,gCAExBA,EAAE,mCAAmCC,OAAS,IAChDuV,EAAuB3R,GAAG,UAAU,SAACzD,GACnC,IAAM4T,EAAU5T,EAAME,OAAO0T,QAC7BjN,OAAOM,cAAcqO,QAAQD,EAAmBzB,EAClD,IACAjN,OAAOM,cAAcqO,QAAQD,EAAmBD,EAAuB5O,KAAK,YAEhF,G,mBCRA5G,GAAE,WAEAA,EAAE,eAAe6D,GAAG,kBAAkB,SAACzD,GACrC,IAAMuN,EAAa3N,EAAEI,EAAME,QAAQoO,KAAK,uCAEpCiH,EAAWhI,EAAW5K,KAAK,uBAC3B4S,EAAS1V,OAAS,IAIpB0V,EAAWhI,EAAW5K,KAAK,gBACd9C,OAAS,IAJtB0V,EAASC,OAQb,GACF,G,mBCnBA5V,GAAE,WACA,IAAM6V,EAAS7V,EAAE,iCAEX8V,EAA4B9V,EAChC,0CACA6V,GAGIE,EAAqB/V,EACzB,+CACA6V,GAGIG,EAAmB,WACnBF,EAA0BvT,GAAG,YAC/BvC,EAAE,qCAAsC6V,GAAQ/O,OAEhD9G,EAAE,qCAAsC6V,GAAQhP,OAG9CkP,EAAmBxT,GAAG,YACxBvC,EAAE,0CAA2C6V,GAAQ/O,OAErD9G,EAAE,0CAA2C6V,GAAQhP,MAEzD,EAEA7G,EAAE8V,GAA2BxM,OAAM,kBAAM0M,GAAkB,IAC3DhW,EAAE+V,GAAoBzM,OAAM,kBAAM0M,GAAkB,IAEpDA,GACF,G,sKC5BA,IAAIC,EAAY,CAAC,EAEF,SAASC,EAAiBC,EAAYtE,GACnDoE,EAAUE,GAActE,CAC1B,CAEA,IAAMuE,EAAqB,SAACD,GAC1BF,EAAUE,GAAc,IAC1B,EAEME,EAAY,SAACpO,GAAuB,IAAlBqO,EAAK3R,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC1BoC,OAAOwP,SACTxP,OAAOwP,QAAQF,UAAUC,EAAO,KAAMrO,EAE1C,EAEMuO,EAAe,SAACvO,GAAuB,IAAlBqO,EAAK3R,UAAA1E,OAAA,QAAA2E,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC7BoC,OAAOwP,SACTxP,OAAOwP,QAAQC,aAAaF,EAAO,KAAOrO,EAE9C,EAEMqO,EAAQ,WACZ,OAAIvP,OAAOwP,QACFxP,OAAOwP,QAAQD,MAEjB,IACT,EAEAvP,OAAO0P,WAAa,SAACrW,GAEnB,GAAIA,EAAMsW,UACR,IAAK,IAAIP,KAAcF,EACjBA,EAAUU,eAAeR,IAC3BF,EAAUE,GAAY/V,EAAMkW,MAIpC,C,mBCzCAtW,GAAE,WACA,IAAM0N,EAAW1N,EAAE,SACbsB,EAASoM,EAAS3K,KAAK,SACvBxB,EAAUmM,EAAS3K,KAAK,uBAE9BzB,EAAOuC,GAAG,SAAS,SAACzD,GAClBmB,EAAQkJ,KAAKrK,EAAME,OAAO8C,MAC5B,GACF,G","sources":["webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/toggle_nav.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/sort_list.component.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.5/app/packs/src/decidim/input_character_counter.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/subform_toggler.component.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/application.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/managed_users.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/subform_multi_toggler.component.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/resources_permissions.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/budget_rule_toggler.component.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/form.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/auto_buttons_by_position.component.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/auto_label_by_position.component.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/dynamic_fields.component.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/external_domain_whitelist.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/draggable-list.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/sortable.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/admin_autocomplete.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/entrypoints/decidim_admin.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/choose_language.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/moderations.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/newsletters.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/officializations.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/proposal_infinite_edit.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/scope_picker_enabler.component.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/tab_focus.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-admin-0.27.5/app/packs/src/decidim/admin/welcome_notification.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.5/app/packs/src/decidim/history.js","webpack://app/../.rbenv/versions/3.0.6/lib/ruby/gems/3.0.0/gems/decidim-core-0.27.5/app/packs/src/decidim/slug_form.js"],"sourcesContent":["/* eslint-disable require-jsdoc */\nconst showHideNav = (evt) => {\n  const navMenu = document.querySelector(\".layout-nav\");\n\n  evt.preventDefault();\n  navMenu.classList.toggle(\"is-nav-open\");\n}\n\nexport default function toggleNav() {\n  const navTrigger = document.querySelector(\".menu-trigger\");\n  if (navTrigger) {\n    navTrigger.addEventListener(\"click\", showHideNav);\n  }\n}\n","/* eslint-disable require-jsdoc */\nimport sortable from \"html5sortable/dist/html5sortable.es\"\n\nclass SortListComponent {\n\n  /**\n   * Creates a sortable list using hmtl5sortable function.\n   *\n   * @param {String} sortListSelector The list selector that has to be sortable.\n   * @param {Object} options An object containing the same options as html5sortable. It also includes\n   *                an extra option `onSortUpdate`, a callback which returns the children collection\n   *                whenever the list order has been changed.\n   *\n   * @returns {void} Nothing.\n   */\n  constructor(sortListSelector, options) {\n    if ($(sortListSelector).length > 0) {\n      sortable(sortListSelector, options)[0].addEventListener(\"sortupdate\", (event) => {\n        const $children = $(event.target).children();\n\n        if (options.onSortUpdate) {\n          options.onSortUpdate($children);\n        }\n      });\n    }\n  }\n}\n\nexport default function createSortList(sortListSelector, options) {\n  return new SortListComponent(sortListSelector, options);\n}\n","/* eslint max-lines: [\"error\", {\"max\": 350, \"skipBlankLines\": true}] */\n\nconst COUNT_KEY = \"%count%\";\n// How often SR announces the message in relation to maximum characters. E.g.\n// if max characters is 1000, screen reader announces the remaining characters\n// every 100 (= 0.1 * 1000) characters. This will be \"floored\" to the closest\n// 100 if the maximum characters > 100. E.g. if max characters is 5500, the\n// threshold is 500 (= Math.floor(550 / 100) * 100). With 100 or less\n// characters, this ratio is omitted and the announce threshold is always set to\n// 10.\nconst SR_ANNOUNCE_THRESHOLD_RATIO = 0.1;\n// The number of characters left after which every keystroke will be announced.\nconst SR_ANNOUNCE_EVERY_THRESHOLD = 10;\nconst DEFAULT_MESSAGES = {\n  charactersAtLeast: {\n    one: `at least ${COUNT_KEY} character`,\n    other: `at least ${COUNT_KEY} characters`\n  },\n  charactersLeft: {\n    one: `${COUNT_KEY} character left`,\n    other: `${COUNT_KEY} characters left`\n  }\n};\nlet MESSAGES = DEFAULT_MESSAGES;\n\nexport default class InputCharacterCounter {\n  static configureMessages(messages) {\n    MESSAGES = $.extend(DEFAULT_MESSAGES, messages);\n  }\n\n  constructor(input) {\n    this.$input = input;\n    this.$target = $(this.$input.data(\"remaining-characters\"));\n    this.minCharacters = parseInt(this.$input.attr(\"minlength\"), 10);\n    this.maxCharacters = parseInt(this.$input.attr(\"maxlength\"), 10);\n    this.describeByCounter = this.$input.attr(\"type\") !== \"hidden\" && typeof this.$input.attr(\"aria-describedby\") === \"undefined\";\n\n    // Define the closest length for the input \"gaps\" defined by the threshold.\n    if (this.maxCharacters > 10) {\n      if (this.maxCharacters > 100) {\n        this.announceThreshold = Math.floor(this.maxCharacters * SR_ANNOUNCE_THRESHOLD_RATIO);\n      } else {\n        this.announceThreshold = 10;\n      }\n\n      // The number of characters left after which every keystroke will be announced.\n      this.announceEveryThreshold = SR_ANNOUNCE_EVERY_THRESHOLD;\n    } else {\n      this.announceThreshold = 1;\n      this.announceEveryThreshold = 1;\n    }\n\n    let targetId = this.$target.attr(\"id\");\n    if (typeof targetId === \"undefined\") {\n      if (this.$input.attr(\"id\") && this.$input.attr(\"id\").length > 0) {\n        targetId = `${this.$input.attr(\"id\")}_characters`;\n      } else {\n        targetId = `characters_${Math.random().toString(36).substr(2, 9)}`;\n      }\n    }\n\n    if (this.$target.length > 0) {\n      this.$target.attr(\"id\", targetId)\n    } else {\n      this.$target = $(`<span id=\"${targetId}\" class=\"form-input-extra-before\" />`)\n\n      // If input is a hidden for WYSIWYG editor add it at the end\n      if (this.$input.parent().is(\".editor\")) {\n        this.$input.parent().after(this.$target);\n      }\n      // Prefix and suffix columns are wrapped in columns, so put the\n      // character counter before that.\n      else if (\n        this.$input.parent().is(\".columns\") &&\n        this.$input.parent().parent().is(\".row\")\n      ) {\n        this.$input.parent().parent().after(this.$target);\n      } else {\n        this.$input.after(this.$target);\n      }\n    }\n\n    if (this.$target.length > 0 && (this.maxCharacters > 0 || this.minCharacters > 0)) {\n      // Create the screen reader target element. We don't want to constantly\n      // announce every change to screen reader, only occasionally.\n      this.$srTarget = $(\n        `<span role=\"status\" id=\"${targetId}_sr\" class=\"show-for-sr remaining-character-count-sr\" />`\n      );\n      this.$target.before(this.$srTarget);\n      this.$target.attr(\"aria-hidden\", \"true\");\n\n      this.$userInput = this.$input;\n\n      // In WYSIWYG editors (Quill) we need to find the active editor from the\n      // DOM node. Quill has the experimental \"find\" method that should work\n      // fine in this case\n      if (Quill && this.$input.parent().is(\".editor\")) {\n        // Wait until the next javascript loop so Quill editors are created\n        setTimeout(() => {\n          this.editor = Quill.find(this.$input.siblings(\".editor-container\")[0]);\n          this.$userInput = $(this.editor.root);\n          this.initialize();\n        });\n      } else {\n        this.initialize();\n      }\n    }\n  }\n\n  initialize() {\n    this.updateInputLength();\n    this.previousInputLength = this.inputLength;\n\n    this.bindEvents();\n    this.setDescribedBy(true);\n  }\n\n  setDescribedBy(active) {\n    if (!this.describeByCounter) {\n      return;\n    }\n\n    if (active) {\n      this.$userInput.attr(\"aria-describedby\", this.$srTarget.attr(\"id\"));\n    } else {\n      this.$userInput.removeAttr(\"aria-describedby\");\n    }\n  }\n\n  bindEvents() {\n    if (this.editor) {\n      this.editor.on(\"text-change\", () => {\n        this.handleInput();\n      });\n    } else {\n      this.$userInput.on(\"input\", () => {\n        this.handleInput();\n      });\n    }\n\n    this.$userInput.on(\"keyup\", () => {\n      this.updateStatus();\n    });\n    this.$userInput.on(\"focus\", () => {\n      this.updateScreenReaderStatus();\n    });\n    this.$userInput.on(\"blur\", () => {\n      this.updateScreenReaderStatus();\n      this.setDescribedBy(true);\n    });\n    if (this.$userInput.get(0) !== null) {\n      this.$userInput.get(0).addEventListener(\"emoji.added\", () => {\n        this.updateStatus();\n      });\n    }\n    this.updateStatus();\n    this.updateScreenReaderStatus();\n  }\n\n  getInputLength() {\n    return this.inputLength;\n  }\n\n  updateInputLength() {\n    this.previousInputLength = this.inputLength;\n    if (this.editor) {\n      this.inputLength = this.editor.getLength();\n    } else {\n      this.inputLength = this.$input.val().length;\n    }\n  }\n\n  handleInput() {\n    this.updateInputLength();\n    this.checkScreenReaderUpdate();\n    // If the input is \"described by\" the character counter, some screen\n    // readers (NVDA) announce the status twice when it is updated. By\n    // removing the aria-describedby attribute while the user is typing makes\n    // the screen reader announce the status only once.\n    this.setDescribedBy(false);\n  }\n\n  /**\n   * This compares the current inputLength to the previous value and decides\n   * whether the user is currently adding or deleting characters from the view.\n   *\n   * @returns {String} The input direction either \"ins\" for insert or \"del\" for\n   *   delete.\n   */\n  getInputDirection() {\n    if (this.inputLength < this.previousInputLength) {\n      return \"del\";\n    }\n\n    return \"ins\";\n  }\n\n  getScreenReaderLength() {\n    const currentLength = this.getInputLength();\n    if (this.maxCharacters < 10) {\n      return currentLength;\n    } else if (this.maxCharacters - currentLength <= this.announceEveryThreshold) {\n      return currentLength;\n    }\n\n    const srLength = currentLength - currentLength % this.announceThreshold;\n\n    // Prevent the screen reader telling too many characters left if the user\n    // deletes a characters. This can cause confusing experience e.g. when the\n    // user is closing the maximum amount of characters, so if the previous\n    // announcement was \"10 characters left\" and the user removes one character,\n    // the screen reader would announce \"100 characters left\" next time (when\n    // they actually have only 11 characters left). Similar when they are\n    // deleting a character at 900 characters, the screen reader would announce\n    // \"1000 characters left\" even when they only have 901 characters left.\n    if (this.getInputDirection() === \"del\") {\n      // The first branch makes sure that if the SR length matches the actual\n      // length, it will be always announced.\n      if (srLength === currentLength) {\n        return srLength;\n      // The second branch checks that if we are at the final threshold, we\n      // should not announce \"0 characters left\" when the user deletes more than\n      // the \"announce after every stroke\" limit (this.announceEveryThreshold).\n      } else if (this.maxCharacters - srLength === this.announceThreshold) {\n        return this.announcedAt || currentLength;\n      // The third branch checks that when deleting characters, we should\n      // announce the next threshold to get accurate annoucement. E.g. when we\n      // have 750 characters left and the user deletes 100 characters at once,\n      // we should announce \"700 characters left\" after that deletion.\n      } else if (srLength < currentLength) {\n        return srLength + this.announceThreshold;\n      }\n    // This fixes an issue in the following situation:\n    // 1. 750 characters left\n    // 2. Delete 100 characters in a row\n    // 3. SR: \"800 characters left\" (actual 850)\n    // 4. Type one additional character\n    // 5. Without this, SR would announce \"900 characters left\" = confusing\n    } else if (srLength < this.announcedAt) {\n      return this.announcedAt;\n    }\n\n    return srLength;\n  }\n\n  getMessages(currentLength = null) {\n    const showMessages = [];\n    let inputLength = currentLength;\n    if (inputLength === null) {\n      inputLength = this.getInputLength()\n    }\n\n    if (this.minCharacters > 0) {\n      let message = MESSAGES.charactersAtLeast.other;\n      if (this.minCharacters === 1) {\n        message = MESSAGES.charactersAtLeast.one;\n      }\n      showMessages.push(message.replace(COUNT_KEY, this.minCharacters));\n    }\n\n    if (this.maxCharacters > 0) {\n      const remaining = this.maxCharacters - inputLength;\n      let message = MESSAGES.charactersLeft.other;\n      if (remaining === 1) {\n        message = MESSAGES.charactersLeft.one;\n      }\n      this.$input[0].dispatchEvent(\n        new CustomEvent(\"characterCounter\", {detail: {remaining: remaining}})\n      );\n      showMessages.push(message.replace(COUNT_KEY, remaining));\n    }\n\n    return showMessages;\n  }\n\n  updateStatus() {\n    this.$target.text(this.getMessages().join(\", \"));\n  }\n\n  checkScreenReaderUpdate() {\n    if (this.maxCharacters < 1) {\n      return;\n    }\n\n    const currentLength = this.getScreenReaderLength();\n    if (currentLength === this.announcedAt) {\n      return;\n    }\n\n    this.announcedAt = currentLength;\n    this.updateScreenReaderStatus(currentLength);\n  }\n\n  updateScreenReaderStatus(currentLength = null) {\n    this.$srTarget.text(this.getMessages(currentLength).join(\", \"));\n  }\n}\n\nconst createCharacterCounter = ($input) => {\n  if (typeof $input !== \"undefined\" && $input.length) {\n    $input.data(\"remaining-characters-counter\", new InputCharacterCounter($input));\n  }\n}\n\n$(() => {\n  $(\"input[type='text'], textarea, .editor>input[type='hidden']\").each((_i, elem) => {\n    const $input = $(elem);\n\n    if (!$input.is(\"[minlength]\") && !$input.is(\"[maxlength]\")) {\n      return;\n    }\n\n    createCharacterCounter($input);\n  });\n});\n\nexport {InputCharacterCounter, createCharacterCounter};\n","export default class SubformTogglerComponent {\n  constructor(options = {}) {\n    this.controllerSelect = options.controllerSelect;\n    this.subformWrapperClass = options.subformWrapperClass;\n    this.globalWrapperSelector = options.globalWrapperSelector;\n    this._bindEvent();\n    this._runAll();\n  }\n\n  _runAll() {\n    this.controllerSelect.each((idx, el) => {\n      this.run(el);\n    });\n  }\n\n  run(target) {\n    let $target = $(target);\n    let subformWrapperClass = this.subformWrapperClass;\n    let value = $target.val();\n\n    let $form = $target.parents(this.globalWrapperSelector);\n    let $subforms = $form.find(`.${subformWrapperClass}`);\n    let $selectedSubform = $subforms.filter(`#${subformWrapperClass}-${value}`)\n\n    $subforms.find(\"input,textarea,select\").prop(\"disabled\", true);\n    $subforms.hide();\n\n    $selectedSubform.find(\"input,textarea,select\").prop(\"disabled\", false);\n    $selectedSubform.show();\n  }\n\n  _bindEvent() {\n    this.controllerSelect.on(\"change\", (event) => {\n      this.run(event.target);\n    });\n  }\n}\n\n","/* eslint-disable no-invalid-this */\n\nimport toggleNav from \"src/decidim/admin/toggle_nav\"\nimport createSortList from \"src/decidim/admin/sort_list.component\"\nimport createQuillEditor from \"src/decidim/editor\"\nimport formDatePicker from \"src/decidim/form_datepicker\"\nimport DataPicker from \"src/decidim/data_picker\"\nimport FormFilterComponent from \"src/decidim/form_filter\"\nimport Configuration from \"src/decidim/configuration\"\nimport InputCharacterCounter from \"src/decidim/input_character_counter\"\nimport managedUsersForm from \"src/decidim/admin/managed_users\"\n\nwindow.Decidim = window.Decidim || {};\nwindow.Decidim.managedUsersForm = managedUsersForm\nwindow.Decidim.config = new Configuration()\nwindow.Decidim.InputCharacterCounter = InputCharacterCounter;\n\n$(() => {\n  window.theDataPicker = new DataPicker($(\".data-picker\"));\n\n  $(document).foundation();\n\n  toggleNav();\n\n  createSortList(\"#steps tbody\", {\n    placeholder: $('<tr style=\"border-style: dashed; border-color: #000\"><td colspan=\"4\">&nbsp;</td></tr>')[0],\n    onSortUpdate: ($children) => {\n      const sortUrl = $(\"#steps tbody\").data(\"sort-url\")\n      const order = $children.map((index, child) => $(child).data(\"id\")).toArray();\n\n      $.ajax({\n        method: \"POST\",\n        url: sortUrl,\n        contentType: \"application/json\",\n        data: JSON.stringify({ items_ids: order }) }, // eslint-disable-line camelcase\n      );\n    }\n  })\n\n  formDatePicker();\n\n  $(\".editor-container\").each((_idx, container) => {\n    createQuillEditor(container);\n  });\n\n  $(\"form.new_filter\").each(function () {\n    const formFilter = new FormFilterComponent($(this));\n\n    formFilter.mountComponent();\n  })\n});\n\n","/* eslint-disable require-jsdoc */\n\nimport SubformTogglerComponent from \"src/decidim/admin/subform_toggler.component\"\n\nexport default function managedUsersForm() {\n  const subformToggler = new SubformTogglerComponent({\n    controllerSelect: $(\"select#impersonate_user_authorization_handler_name\"),\n    subformWrapperClass: \"authorization-handler\",\n    globalWrapperSelector: \"form\"\n  });\n\n  subformToggler.run();\n}\n","export default class SubformMultiTogglerComponent {\n  constructor(options = {}) {\n    this.controllerSelect = options.controllerSelect;\n    this.subformWrapperClass = options.subformWrapperClass;\n    this.globalWrapperSelector = options.globalWrapperSelector;\n    this._bindEvent();\n    this._runAll();\n  }\n\n  _runAll() {\n    this.controllerSelect.each((idx, el) => {\n      this.run(el);\n    });\n  }\n\n  run(target) {\n    let $target = $(target);\n    let subformWrapperClass = this.subformWrapperClass;\n    let value = $target.val();\n\n    let $form = $target.parents(this.globalWrapperSelector);\n    let $selectedSubform = $form.find(`#${subformWrapperClass}-${value}`)\n\n    if ($target.prop(\"checked\")) {\n      $selectedSubform.find(\"input,textarea,select\").prop(\"disabled\", false);\n      $selectedSubform.show();\n    } else {\n      $selectedSubform.find(\"input,textarea,select\").prop(\"disabled\", true);\n      $selectedSubform.hide();\n    }\n  }\n\n  _bindEvent() {\n    this.controllerSelect.on(\"change\", (event) => {\n      this.run(event.target);\n    });\n  }\n}\n","import SubformMultiTogglerComponent from \"src/decidim/admin/subform_multi_toggler.component\"\n\n$(() => {\n  const subformMultiToggler = new SubformMultiTogglerComponent({\n    controllerSelect: $(\"input[name$=\\\\[authorization_handlers\\\\]\\\\[\\\\]]\"),\n    subformWrapperClass: \"authorization-handler\",\n    globalWrapperSelector: \"fieldset\"\n  });\n\n  subformMultiToggler.run();\n})\n","export default class BudgetRuleTogglerComponent {\n  constructor(options = {}) {\n    this.ruleCheckboxes = options.ruleCheckboxes;\n    this._runAll();\n  }\n\n  _runAll() {\n    this.ruleCheckboxes.each((_i, checkbox) => {\n      this._bindEvent(checkbox);\n      this.run(checkbox);\n    });\n  }\n\n  _bindEvent(target) {\n    $(target).on(\"change\", (event) => {\n      this.run(event.target);\n    });\n  }\n\n  run(target) {\n    this.toggleTextInput(target);\n\n    if ($(target).prop(\"checked\")) {\n      this.ruleCheckboxes.filter(\n        (_i, checkbox) => {\n          return checkbox !== target;\n        }).prop(\"checked\", false).each(\n        (_i, checkbox) => {\n          this.toggleTextInput(checkbox);\n        });\n    }\n  }\n\n  toggleTextInput(target) {\n    const container = $(target).closest(\"div\");\n    if (container.length < 1) {\n      return;\n    }\n    const containerClassPrefix = container.attr(\"class\").\n      replace(/^vote_rule_/, \"vote_\").\n      replace(/_enabled_container$/, \"\");\n    const input = $(`[class^=\"${containerClassPrefix}\"][class$=\"_container\"]`);\n\n    if ($(target).prop(\"checked\")) {\n      input.slideDown();\n    } else {\n      input.slideUp();\n    }\n  }\n}\n","import \"src/decidim/admin/scope_picker_enabler.component\"\nimport \"src/decidim/admin/proposal_infinite_edit\"\n\nimport BudgetRuleTogglerComponent from \"src/decidim/admin/budget_rule_toggler.component\"\n\n// Checks if the form contains fields with special CSS classes added in\n// Decidim::Admin::SettingsHelper and acts accordingly.\n$(() => {\n  const budgetRuleToggler = new BudgetRuleTogglerComponent({\n    ruleCheckboxes: $(\"input[id^='component_settings_vote_rule_']\")\n  });\n\n  budgetRuleToggler.run();\n\n  // Prevents readonly containers from being modified.\n  const $readonlyContainer = $(\".readonly_container input\");\n\n  $readonlyContainer.click((event) => {\n    event.preventDefault();\n    return false;\n  });\n\n  // Target fields:\n  // - amendments_wizard_help_text\n  // - amendments_visibility\n  // - amendment_creation_enabled\n  // - amendment_reaction_enabled\n  // - amendment_promotion_enabled\n\n  // (1) Hides target fields if amendments_enabled component setting is NOT checked.\n  // (2) Toggles visibilty of target fields when amendments_enabled component setting is clicked.\n  const $amendmentsEnabled = $(\"input#component_settings_amendments_enabled\");\n\n  if ($amendmentsEnabled.length > 0) {\n    const $amendmentStepSettings = $(\".amendments_wizard_help_text_container, .amendments_visibility_container, .amendment_creation_enabled_container, .amendment_reaction_enabled_container, .amendment_promotion_enabled_container\");\n\n    if ($amendmentsEnabled.is(\":not(:checked)\")) {\n      $amendmentStepSettings.hide();\n    }\n\n    $amendmentsEnabled.click(() => {\n      $amendmentStepSettings.toggle();\n    });\n  }\n});\n","export default class AutoButtonsByPositionComponent {\n  constructor(options = {}) {\n    this.listSelector = options.listSelector;\n    this.hideOnFirstSelector = options.hideOnFirstSelector;\n    this.hideOnLastSelector = options.hideOnLastSelector;\n\n    this.run();\n  }\n\n  run() {\n    const $list = $(this.listSelector);\n    const hideOnFirst = this.hideOnFirstSelector;\n    const hideOnLast = this.hideOnLastSelector;\n\n    if ($list.length === 1) {\n      const $item = $list.first();\n\n      $item.find(hideOnFirst).hide();\n      $item.find(hideOnLast).hide();\n    } else {\n      $list.each((idx, el) => {\n        if (el.id === $list.first().attr(\"id\")) {\n          $(el).find(hideOnFirst).hide();\n          $(el).find(hideOnLast).show();\n        }\n        else if (el.id === $list.last().attr(\"id\")) {\n          $(el).find(hideOnLast).hide();\n          $(el).find(hideOnFirst).show();\n        }\n        else {\n          $(el).find(hideOnLast).show();\n          $(el).find(hideOnFirst).show();\n        }\n      });\n    }\n  }\n}\n","export default class AutoLabelByPositionComponent {\n  constructor(options = {}) {\n    this.listSelector = options.listSelector;\n    this.labelSelector = options.labelSelector;\n    this.onPositionComputed = options.onPositionComputed;\n\n    this.run();\n  }\n\n  run() {\n    const $list = $(this.listSelector);\n\n    $list.each((idx, el) => {\n      const $label = $(el).find(this.labelSelector);\n      const labelContent = $label.html();\n\n      if (labelContent.match(/#(\\d+)/)) {\n        $label.html(labelContent.replace(/#(\\d+)/, `#${idx + 1}`));\n      } else {\n        $label.html(`${labelContent} #${idx + 1}`);\n      }\n\n      if (this.onPositionComputed) {\n        this.onPositionComputed(el, idx);\n      }\n    });\n  }\n}\n","/* eslint-disable require-jsdoc */\nclass DynamicFieldsComponent {\n  constructor(options = {}) {\n    this.wrapperSelector = options.wrapperSelector;\n    this.containerSelector = options.containerSelector;\n    this.fieldSelector = options.fieldSelector;\n    this.addFieldButtonSelector = options.addFieldButtonSelector;\n    this.addSeparatorButtonSelector = options.addSeparatorButtonSelector;\n    this.addTitleAndDescriptionButtonSelector = options.addTitleAndDescriptionButtonSelector;\n    this.fieldTemplateSelector = options.fieldTemplateSelector;\n    this.separatorTemplateSelector = options.separatorTemplateSelector;\n    this.TitleAndDescriptionTemplateSelector = options.TitleAndDescriptionTemplateSelector;\n    this.removeFieldButtonSelector = options.removeFieldButtonSelector;\n    this.moveUpFieldButtonSelector = options.moveUpFieldButtonSelector;\n    this.moveDownFieldButtonSelector = options.moveDownFieldButtonSelector;\n    this.onAddField = options.onAddField;\n    this.onRemoveField = options.onRemoveField;\n    this.onMoveUpField = options.onMoveUpField;\n    this.onMoveDownField = options.onMoveDownField;\n    this.placeholderId = options.placeholderId;\n    this.elementCounter = 0;\n    this._enableInterpolation();\n    this._activateFields();\n    this._bindEvents();\n  }\n\n  _enableInterpolation() {\n    $.fn.replaceAttribute = function(attribute, placeholder, value) {\n      $(this).find(`[${attribute}*=${placeholder}]`).addBack(`[${attribute}*=${placeholder}]`).each((index, element) => {\n        $(element).attr(attribute, $(element).attr(attribute).replace(placeholder, value));\n      });\n\n      return this;\n    }\n\n    $.fn.template = function(placeholder, value) {\n      // See the comment below in the `_addField()` method regarding the\n      // `<template>` tag support in IE11.\n      const $subtemplate = $(this).find(\"template, .decidim-template\");\n\n      if ($subtemplate.length > 0) {\n        $subtemplate.html((index, oldHtml) => $(oldHtml).template(placeholder, value)[0].outerHTML);\n      }\n\n      // Handle those subtemplates that are mapped with the `data-template`\n      // attribute. This is also because of the IE11 support.\n      const $subtemplateParents = $(this).find(\"[data-template]\");\n\n      if ($subtemplateParents.length > 0) {\n        $subtemplateParents.each((_i, elem) => {\n          const $self = $(elem);\n          const $tpl = $($self.data(\"template\"));\n\n          // Duplicate the sub-template with a unique ID as there may be\n          // multiple parent templates referring to the same sub-template.\n          const $subtpl = $($tpl[0].outerHTML);\n          const subtemplateId = `${$tpl.attr(\"id\")}-${value}`;\n          const subtemplateSelector = `#${subtemplateId}`;\n          $subtpl.attr(\"id\", subtemplateId);\n          $self.attr(\"data-template\", subtemplateSelector).data(\"template\", subtemplateSelector);\n          $tpl.after($subtpl);\n\n          $subtpl.html((index, oldHtml) => $(oldHtml).template(placeholder, value)[0].outerHTML);\n        });\n      }\n\n      $(this).replaceAttribute(\"id\", placeholder, value);\n      $(this).replaceAttribute(\"name\", placeholder, value);\n      $(this).replaceAttribute(\"data-tabs-content\", placeholder, value);\n      $(this).replaceAttribute(\"for\", placeholder, value);\n      $(this).replaceAttribute(\"tabs_id\", placeholder, value);\n      $(this).replaceAttribute(\"href\", placeholder, value);\n      $(this).replaceAttribute(\"value\", placeholder, value);\n\n      return this;\n    }\n  }\n\n  _bindEvents() {\n    $(this.wrapperSelector).on(\"click\", this.addFieldButtonSelector, (event) =>\n      this._bindSafeEvent(event, () => this._addField(this.fieldTemplateSelector))\n    );\n\n    if (this.addSeparatorButtonSelector) {\n      $(this.wrapperSelector).on(\"click\", this.addSeparatorButtonSelector, (event) =>\n        this._bindSafeEvent(event, () => this._addField(this.separatorTemplateSelector))\n      );\n    }\n\n    if (this.addTitleAndDescriptionButtonSelector) {\n      $(this.wrapperSelector).on(\"click\", this.addTitleAndDescriptionButtonSelector, (event) =>\n        this._bindSafeEvent(event, () => this._addField(this.TitleAndDescriptionTemplateSelector))\n      );\n    }\n\n    $(this.wrapperSelector).on(\"click\", this.removeFieldButtonSelector, (event) =>\n      this._bindSafeEvent(event, (target) => this._removeField(target))\n    );\n\n    if (this.moveUpFieldButtonSelector) {\n      $(this.wrapperSelector).on(\"click\", this.moveUpFieldButtonSelector, (event) =>\n        this._bindSafeEvent(event, (target) => this._moveUpField(target))\n      );\n    }\n\n    if (this.moveDownFieldButtonSelector) {\n      $(this.wrapperSelector).on(\"click\", this.moveDownFieldButtonSelector, (event) =>\n        this._bindSafeEvent(event, (target) => this._moveDownField(target))\n      );\n    }\n  }\n\n  _bindSafeEvent(event, cb) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    try {\n      return cb(event.target);\n    } catch (error) {\n      console.error(error); // eslint-disable-line no-console\n      return error;\n    }\n  }\n\n  // Adds a field.\n  //\n  // template - A String matching the type of the template. Expected to be\n  //  either \".decidim-question-template\" or \".decidim-separator-template\".\n  _addField(templateClass = \".decidim-template\") {\n    const $wrapper = $(this.wrapperSelector);\n    const $container = $wrapper.find(this.containerSelector);\n\n    // Allow defining the template using a `data-template` attribute on the\n    // wrapper element. This is to allow child templates which would otherwise\n    // be impossible using `<script type=\"text/template\">`. See the comment\n    // below regarding the `<template>` tag and IE11.\n    const templateSelector = $wrapper.data(\"template\");\n    let $template = null;\n    if (templateSelector) {\n      $template = $(templateSelector);\n    }\n    if ($template === null || $template.length < 1) {\n      // To preserve IE11 backwards compatibility, the views are using\n      // `<script type=\"text/template\">` with a given `class` instead of\n      // `<template>`. The `<template> tags are parsed in IE11 along with the\n      // DOM which may cause the form elements inside them to break the forms\n      // as they are submitted with them.\n      $template = $wrapper.children(`template, ${templateClass}`);\n    }\n\n    const $newField = $($template.html()).template(this.placeholderId, this._getUID());\n\n    $newField.find(\"ul.tabs\").attr(\"data-tabs\", true);\n\n    const $lastQuestion = $container.find(this.fieldSelector).last()\n    if ($lastQuestion.length > 0) {\n      $lastQuestion.after($newField);\n    } else {\n      $newField.appendTo($container);\n    }\n\n    $newField.foundation();\n\n    if (this.onAddField) {\n      this.onAddField($newField);\n    }\n  }\n\n  _removeField(target) {\n    const $target = $(target);\n    const $removedField = $target.parents(this.fieldSelector);\n    const idInput = $removedField.find(\"input\").filter((idx, input) => input.name.match(/id/));\n\n    if (idInput.length > 0) {\n      const deletedInput = $removedField.find(\"input\").filter((idx, input) => input.name.match(/delete/));\n\n      if (deletedInput.length > 0) {\n        $(deletedInput[0]).val(true);\n      }\n\n      $removedField.addClass(\"hidden\");\n      $removedField.hide();\n    } else {\n      $removedField.remove();\n    }\n\n    if (this.onRemoveField) {\n      this.onRemoveField($removedField);\n    }\n  }\n\n  _moveUpField(target) {\n    const $target = $(target);\n    const $movedUpField = $target.parents(this.fieldSelector);\n\n    $movedUpField.prev().before($movedUpField);\n\n    if (this.onMoveUpField) {\n      this.onMoveUpField($movedUpField);\n    }\n  }\n\n  _moveDownField(target) {\n    const $target = $(target);\n    const $movedDownField = $target.parents(this.fieldSelector);\n\n    $movedDownField.next().after($movedDownField);\n\n    if (this.onMoveDownField) {\n      this.onMoveDownField($movedDownField);\n    }\n  }\n\n  _activateFields() {\n    // Move the `<script type=\"text/template\">` elements to the bottom of the\n    // list container so that they will not cause the question moving\n    // functionality to break since it assumes that all children elements are\n    // the dynamic field list child items.\n    const $wrapper = $(this.wrapperSelector);\n    const $container = $wrapper.find(this.containerSelector);\n    $container.append($container.find(\"script\"));\n\n    $(this.fieldSelector).each((idx, el) => {\n      $(el).template(this.placeholderId, this._getUID());\n\n      $(el).find(\"ul.tabs\").attr(\"data-tabs\", true);\n    })\n  }\n\n  _getUID() {\n    this.elementCounter += 1;\n\n    return (new Date().getTime()) + this.elementCounter;\n  }\n}\n\nexport default function createDynamicFields(options) {\n  return new DynamicFieldsComponent(options);\n}\n","import AutoButtonsByPositionComponent from \"src/decidim/admin/auto_buttons_by_position.component\"\nimport AutoLabelByPositionComponent from \"src/decidim/admin/auto_label_by_position.component\"\nimport createDynamicFields from \"src/decidim/admin/dynamic_fields.component\"\nimport createSortList from \"src/decidim/admin/sort_list.component\"\n\n$(() => {\n  const dynamicFieldDefinitions = [\n    {\n      placeHolderId: \"external-domain-id\",\n      wrapperSelector: \".external-domains\",\n      fieldSelector: \".external-domain\",\n      addFieldSelector: \".add-external-domain\"\n    }\n  ];\n\n  dynamicFieldDefinitions.forEach((section) => {\n    const fieldSelectorSuffix = section.fieldSelector.replace(\".\", \"\");\n\n    const autoButtonsByPosition = new AutoButtonsByPositionComponent({\n      listSelector: `${section.fieldSelector}:not(.hidden)`,\n      hideOnFirstSelector: \".move-up-question\",\n      hideOnLastSelector: \".move-down-question\"\n    });\n\n    const autoLabelByPosition = new AutoLabelByPositionComponent({\n      listSelector: `${section.fieldSelector}:not(.hidden)`,\n      labelSelector: \".card-title span:first\",\n      onPositionComputed: (el, idx) => {\n        $(el).find(\"input[name$=\\\\[position\\\\]]\").val(idx);\n      }\n    });\n\n    const createSortableList = () => {\n      createSortList(\".external-domains-list:not(.published)\", {\n        handle: \".external-domain-divider\",\n        placeholder: '<div style=\"border-style: dashed; border-color: #000\"></div>',\n        forcePlaceholderSize: true,\n        onSortUpdate: () => {\n          autoLabelByPosition.run();\n          autoButtonsByPosition.run();\n        }\n      });\n    };\n\n    const hideDeletedItem = ($target) => {\n      const inputDeleted = $target.find(\"input[name$=\\\\[deleted\\\\]]\").val();\n\n      if (inputDeleted === \"true\") {\n        $target.addClass(\"hidden\");\n        $target.hide();\n\n        // Allows re-submitting of the form\n        $(\"input\", $target).removeAttr(\"required\");\n      }\n    };\n\n    createDynamicFields({\n      placeholderId: section.placeHolderId,\n      wrapperSelector: section.wrapperSelector,\n      containerSelector: `${section.wrapperSelector}-list`,\n      fieldSelector: section.fieldSelector,\n      addFieldButtonSelector: section.addFieldSelector,\n      removeFieldButtonSelector: `.remove-${fieldSelectorSuffix}`,\n      moveUpFieldButtonSelector: \".move-up-question\",\n      moveDownFieldButtonSelector: \".move-down-question\",\n      onAddField: () => {\n        createSortableList();\n\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      },\n      onRemoveField: ($field) => {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n\n        // Allows re-submitting of the form\n        $(\"input\", $field).removeAttr(\"required\");\n      },\n      onMoveUpField: () => {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      },\n      onMoveDownField: () => {\n        autoLabelByPosition.run();\n        autoButtonsByPosition.run();\n      }\n    });\n\n    createSortableList();\n\n    $(section.fieldSelector).each((_idx, el) => {\n      const $target = $(el);\n\n      hideDeletedItem($target);\n    });\n\n    autoLabelByPosition.run();\n    autoButtonsByPosition.run();\n  });\n});\n","/* eslint-disable require-jsdoc */\nimport createSortList from \"src/decidim/admin/sort_list.component\"\n\nexport default function createSortableList(lists) {\n  createSortList(lists, {\n    handle: \"li\",\n    forcePlaceholderSize: true,\n    acceptFrom: \".js-connect\"\n  })\n}\n\n// Once in DOM\n$(() => {\n  const $draggables = $(\".draggable-list\")\n  let draggablesClassNames = []\n\n  $draggables.each((index, elem) => {\n    draggablesClassNames = [...draggablesClassNames, `.${elem.className.split(\" \").filter((name) => (/js-list.*/).test(name))[0]}`]\n  })\n\n  document.addEventListener(\"drag\", function (event) {\n    $draggables.not(event.target.parentElement).addClass(\"dragging\")\n  })\n\n  document.addEventListener(\"dragend\", function() {\n    $draggables.removeClass(\"dragging\")\n  })\n\n  createSortableList(draggablesClassNames.join(\", \"))\n})\n","/* eslint-disable no-ternary */\n\nimport createSortList from \"src/decidim/admin/sort_list.component\"\n\n// Once in DOM\n$(() => {\n  const selector = \".js-sortable\"\n  const $sortable = $(selector)\n\n  $sortable.each((index, elem) => {\n    const item = (elem.id)\n      ? `#${elem.id}`\n      : selector\n\n    createSortList(item, {\n      handle: \"li\",\n      forcePlaceholderSize: true,\n      placeholderClass: \"sort-placeholder\"\n    })\n  })\n})\n","import AutoComplete from \"src/decidim/autocomplete\";\n\n/**\n * This function can be used to create an autocomplete input automatically\n * from the following kind of div:\n *   <div data-autocomplete=\"{...}\"></div>\n *\n * The data-autocomplete attribute should contain the following configuration\n * as an encoded JSON, which is used to generate the AutoComplete options:\n * - name: assembly_member[user_id],\n * - options: [],\n * - placeholder: \"Select a participant\",\n * - searchURL: \"http://...\"\n * - selected: \"\",\n *\n * @param {HTMLElement} el The element to generate the autocomplete for.\n * @returns {AutoComplete} An instance of the AutoComplete class.\n */\nconst autoConfigure = (el) => {\n  const config = JSON.parse(el.dataset.autocomplete);\n  const searchUrl = new URL(config.searchURL);\n  const textInput = document.createElement(\"input\");\n  textInput.type = \"text\";\n  textInput.className = \"autocomplete-input\";\n  el.appendChild(textInput);\n  let mode = config.mode || \"sticky\"\n  let selected = null;\n  if (config.selected) {\n    switch (mode) {\n    case \"multi\":\n      selected = config.selected.map((item) => (\n        {\n          key: \"label\",\n          value: {\n            value: item.value,\n            label: item.label\n          }\n        }\n      ));\n      break;\n    case \"sticky\":\n      selected = { key: \"label\", value: config.options[config.options.length - 1] };\n      break;\n    default:\n      selected = config.selected;\n    }\n  }\n\n  const dataSource = (query, callback) => {\n    const params = new URLSearchParams({\n      ...Object.fromEntries(searchUrl.searchParams),\n      term: query\n    });\n    fetch(`${searchUrl.origin}${searchUrl.pathname}?${params.toString()}`, {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/json\" }\n    }).then((response) => response.json()).then((data) => {\n      callback(data)\n    });\n  };\n\n  const ac = new AutoComplete(textInput, {\n    name: config.name,\n    placeholder: config.placeholder,\n    selected: selected,\n    mode: mode,\n    searchPrompt: true,\n    searchPromptText: config.searchPromptText,\n    threshold: 3,\n    dataMatchKeys: [\"label\"],\n    dataSource\n  });\n\n  return ac;\n}\n\n$(() => {\n  const $autocompleteDiv = $(\"[data-autocomplete]\");\n  if ($autocompleteDiv.length < 1) {\n    return;\n  }\n\n  $autocompleteDiv.each((_index, element) => {\n    autoConfigure(element);\n  })\n})\n","/* eslint no-unused-vars: 0 */\n/* eslint id-length: [\"error\", { \"exceptions\": [\"$\"] }] */\n\nimport \"core-js/stable\";\nimport \"regenerator-runtime/runtime\";\nimport $ from \"jquery\"\nimport Quill from \"quill\"\nimport Rails from \"@rails/ujs\"\n\nimport \"foundation-sites\"\nimport \"src/decidim/vendor/foundation-datepicker\"\nimport \"src/decidim/foundation_datepicker_locales\"\nimport \"jquery-serializejson\"\n\nimport \"src/decidim/admin/tab_focus\"\nimport initLanguageChangeSelect from \"src/decidim/admin/choose_language\"\nimport \"src/decidim/admin/application\"\nimport \"src/decidim/admin/resources_permissions\"\nimport \"src/decidim/admin/welcome_notification\"\nimport \"src/decidim/admin/newsletters\"\nimport \"src/decidim/admin/form\"\nimport \"src/decidim/admin/external_domain_whitelist\"\nimport \"src/decidim/confirm\"\nimport \"src/decidim/admin/draggable-list\"\nimport \"src/decidim/admin/sortable\"\nimport \"src/decidim/gallery\"\nimport \"src/decidim/admin/moderations\"\nimport \"src/decidim/input_tags\"\nimport \"src/decidim/input_hashtags\"\nimport \"src/decidim/input_mentions\"\nimport \"src/decidim/vizzs\"\nimport \"src/decidim/ajax_modals\"\nimport \"src/decidim/admin/officializations\"\nimport \"src/decidim/session_timeouter\"\nimport \"src/decidim/slug_form\"\nimport \"src/decidim/direct_uploads/upload_field\"\nimport \"src/decidim/admin/admin_autocomplete\"\n\n// CSS\nimport \"entrypoints/decidim_admin.scss\";\n\n// This needs to be loaded after confirm dialog to bind properly\nRails.start()\n\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n  initLanguageChangeSelect(document.querySelectorAll(\"select.language-change\"));\n});\n","/* eslint-disable no-invalid-this */\n/* eslint-disable require-jsdoc */\n\nexport default function initLanguageChangeSelect(elements) {\n  elements.forEach((select) => {\n    select.addEventListener(\"change\", () => {\n      let targetTabPaneSelector = select.value;\n      let tabsContent = select.parentElement.parentElement.nextElementSibling;\n\n      tabsContent.querySelector(\".is-active\").classList.remove(\"is-active\");\n      tabsContent.querySelector(targetTabPaneSelector).classList.add(\"is-active\");\n    })\n  });\n}\n","$(() => {\n  const $moderationDetails = $(\".moderation-details\");\n  const $toggleContentButton = $moderationDetails.find(\".toggle-content\");\n  const $reportedContent = $moderationDetails.find(\".reported-content\");\n  const $currentContent = $reportedContent.find(\".current\");\n  const $originalContent = $reportedContent.find(\".original\");\n\n  $originalContent.hide();\n\n  $toggleContentButton.on(\"click\", () => {\n    $currentContent.toggle();\n    $originalContent.toggle();\n\n    if ($currentContent.is(\":hidden\")) {\n      $toggleContentButton.html($toggleContentButton.data(\"see-current-button-label\"));\n    } else {\n      $toggleContentButton.html($toggleContentButton.data(\"see-original-button-label\"));\n    }\n  })\n})\n","$(() => {\n  const $form = $(\".form.newsletter_deliver\");\n\n  if ($form.length > 0) {\n    const $sendNewsletterToAllUsers = $form.find(\"#send_newsletter_to_all_users\");\n    const $sendNewsletterToFollowers = $form.find(\"#send_newsletter_to_followers\");\n    const $sendNewsletterToParticipants = $form.find(\"#send_newsletter_to_participants\");\n    const $participatorySpacesForSelect = $form.find(\"#participatory_spaces_for_select\");\n\n    const checkSelectiveNewsletterFollowers = $sendNewsletterToFollowers.find(\"input[type='checkbox']\").prop(\"checked\");\n    const checkSelectiveNewsletterParticipants = $sendNewsletterToParticipants.find(\"input[type='checkbox']\").prop(\"checked\");\n\n    $sendNewsletterToAllUsers.on(\"change\", (event) => {\n      const checked = event.target.checked;\n      if (checked) {\n        $sendNewsletterToFollowers.find(\"input[type='checkbox']\").prop(\"checked\", !checked);\n        $sendNewsletterToParticipants.find(\"input[type='checkbox']\").prop(\"checked\", !checked);\n        $participatorySpacesForSelect.hide();\n      } else {\n        $sendNewsletterToFollowers.find(\"input[type='checkbox']\").prop(\"checked\", !checked);\n        $sendNewsletterToParticipants.find(\"input[type='checkbox']\").prop(\"checked\", !checked);\n        $participatorySpacesForSelect.show();\n      }\n    })\n\n    $sendNewsletterToFollowers.on(\"change\", (event) => {\n      const checked = event.target.checked;\n      const selectiveNewsletterParticipants = $sendNewsletterToParticipants.find(\"input[type='checkbox']\").prop(\"checked\");\n\n      if (checked) {\n        $sendNewsletterToAllUsers.find(\"input[type='checkbox']\").prop(\"checked\", !checked);\n        $participatorySpacesForSelect.show();\n      } else if (!selectiveNewsletterParticipants) {\n        $sendNewsletterToAllUsers.find(\"input[type='checkbox']\").prop(\"checked\", true);\n        $participatorySpacesForSelect.hide();\n      }\n    })\n\n    $sendNewsletterToParticipants.on(\"change\", (event) => {\n      const checked = event.target.checked;\n      const selectiveNewsletterFollowers = $sendNewsletterToFollowers.find(\"input[type='checkbox']\").prop(\"checked\");\n      if (checked) {\n        $sendNewsletterToAllUsers.find(\"input[type='checkbox']\").prop(\"checked\", !checked);\n        $participatorySpacesForSelect.show();\n      } else if (!selectiveNewsletterFollowers) {\n        $sendNewsletterToAllUsers.find(\"input[type='checkbox']\").prop(\"checked\", true);\n        $participatorySpacesForSelect.hide();\n      }\n    })\n\n    if (checkSelectiveNewsletterFollowers || checkSelectiveNewsletterParticipants) {\n      $participatorySpacesForSelect.show();\n    } else {\n      $participatorySpacesForSelect.hide();\n    }\n\n    $(\".form .spaces-block-tag\").each(function(_i, blockTag) {\n      const selectTag = $(blockTag).find(\".chosen-select\")\n      selectTag.change(function() {\n        let optionSelected = selectTag.find(\"option:selected\").val()\n        if (optionSelected === \"all\") {\n          selectTag.find(\"option\").not(\":first\").prop(\"selected\", true);\n          selectTag.find(\"option[value='all']\").prop(\"selected\", false);\n        } else if (optionSelected === \"\") {\n          selectTag.find(\"option\").not(\":first\").prop(\"selected\", false);\n        }\n      });\n    })\n\n    $form.on(\"change\", function() {\n      let $data = $form.serializeJSON().newsletter;\n      let $url = $form.data(\"recipients-count-newsletter-path\");\n      const $modal = $(\"#recipients_count_spinner\");\n      $modal.removeClass(\"hide\");\n      $.get($url, {data: $data}, function(recipientsCount) {\n        $(\"#recipients_count\").text(recipientsCount);\n      }).always(function() {\n        $modal.addClass(\"hide\");\n      });\n    })\n  }\n});\n","$(() => {\n  const $modal = $(\"#show-email-modal\");\n\n  if ($modal.length === 0) {\n    return\n  }\n\n  const $button = $(\"[data-open=user_email]\", $modal);\n  const $email = $(\"#user_email\", $modal);\n  const $fullName = $(\"#user_full_name\", $modal);\n\n  $(\"[data-toggle=show-email-modal]\").on(\"click\", (event) => {\n    event.preventDefault()\n\n    $button.show()\n    $button.attr(\"data-open-url\", event.currentTarget.href)\n    $fullName.text($(event.currentTarget).data(\"full-name\"))\n    $email.html(\"\")\n  })\n})\n","$(() => {\n  const $limitiedTimeLabel = $(\"label[for='component_settings_proposal_edit_time_limited']\")\n  const $limitedTimeRadioButton = $(\"#component_settings_proposal_edit_time_limited\")\n  const $infiniteTimeRadioButton = $(\"#component_settings_proposal_edit_time_infinite\")\n  const $editTimeContainer = $(\".proposal_edit_before_minutes_container\")\n\n  $editTimeContainer.detach().appendTo($limitiedTimeLabel)\n\n  if ($infiniteTimeRadioButton.is(\":checked\")) {\n    $editTimeContainer.hide();\n  }\n\n  $limitedTimeRadioButton.on(\"click\", () => {\n    $editTimeContainer.show();\n  })\n\n  $infiniteTimeRadioButton.on(\"click\", () => {\n    $editTimeContainer.hide();\n  })\n})\n","$(() => {\n  const $ComponentScopeEnabled = $(\"#component_settings_scopes_enabled\");\n  const $ComponentScopeId = $(\"#component_settings_scope_id\");\n\n  if ($(\".edit_component, .new_component\").length > 0) {\n    $ComponentScopeEnabled.on(\"change\", (event) => {\n      const checked = event.target.checked;\n      window.theDataPicker.enabled($ComponentScopeId, checked);\n    })\n    window.theDataPicker.enabled($ComponentScopeId, $ComponentScopeEnabled.prop(\"checked\"));\n  }\n});\n","/**\n * When switching tabs in i18n fields, autofocus on the input to save clicks #212\n */\n$(() => {\n  // Event launched by foundation\n  $(\"[data-tabs]\").on(\"change.zf.tabs\", (event) => {\n    const $container = $(event.target).next(\".tabs-content .tabs-panel.is-active\");\n    // Detect quilljs editor inside the tabs-panel\n    let $content = $container.find(\".editor .ql-editor\");\n    if ($content.length > 0) {\n      $content.focus();\n    // Detect if inside the tabs-panel have an input\n    } else {\n      $content = $container.find(\"input:first\");\n      if ($content.length > 0) {\n        $content.focus();\n      }\n    }\n  });\n});\n","$(() => {\n  const $scope = $(\"#welcome-notification-details\");\n\n  const $sendNotificationCheckbox = $(\n    \"#organization_send_welcome_notification\",\n    $scope\n  );\n\n  const $customizeCheckbox = $(\n    \"#organization_customize_welcome_notification\",\n    $scope\n  );\n\n  const toggleVisibility = () => {\n    if ($sendNotificationCheckbox.is(\":checked\")) {\n      $(\".send-welcome-notification-details\", $scope).show();\n    } else {\n      $(\".send-welcome-notification-details\", $scope).hide();\n    }\n\n    if ($customizeCheckbox.is(\":checked\")) {\n      $(\".customize-welcome-notification-details\", $scope).show();\n    } else {\n      $(\".customize-welcome-notification-details\", $scope).hide();\n    }\n  };\n\n  $($sendNotificationCheckbox).click(() => toggleVisibility());\n  $($customizeCheckbox).click(() => toggleVisibility());\n\n  toggleVisibility();\n});\n","/* eslint-disable require-jsdoc */\n/* eslint-disable no-prototype-builtins, no-restricted-syntax, no-param-reassign */\n\nlet callbacks = {};\n\nexport default function registerCallback(callbackId, callback) {\n  callbacks[callbackId] = callback;\n}\n\nconst unregisterCallback = (callbackId) => {\n  callbacks[callbackId] = null;\n}\n\nconst pushState = (url, state = null) => {\n  if (window.history) {\n    window.history.pushState(state, null, url);\n  }\n};\n\nconst replaceState = (url, state = null) => {\n  if (window.history) {\n    window.history.replaceState(state, null,  url);\n  }\n};\n\nconst state = () => {\n  if (window.history) {\n    return window.history.state;\n  }\n  return null;\n};\n\nwindow.onpopstate = (event) => {\n  // Ensure the event is caused by user action\n  if (event.isTrusted) {\n    for (let callbackId in callbacks) {\n      if (callbacks.hasOwnProperty(callbackId)) {\n        callbacks[callbackId](event.state);\n      }\n    }\n  }\n}\n\nexport { registerCallback, unregisterCallback, pushState, replaceState, state };\n","$(() => {\n  const $wrapper = $(\".slug\");\n  const $input = $wrapper.find(\"input\");\n  const $target = $wrapper.find(\"span.slug-url-value\");\n\n  $input.on(\"keyup\", (event) => {\n    $target.html(event.target.value);\n  });\n});\n"],"names":["showHideNav","evt","navMenu","document","querySelector","preventDefault","classList","toggle","SortListComponent","_createClass","sortListSelector","options","_classCallCheck","$","length","sortable","addEventListener","event","$children","target","children","onSortUpdate","createSortList","COUNT_KEY","DEFAULT_MESSAGES","charactersAtLeast","one","concat","other","charactersLeft","MESSAGES","InputCharacterCounter","input","_this","this","$input","$target","data","minCharacters","parseInt","attr","maxCharacters","describeByCounter","announceThreshold","Math","floor","announceEveryThreshold","targetId","random","toString","substr","parent","is","after","$srTarget","before","$userInput","Quill","setTimeout","editor","find","siblings","root","initialize","key","value","updateInputLength","previousInputLength","inputLength","bindEvents","setDescribedBy","active","removeAttr","_this2","on","handleInput","updateStatus","updateScreenReaderStatus","get","getLength","val","checkScreenReaderUpdate","currentLength","getInputLength","srLength","getInputDirection","announcedAt","showMessages","arguments","undefined","message","push","replace","remaining","_message","dispatchEvent","CustomEvent","detail","text","getMessages","join","getScreenReaderLength","messages","extend","each","_i","elem","createCharacterCounter","SubformTogglerComponent","controllerSelect","subformWrapperClass","globalWrapperSelector","_bindEvent","_runAll","idx","el","run","$subforms","parents","$selectedSubform","filter","prop","hide","show","window","Decidim","managedUsersForm","config","Configuration","navTrigger","theDataPicker","DataPicker","foundation","placeholder","sortUrl","order","map","index","child","toArray","ajax","method","url","contentType","JSON","stringify","items_ids","formDatePicker","_idx","container","createQuillEditor","FormFilterComponent","mountComponent","SubformMultiTogglerComponent","BudgetRuleTogglerComponent","ruleCheckboxes","checkbox","_this3","toggleTextInput","closest","containerClassPrefix","slideDown","slideUp","click","$amendmentsEnabled","$amendmentStepSettings","AutoButtonsByPositionComponent","listSelector","hideOnFirstSelector","hideOnLastSelector","$list","hideOnFirst","hideOnLast","$item","first","id","last","AutoLabelByPositionComponent","labelSelector","onPositionComputed","$label","labelContent","html","match","DynamicFieldsComponent","wrapperSelector","containerSelector","fieldSelector","addFieldButtonSelector","addSeparatorButtonSelector","addTitleAndDescriptionButtonSelector","fieldTemplateSelector","separatorTemplateSelector","TitleAndDescriptionTemplateSelector","removeFieldButtonSelector","moveUpFieldButtonSelector","moveDownFieldButtonSelector","onAddField","onRemoveField","onMoveUpField","onMoveDownField","placeholderId","elementCounter","_enableInterpolation","_activateFields","_bindEvents","fn","replaceAttribute","attribute","addBack","element","template","$subtemplate","oldHtml","outerHTML","$subtemplateParents","$self","$tpl","$subtpl","subtemplateId","subtemplateSelector","_bindSafeEvent","_addField","_removeField","_moveUpField","_moveDownField","cb","stopPropagation","error","console","templateClass","$wrapper","$container","templateSelector","$template","$newField","_getUID","$lastQuestion","appendTo","$removedField","name","deletedInput","addClass","remove","$movedUpField","prev","$movedDownField","next","append","Date","getTime","placeHolderId","addFieldSelector","forEach","section","fieldSelectorSuffix","autoButtonsByPosition","autoLabelByPosition","createSortableList","handle","forcePlaceholderSize","$field","hideDeletedItem","$draggables","draggablesClassNames","_toConsumableArray","className","split","test","not","parentElement","removeClass","acceptFrom","selector","placeholderClass","$autocompleteDiv","_index","parse","dataset","autocomplete","searchUrl","URL","searchURL","textInput","createElement","type","appendChild","mode","selected","item","label","AutoComplete","searchPrompt","searchPromptText","threshold","dataMatchKeys","dataSource","query","callback","params","URLSearchParams","_objectSpread","Object","fromEntries","searchParams","term","fetch","origin","pathname","headers","then","response","json","autoConfigure","Rails","querySelectorAll","select","targetTabPaneSelector","tabsContent","nextElementSibling","add","$moderationDetails","$toggleContentButton","$reportedContent","$currentContent","$originalContent","$form","$sendNewsletterToAllUsers","$sendNewsletterToFollowers","$sendNewsletterToParticipants","$participatorySpacesForSelect","checkSelectiveNewsletterFollowers","checkSelectiveNewsletterParticipants","checked","selectiveNewsletterParticipants","selectiveNewsletterFollowers","blockTag","selectTag","change","optionSelected","$data","serializeJSON","newsletter","$url","$modal","recipientsCount","always","$button","$email","$fullName","currentTarget","href","$limitiedTimeLabel","$limitedTimeRadioButton","$infiniteTimeRadioButton","$editTimeContainer","detach","$ComponentScopeEnabled","$ComponentScopeId","enabled","$content","focus","$scope","$sendNotificationCheckbox","$customizeCheckbox","toggleVisibility","callbacks","registerCallback","callbackId","unregisterCallback","pushState","state","history","replaceState","onpopstate","isTrusted","hasOwnProperty"],"sourceRoot":""}