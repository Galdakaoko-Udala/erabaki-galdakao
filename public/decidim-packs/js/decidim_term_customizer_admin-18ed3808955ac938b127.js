/*! For license information please see decidim_term_customizer_admin-18ed3808955ac938b127.js.LICENSE.txt */
!function(){var t,e={53957:function(t){var e;e=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=function(t){return"string"==typeof t?document.querySelector(t):t()},l=function(t,e){var n="string"==typeof t?document.createElement(t):t;for(var r in e){var i=e[r];if("inside"===r)i.append(n);else if("dest"===r)c(i[0]).insertAdjacentElement(i[1],n);else if("around"===r){var o=i;o.parentNode.insertBefore(n,o),n.append(o),null!=o.getAttribute("autofocus")&&o.focus()}else r in n?n[r]=i:n.setAttribute(r,i)}return n},u=function(t,e){return t=String(t).toLowerCase(),e?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):t},s=function(t,n){return l("mark",e({innerHTML:t},"string"==typeof n&&{class:n})).outerHTML},f=function(t,e){e.input.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e.feedback,cancelable:!0}))},d=function(t,e,n){var r=n||{},i=r.mode,o=r.diacritics,a=r.highlight,c=u(e,o);if(e=String(e),t=u(t,o),"loose"===i){var l=(t=t.replace(/ /g,"")).length,f=0,d=Array.from(e).map((function(e,n){return f<l&&c[n]===t[f]&&(e=a?s(e,a):e,f++),e})).join("");if(f===l)return d}else{var p=c.indexOf(t);if(~p)return t=e.substring(p,p+t.length),a?e.replace(t,s(t,a)):e}},p=function(t,e){return new Promise((function(n,r){var i;return(i=t.data).cache&&i.store?n():new Promise((function(t,n){return"function"==typeof i.src?i.src(e).then(t,n):t(i.src)})).then((function(e){try{return t.feedback=i.store=e,f("response",t),n()}catch(t){return r(t)}}),r)}))},h=function(t,e){var n=e.data,r=e.searchEngine,i=[];n.store.forEach((function(a,c){var l=function(n){var o=n?a[n]:a,c="function"==typeof r?r(t,o):d(t,o,{mode:r,diacritics:e.diacritics,highlight:e.resultItem.highlight});if(c){var l={match:c,value:a};n&&(l.key=n),i.push(l)}};if(n.keys){var u,s=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=o(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,a=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw a}}}}(n.keys);try{for(s.s();!(u=s.n()).done;)l(u.value)}catch(t){s.e(t)}finally{s.f()}}else l()})),n.filter&&(i=n.filter(i));var a=i.slice(0,e.resultsList.maxResults);e.feedback={query:t,matches:i,results:a},f("results",e)},v="aria-expanded",m="aria-activedescendant",y="aria-selected",b=function(t,n){t.feedback.selection=e({index:n},t.feedback.results[n])},S=function(t){t.isOpen||((t.wrapper||t.input).setAttribute(v,!0),t.list.removeAttribute("hidden"),t.isOpen=!0,f("open",t))},g=function(t){t.isOpen&&((t.wrapper||t.input).setAttribute(v,!1),t.input.setAttribute(m,""),t.list.setAttribute("hidden",""),t.isOpen=!1,f("close",t))},w=function(t,e){var n=e.resultItem,r=e.list.getElementsByTagName(n.tag),o=!!n.selected&&n.selected.split(" ");if(e.isOpen&&r.length){var a,c,l=e.cursor;t>=r.length&&(t=0),t<0&&(t=r.length-1),e.cursor=t,l>-1&&(r[l].removeAttribute(y),o&&(c=r[l].classList).remove.apply(c,i(o))),r[t].setAttribute(y,!0),o&&(a=r[t].classList).add.apply(a,i(o)),e.input.setAttribute(m,r[e.cursor].id),e.list.scrollTop=r[t].offsetTop-e.list.clientHeight+r[t].clientHeight+5,e.feedback.cursor=e.cursor,b(e,t),f("navigate",e)}},k=function(t){w(t.cursor+1,t)},E=function(t){w(t.cursor-1,t)},L=function(t,e,n){(n=n>=0?n:t.cursor)<0||(t.feedback.event=e,b(t,n),f("selection",t),g(t))};function O(t,n){var r=this;return new Promise((function(i,o){var a,c;return a=n||((c=t.input)instanceof HTMLInputElement||c instanceof HTMLTextAreaElement?c.value:c.innerHTML),function(t,e,n){return e?e(t):t.length>=n}(a=t.query?t.query(a):a,t.trigger,t.threshold)?p(t,a).then((function(n){try{return t.feedback instanceof Error?i():(h(a,t),t.resultsList&&function(t){var n=t.resultsList,r=t.list,i=t.resultItem,o=t.feedback,a=o.matches,c=o.results;if(t.cursor=-1,r.innerHTML="",a.length||n.noResults){var u=new DocumentFragment;c.forEach((function(t,n){var r=l(i.tag,e({id:"".concat(i.id,"_").concat(n),role:"option",innerHTML:t.match,inside:u},i.class&&{class:i.class}));i.element&&i.element(r,t)})),r.append(u),n.element&&n.element(r,o),S(t)}else g(t)}(t),u.call(r))}catch(t){return o(t)}}),o):(g(t),u.call(r));function u(){return i()}}))}var $=function(t,e){for(var n in t)for(var r in t[n])e(n,r)},j=function(t){var n,r,i,o=t.events,a=(n=function(){return O(t)},r=t.debounce,function(){clearTimeout(i),i=setTimeout((function(){return n()}),r)}),c=t.events=e({input:e({},o&&o.input)},t.resultsList&&{list:o?e({},o.list):{}}),l={input:{input:function(){a()},keydown:function(e){!function(t,e){switch(t.keyCode){case 40:case 38:t.preventDefault(),40===t.keyCode?k(e):E(e);break;case 13:e.submit||t.preventDefault(),e.cursor>=0&&L(e,t);break;case 9:e.resultsList.tabSelect&&e.cursor>=0&&L(e,t);break;case 27:e.input.value="",g(e)}}(e,t)},blur:function(){g(t)}},list:{mousedown:function(t){t.preventDefault()},click:function(e){!function(t,e){var n=e.resultItem.tag.toUpperCase(),r=Array.from(e.list.querySelectorAll(n)),i=t.target.closest(n);i&&i.nodeName===n&&L(e,t,r.indexOf(i))}(e,t)}}};$(l,(function(e,n){(t.resultsList||"input"===n)&&(c[e][n]||(c[e][n]=l[e][n]))})),$(c,(function(e,n){t[e].addEventListener(n,c[e][n])}))};function P(t){var n=this;return new Promise((function(r,i){var o,a,c;if(o=t.placeHolder,c={role:"combobox","aria-owns":(a=t.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},l(t.input,e(e({"aria-controls":a.id,"aria-autocomplete":"both"},o&&{placeholder:o}),!t.wrapper&&e({},c))),t.wrapper&&(t.wrapper=l("div",e({around:t.input,class:t.name+"_wrapper"},c))),a&&(t.list=l(a.tag,e({dest:[a.destination,a.position],id:a.id,role:"listbox",hidden:"hidden"},a.class&&{class:a.class}))),j(t),t.data.cache)return p(t).then((function(t){try{return u.call(n)}catch(t){return i(t)}}),i);function u(){return f("init",t),r()}return u.call(n)}))}function T(t){var e=t.prototype;e.init=function(){P(this)},e.start=function(t){O(this,t)},e.unInit=function(){if(this.wrapper){var t=this.wrapper.parentNode;t.insertBefore(this.input,this.wrapper),t.removeChild(this.wrapper)}var e;$((e=this).events,(function(t,n){e[t].removeEventListener(n,e.events[t][n])}))},e.open=function(){S(this)},e.close=function(){g(this)},e.goTo=function(t){w(t,this)},e.next=function(){k(this)},e.previous=function(){E(this)},e.select=function(t){L(this,null,t)},e.search=function(t,e,n){return d(t,e,n)}}return function t(e){this.options=e,this.id=t.instances=(t.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},function(t){var e=t.name,r=t.options,i=t.resultsList,o=t.resultItem;for(var a in r)if("object"===n(r[a]))for(var l in t[a]||(t[a]={}),r[a])t[a][l]=r[a][l];else t[a]=r[a];t.selector=t.selector||"#"+e,i.destination=i.destination||t.selector,i.id=i.id||e+"_list_"+t.id,o.id=o.id||e+"_result",t.input=c(t.selector)}(this),T.call(this,t),P(this)}},t.exports=e()},61765:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var o=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listSelector=e.listSelector,this.labelSelector=e.labelSelector,this.onPositionComputed=e.onPositionComputed,this.run()},(e=[{key:"run",value:function(){var t=this;$(this.listSelector).each((function(e,n){var r=$(n).find(t.labelSelector),i=r.html();i.match(/#(\d+)/)?r.html(i.replace(/#(\d+)/,"#".concat(e+1))):r.html("".concat(i," #").concat(e+1)),t.onPositionComputed&&t.onPositionComputed(n,e)}))}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===a(o)?o:String(o)),r)}var i,o}var l=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listSelector=e.listSelector,this.hideOnFirstSelector=e.hideOnFirstSelector,this.hideOnLastSelector=e.hideOnLastSelector,this.run()},(e=[{key:"run",value:function(){var t=$(this.listSelector),e=this.hideOnFirstSelector,n=this.hideOnLastSelector;if(1===t.length){var r=t.first();r.find(e).hide(),r.find(n).hide()}else t.each((function(r,i){i.id===t.first().attr("id")?($(i).find(e).hide(),$(i).find(n).show()):i.id===t.last().attr("id")?($(i).find(n).hide(),$(i).find(e).show()):($(i).find(n).show(),$(i).find(e).show())}))}}])&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===u(o)?o:String(o)),r)}var i,o}var f=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wrapperSelector=e.wrapperSelector,this.containerSelector=e.containerSelector,this.fieldSelector=e.fieldSelector,this.addFieldButtonSelector=e.addFieldButtonSelector,this.addSeparatorButtonSelector=e.addSeparatorButtonSelector,this.addTitleAndDescriptionButtonSelector=e.addTitleAndDescriptionButtonSelector,this.fieldTemplateSelector=e.fieldTemplateSelector,this.separatorTemplateSelector=e.separatorTemplateSelector,this.TitleAndDescriptionTemplateSelector=e.TitleAndDescriptionTemplateSelector,this.removeFieldButtonSelector=e.removeFieldButtonSelector,this.moveUpFieldButtonSelector=e.moveUpFieldButtonSelector,this.moveDownFieldButtonSelector=e.moveDownFieldButtonSelector,this.onAddField=e.onAddField,this.onRemoveField=e.onRemoveField,this.onMoveUpField=e.onMoveUpField,this.onMoveDownField=e.onMoveDownField,this.placeholderId=e.placeholderId,this.elementCounter=0,this._enableInterpolation(),this._activateFields(),this._bindEvents()},e=[{key:"_enableInterpolation",value:function(){$.fn.replaceAttribute=function(t,e,n){return $(this).find("[".concat(t,"*=").concat(e,"]")).addBack("[".concat(t,"*=").concat(e,"]")).each((function(r,i){$(i).attr(t,$(i).attr(t).replace(e,n))})),this},$.fn.template=function(t,e){var n=$(this).find("template, .decidim-template");n.length>0&&n.html((function(n,r){return $(r).template(t,e)[0].outerHTML}));var r=$(this).find("[data-template]");return r.length>0&&r.each((function(n,r){var i=$(r),o=$(i.data("template")),a=$(o[0].outerHTML),c="".concat(o.attr("id"),"-").concat(e),l="#".concat(c);a.attr("id",c),i.attr("data-template",l).data("template",l),o.after(a),a.html((function(n,r){return $(r).template(t,e)[0].outerHTML}))})),$(this).replaceAttribute("id",t,e),$(this).replaceAttribute("name",t,e),$(this).replaceAttribute("data-tabs-content",t,e),$(this).replaceAttribute("for",t,e),$(this).replaceAttribute("tabs_id",t,e),$(this).replaceAttribute("href",t,e),$(this).replaceAttribute("value",t,e),this}}},{key:"_bindEvents",value:function(){var t=this;$(this.wrapperSelector).on("click",this.addFieldButtonSelector,(function(e){return t._bindSafeEvent(e,(function(){return t._addField(t.fieldTemplateSelector)}))})),this.addSeparatorButtonSelector&&$(this.wrapperSelector).on("click",this.addSeparatorButtonSelector,(function(e){return t._bindSafeEvent(e,(function(){return t._addField(t.separatorTemplateSelector)}))})),this.addTitleAndDescriptionButtonSelector&&$(this.wrapperSelector).on("click",this.addTitleAndDescriptionButtonSelector,(function(e){return t._bindSafeEvent(e,(function(){return t._addField(t.TitleAndDescriptionTemplateSelector)}))})),$(this.wrapperSelector).on("click",this.removeFieldButtonSelector,(function(e){return t._bindSafeEvent(e,(function(e){return t._removeField(e)}))})),this.moveUpFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveUpFieldButtonSelector,(function(e){return t._bindSafeEvent(e,(function(e){return t._moveUpField(e)}))})),this.moveDownFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveDownFieldButtonSelector,(function(e){return t._bindSafeEvent(e,(function(e){return t._moveDownField(e)}))}))}},{key:"_bindSafeEvent",value:function(t,e){t.preventDefault(),t.stopPropagation();try{return e(t.target)}catch(n){return console.error(n),n}}},{key:"_addField",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".decidim-template",e=$(this.wrapperSelector),n=e.find(this.containerSelector),r=e.data("template"),i=null;r&&(i=$(r)),(null===i||i.length<1)&&(i=e.children("template, ".concat(t)));var o=$(i.html()).template(this.placeholderId,this._getUID());o.find("ul.tabs").attr("data-tabs",!0);var a=n.find(this.fieldSelector).last();a.length>0?a.after(o):o.appendTo(n),o.foundation(),this.onAddField&&this.onAddField(o)}},{key:"_removeField",value:function(t){var e=$(t).parents(this.fieldSelector);if(e.find("input").filter((function(t,e){return e.name.match(/id/)})).length>0){var n=e.find("input").filter((function(t,e){return e.name.match(/delete/)}));n.length>0&&$(n[0]).val(!0),e.addClass("hidden"),e.hide()}else e.remove();this.onRemoveField&&this.onRemoveField(e)}},{key:"_moveUpField",value:function(t){var e=$(t).parents(this.fieldSelector);e.prev().before(e),this.onMoveUpField&&this.onMoveUpField(e)}},{key:"_moveDownField",value:function(t){var e=$(t).parents(this.fieldSelector);e.next().after(e),this.onMoveDownField&&this.onMoveDownField(e)}},{key:"_activateFields",value:function(){var t=this,e=$(this.wrapperSelector).find(this.containerSelector);e.append(e.find("script")),$(this.fieldSelector).each((function(e,n){$(n).template(t.placeholderId,t._getUID()),$(n).find("ul.tabs").attr("data-tabs",!0)}))}},{key:"_getUID",value:function(){return this.elementCounter+=1,(new Date).getTime()+this.elementCounter}}],e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();var d=n(64112);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===p(o)?o:String(o)),r)}var i,o}function v(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var m=v((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),$(e).length>0&&(0,d.Z)(e,n)[0].addEventListener("sortupdate",(function(t){var e=$(t.target).children();n.onSortUpdate&&n.onSortUpdate(e)}))}));$((function(){var t=function(t){var e="#".concat(t.attr("id")),n=t.data("placeholder-id"),r=".multifield-field",i=new o({listSelector:"".concat(e," .multifield-field:not(.hidden)"),labelSelector:".card-title span:first",onPositionComputed:function(t,e){$(t).find("input.position-input").val(e)}}),a=new l({listSelector:"".concat(e," .multifield-field:not(.hidden)"),hideOnFirstSelector:".move-up-field",hideOnLastSelector:".move-down-field"}),c=function(){var t;t="".concat(e," .fields-list:not(.published)"),new m(t,{handle:".multifield-field-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){i.run()}})};new f({placeholderId:n,wrapperSelector:e,containerSelector:".multifield-fields-list",fieldSelector:r,addFieldButtonSelector:".add-field",removeFieldButtonSelector:".remove-field",moveUpFieldButtonSelector:".move-up-field",moveDownFieldButtonSelector:".move-down-field",onAddField:function(e){c(),i.run(),a.run(),t.trigger("add-field-section",e)},onRemoveField:function(){i.run(),a.run()},onMoveUpField:function(){i.run(),a.run()},onMoveDownField:function(){i.run(),a.run()}}),c(),$(r).each((function(t,e){!function(t){"true"===t.find("input[name$=\\[deleted\\]]").val()&&(t.addClass("hidden"),t.hide())}($(e))})),i.run(),a.run()};$.fn.multifield=function(){$(this).each((function(){var e=$(this),n=e.attr("id");(!n||n.length<1)&&(n="multifield-".concat(Math.random().toString(16).slice(2)),e.attr("id",n)),t(e)}))}}));n(24846),n(44076);var y=n(53957),b=n.n(y);function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function g(){g=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,a=Object.create(o.prototype),c=new A(r||[]);return i(a,"_invoke",{value:P(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",m={};function y(){}function b(){}function w(){}var k={};u(k,a,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(_([])));L&&L!==n&&r.call(L,a)&&(k=L);var O=w.prototype=y.prototype=Object.create(k);function $(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(i,o,a,c){var l=f(t[i],t,o);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==S(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(s).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(l.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function P(e,n,r){var i=d;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var c=r.delegate;if(c){var l=T(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=f(e,n,r);if("normal"===u.type){if(i=r.done?v:p,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function T(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function _(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(S(e)+" is not iterable")}return b.prototype=w,i(O,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},$(j.prototype),u(j.prototype,c,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new j(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},$(O),u(O,l,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=_,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return c.type="throw",c.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function w(t,e,n,r,i,o,a){try{var c=t[o](a),l=c.value}catch(u){return void n(u)}c.done?e(l):Promise.resolve(l).then(r,i)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,o=void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===S(o)?o:String(o)),r)}var i,o}var E=function(){return t=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.stickySelectedSpan=null,this.clearStickySelectionSpan=null,this.stickyHiddenInput=null,this.promptDiv=null;var i,o,a=r.threshold||2;this.options=Object.assign({name:null,placeholder:"",mode:null,searchPrompt:!1,searchPromptText:"Type at least ".concat(a," characters to search"),selected:null,threshold:a,maxResults:10,dataMatchKeys:null,dataSource:function(){return[]},dataFilter:null,delay:200,modifyResult:null},r),this.autocomplete=new(b())({selector:function(){return n.element},diacritics:!0,placeHolder:r.placeholder,debounce:200,threshold:this.options.threshold,data:{keys:this.options.dataMatchKeys,src:(i=g().mark((function t(e){var r;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){return new Promise((function(t){n.options.dataSource(e,t)}))},t.prev=1,t.next=4,r();case 4:return t.abrupt("return",t.sent);case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})),o=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){w(o,n,r,a,c,"next",t)}function c(t){w(o,n,r,a,c,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)}),filter:function(t){var e=t.filter((function(t,e,n){return n.findIndex((function(e){return e.value===t.value}))===e}));return n.options.dataFilter?n.options.dataFilter(e):e}},resultsList:{maxResults:this.options.maxResults},resultItem:{element:function(t,e){n.options.modifyResult&&n.options.modifyResult(t,e.value)}},events:{input:{blur:function(){n.promptDiv.style.display="none"}}}}),this.acWrapper=this.element.closest(".autoComplete_wrapper"),this.element.ac=this.autocomplete;var c=function(t){t.stopPropagation()};switch(this.element.addEventListener("close",c),this.element.addEventListener("open",c),this.createPromptDiv(),this.options.mode){case"sticky":this.createStickySelect(this.options.name);break;case"multi":this.createMultiSelect(this.options.name)}},(e=[{key:"setInput",value:function(t){this.autocomplete.input.value=t}},{key:"handleEvent",value:function(t){switch(this.options.mode){case"single":this.setInput(t.detail.selection.value[t.detail.selection.key]);break;case"sticky":this.handleStickyEvents(t);break;case"multi":this.handleMultiEvents(t)}}},{key:"handleMultiEvents",value:function(t){"selection"===t.type&&this.addMultiSelectItem(t.detail.selection)}},{key:"handleStickyEvents",value:function(t){switch(t.type){case"selection":this.addStickySelectItem(t.detail.selection);break;case"click":t.target===this.clearStickySelectionSpan&&this.removeStickySelection();break;case"keyup":""!==this.stickyHiddenInput.value&&t.target===this.element&&(["Escape","Backspace","Delete"].includes(t.key)||/^[a-z0-9]$/i.test(t.key))?this.removeStickySelection():this.options.searchPrompt&&(""===this.stickyHiddenInput.value&&this.element.value.length<this.options.threshold?this.promptDiv.style.display="block":this.promptDiv.style.display="none")}}},{key:"createHiddenInput",value:function(t){var e=document.createElement("input");return e.name=this.options.name,e.type="hidden",t&&(e.value=t),this.acWrapper.prepend(e),e}},{key:"removeStickySelection",value:function(){this.stickyHiddenInput.value="",this.element.placeholder=this.options.placeholder,this.clearStickySelectionSpan.style.display="none",this.stickySelectedSpan.style.display="none"}},{key:"addStickySelectItem",value:function(t){this.stickyHiddenInput.value=t.value.value,this.element.placeholder="",this.stickySelectedSpan.innerHTML=t.value[t.key],this.stickySelectedSpan.style.display="block",this.clearStickySelectionSpan.style.display="block",this.setInput("")}},{key:"addMultiSelectItem",value:function(t){var e=this;this.setInput("");var n=document.createElement("span");n.classList.add("label","primary","autocomplete__selected-item","multi"),n.innerHTML=t.value[t.key];var r=document.createElement("span");r.classList.add("clear-multi-selection"),r.innerHTML="&times;",r.setAttribute("data-remove",t.value.value),r.addEventListener("click",(function(n){var r=e.acWrapper.querySelector("input[type='hidden'][value='".concat(t.value.value,"']"));r&&(r.remove(),n.target.parentElement.remove())})),n.appendChild(r);var i=this.acWrapper.querySelector(".multiselect"),o=i.querySelector("span.input-container");i.insertBefore(n,o),this.createHiddenInput(t.value.value)}},{key:"createStickySelect",value:function(){var t=this;this.stickySelectedSpan=document.createElement("span"),this.stickySelectedSpan.classList.add("autocomplete__selected-item","sticky"),this.stickySelectedSpan.style.display="none",this.stickySelectedSpan.addEventListener("click",(function(){return t.element.focus()})),this.stickyHiddenInput=this.createHiddenInput(),this.clearStickySelectionSpan=document.createElement("span"),this.clearStickySelectionSpan.className="clear-sticky-selection",this.clearStickySelectionSpan.innerHTML="&times;",this.clearStickySelectionSpan.style.display="none",this.clearStickySelectionSpan.addEventListener("click",this),this.element.addEventListener("selection",this),this.element.addEventListener("keyup",this),this.acWrapper.insertBefore(this.clearStickySelectionSpan,this.element),this.acWrapper.insertBefore(this.stickySelectedSpan,this.element),this.options.selected&&this.addStickySelectItem(this.options.selected)}},{key:"createMultiSelect",value:function(){var t=this,e=document.createElement("div");e.classList.add("multiselect");var n=document.createElement("span");n.classList.add("input-container"),e.appendChild(n),this.acWrapper.prepend(e),n.appendChild(this.element),this.element.addEventListener("selection",this),e.addEventListener("click",(function(){t.element.focus()})),this.options.selected&&this.options.selected.forEach((function(e){t.addMultiSelectItem(e)}))}},{key:"createPromptDiv",value:function(){this.promptDiv=document.createElement("div"),this.promptDiv.classList.add("search-prompt"),this.promptDiv.style.display="none",this.promptDiv.innerHTML=this.options.searchPromptText,this.acWrapper.appendChild(this.promptDiv)}}])&&k(t.prototype,e),n&&k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function O(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function F(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===L(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}$((function(){var t=document.getElementById("tc-autocomplete"),e=document.getElementById("add-translations-results"),n=e.querySelector("template"),r=t.closest("form"),i=new URL(r.getAttribute("action"),window.location.origin),o="",a=[];r.addEventListener("submit",(function(t){return t.preventDefault()}));var c,l=function(t,e){var n=Object.fromEntries(i.searchParams.entries()),r=new URLSearchParams(T(T({},n),{},{term:t}));fetch("".concat(i.pathname,"?").concat(r.toString()),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){e(t)}))},u=(c=JSON.parse(t.dataset.autocomplete),new E(t,{name:t.getAttribute("name"),placeholder:t.getAttribute("placeholder"),searchPrompt:!0,searchPromptText:c.searchPromptText,threshold:3,dataMatchKeys:["label"],modifyResult:function(t,e){var n=o.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp("(".concat(n,")"),"gi"),i=t.textContent.replace(r,'<strong class="search-highlight">$1</strong>');t.innerHTML=i,t.dataset.value=e.value},dataSource:l}));t.addEventListener("keyup",(function(){o=t.value}));var s=function(){var e,n=O(t.nextSibling.querySelectorAll("li"));try{for(n.s();!(e=n.n()).done;){var r=e.value;a.indexOf(r.dataset.value)<0?r.classList.remove("hide"):r.classList.add("hide")}}catch(i){n.e(i)}finally{n.f()}};new MutationObserver((function(){s()})).observe(t.nextSibling,{childList:!0}),t.addEventListener("selection",(function(t){var r=t.detail.selection.value,i=n.content.cloneNode(!0).querySelector("tr");i.innerHTML=i.innerHTML.replace(new RegExp("{{translation_key}}","g"),r.value),i.innerHTML=i.innerHTML.replace(new RegExp("{{translation_term}}","g"),r.label);var o=e.querySelector("table tbody");o.appendChild(i),e.classList.remove("hide"),a.push(r.value),s(),i.querySelector(".remove-translation-key").addEventListener("click",(function(t){t.preventDefault(),i.parentNode.removeChild(i),a=a.filter((function(t){return t!==r.value})),s(),o.querySelectorAll("tr").length<1&&e.classList.add("hide")})),setTimeout((function(){u.autocomplete.open()}),0)})),document.addEventListener("click",(function(e){t.nextSibling.contains(e.target)||setTimeout((function(){u.autocomplete.close()}),0)}))}))},24846:function(){$((function(){$.fn.constraintSection=function(){$(this).each((function(){!function(t){var e=$("select.constraint-subject-selector",t),n=$("select.constraint-subject-model-selector",t);e.on("change init",(function(){var e=$(this).val();$("[data-manifest]",t).hide(),$('[data-manifest="'.concat(e,'"]'),t).show()})).trigger("init"),n.on("change init",(function(){var t=$(this).parents(".manifest-container"),e=$(this).val();$("[data-components]",t).hide(),$('[data-components="'.concat(e,'"]'),t).show()})).trigger("init")}($(this))}))}}))},44076:function(){$((function(){var t=$("form.translation-sets-form .multifield-fields");t.multifield(),t.on("add-field-section",(function(t,e){$(e).constraintSection()})),$(".constraints-list .constraint-section",t).each((function(t,e){$(e).constraintSection()}))}))}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t].call(o.exports,o,o.exports,r),o.exports}r.m=e,t=[],r.O=function(e,n,i,o){if(!n){var a=1/0;for(s=0;s<t.length;s++){n=t[s][0],i=t[s][1],o=t[s][2];for(var c=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(r.O).every((function(t){return r.O[t](n[l])}))?n.splice(l--,1):(c=!1,o<a&&(a=o));if(c){t.splice(s--,1);var u=i();void 0!==u&&(e=u)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[n,i,o]},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={8632:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,o,a=n[0],c=n[1],l=n[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(i in c)r.o(c,i)&&(r.m[i]=c[i]);if(l)var s=l(r)}for(e&&e(n);u<a.length;u++)o=a[u],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(s)},n=self.webpackChunkapp=self.webpackChunkapp||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var i=r.O(void 0,[4112],(function(){return r(61765)}));i=r.O(i)}();
//# sourceMappingURL=decidim_term_customizer_admin-18ed3808955ac938b127.js.map