(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7010],{22621:function(){$((function(){$(document).on("click","a[data-open-url],button[data-open-url]",(function(t){t.preventDefault();var e=t.currentTarget,i=$("#".concat(e.dataset.open));i.html("<div class='loading-spinner'></div>"),$.ajax({type:"get",url:e.dataset.openUrl,success:function(t){var e=$(t);i.html(e),e.foundation()},error:function(t,e,n){i.html("<h3>".concat(e,"</h3><p>").concat(n,"</p>"))}})}))}))},68844:function(t,e,i){"use strict";function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function r(t,e,i){return(e=c(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function c(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}i.d(e,{Z:function(){return l}});var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={}}var e,i,n;return e=t,i=[{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"object"===s(t)?this.config=a(a({},this.config),t):this.config[t]=e}},{key:"get",value:function(t){return this.config[t]}}],i&&o(e.prototype,i),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},29881:function(t,e,i){"use strict";var n=i(23972),a=i.n(n);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(a=n.key,s=void 0,s=function(t,e){if("object"!==r(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(a,"string"),"symbol"===r(s)?s:String(s)),n)}var a,s}var o=null,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$modal=$(o),this.$source=e,this.$content=$(".confirm-modal-content",this.$modal),this.$buttonConfirm=$("[data-confirm-ok]",this.$modal),this.$buttonCancel=$("[data-confirm-cancel]",this.$modal);var i="confirm-modal-title-".concat(Math.random().toString(36).substring(7));this.$modal.removeAttr("id"),$("#confirm-modal-title",this.$modal).attr("id",i),this.$modal.attr("aria-labelledby",i),$("body").append(this.$modal),this.$modal.foundation()}var e,i,n;return e=t,(i=[{key:"confirm",value:function(t){var e=this;return this.$content.html(t),this.$buttonConfirm.off("click"),this.$buttonCancel.off("click"),new Promise((function(t){e.$buttonConfirm.on("click",(function(i){i.preventDefault(),e.$modal.foundation("close"),t(!0),e.$source.focus()})),e.$buttonCancel.on("click",(function(i){i.preventDefault(),e.$modal.foundation("close"),t(!1),e.$source.focus()})),e.$modal.foundation("open").on("closed.zf.reveal",(function(){e.$modal.remove()}))}))}}])&&s(e.prototype,i),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l=function(t,e){(function(t,e){var i=$(e).data("confirm");return!i||!!a().fire(e,"confirm")&&(null===o&&(o=$("#confirm-modal")[0].outerHTML,$("#confirm-modal").remove()),new c($(e)).confirm(i).then((function(i){var n=a().fire(e,"confirm:complete",[i]);if(i&&n)if($(e).data("confirm",null),$(e).removeAttr("data-confirm"),"click"===t.type&&($(e).is('button[type="submit"]')||$(e).is('input[type="submit"]')))$(e).parents("form").submit();else{var r=t.originalEvent||t,s=r;"function"===typeof Event&&(s=new r.constructor(r.type,r)),t.target.dispatchEvent(s)}})),!1)})(t,e)||a().stopEverything(t)},u=function(t,e){for(var i=t.target;i instanceof Element&&!a().matches(i,e);)i=i.parentNode;return i instanceof Element?i:null},h=function(t,e){return e.some((function(e){var i=u(t,e);return null!==i&&(l(t,i),!0)}))};document.addEventListener("click",(function(t){return h(t,[a().linkClickSelector,a().buttonClickSelector,a().formInputClickSelector])})),document.addEventListener("change",(function(t){return h(t,[a().inputChangeSelector])})),document.addEventListener("submit",(function(t){return h(t,[a().formSubmitSelector])})),document.addEventListener("DOMContentLoaded",(function(){$(a().formInputClickSelector).on("click.confirm",(function(t){l(t,u(t,a().formInputClickSelector))}))}))},67925:function(t,e,i){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(r=a.key,s=void 0,s=function(t,e){if("object"!==n(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var a=i.call(t,e||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===n(s)?s:String(s)),a)}var r,s}i.d(e,{Z:function(){return r}});var r=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.modal=this._createModalContainer(),this.modal.appendTo($("body")),this.current=null,e.each((function(t,e){i.activate(e)}))}var e,i,n;return e=t,i=[{key:"activate",value:function(t){var e=this,i=$(t);this._setCurrentPicker(i,null);var n=this.current.name,a=this.current.values;this.current.multiple&&(n+="[]"),$("div",a).each((function(t,e){var i=$("a",e).data("picker-value");$(e).prepend($('<input type="'.concat("hidden",'" checked name="').concat(n,'" value="').concat(i,'"/>')))})),i.on("click","a",(function(t){if(t.preventDefault(),!i.hasClass("disabled")){var n=i.hasClass("picker-multiple");$(e._targetFromEvent(t)).hasClass("picker-prompt")||!n?e._openPicker(i,e._targetFromEvent(t)):"A"===e._targetFromEvent(t).tagName?e._removeValue(i,e._targetFromEvent(t).parentNode):e._removeValue(i,e._targetFromEvent(t))}})),i.on("click","input",(function(t){e._removeValue(i,e._targetFromEvent(t))})),this.current.autosort&&this._sort()}},{key:"enabled",value:function(t,e){$(t).toggleClass("disabled",!e),$("input",t).attr("disabled",!e)}},{key:"clear",value:function(t){$(".picker-values",t).html("")}},{key:"save",value:function(t){return $(".picker-values div:has(input:checked)",t).map((function(t,e){var i=$("a",e);return{value:$("input",e).val(),text:i.text(),url:i.attr("href")}})).get()}},{key:"load",value:function(t,e){var i=this;this._setCurrentPicker($(t),null),$.each(e,(function(t,e){i._choose(e,{interactive:!1,modify:!1})})),this.current.autosort&&this._sort()}},{key:"_createModalContainer",value:function(){return $('<div class="small reveal" id="data_picker-modal" aria-hidden="true" aria-live="assertive" role="dialog" aria-labelledby="data_picker-title" data-reveal data-multiple-opened="true">\n             <div class="data_picker-modal-content">'.concat('<div class="scope-picker picker-header"><h6 id="data_picker-title" class="h2"></h6></div>','</div>\n             <button class="close-button" data-close type="button" data-reveal-id="data_picker-modal"><span aria-hidden="true">&times;</span></button>\n             </div>'))}},{key:"_openPicker",value:function(t,e){this._setCurrentPicker(t,e),this._load($("a",e).attr("href"))}},{key:"_setCurrentPicker",value:function(t,e){var i=!1;e&&!$(e).hasClass("picker-prompt")&&(i=$(e)),this.current={picker:t,name:t.data("picker-name"),values:t.find(".picker-values"),multiple:t.hasClass("picker-multiple"),autosort:t.hasClass("picker-multiple")&&t.hasClass("picker-autosort"),target:i}}},{key:"_load",value:function(t){var e=this;$.ajax(t).done((function(t){var i=$(".data_picker-modal-content",e.modal);i.html(t),e._handleLinks(i),e._handleCheckboxes(i),e.modal.foundation("open")}))}},{key:"_handleLinks",value:function(t){var e=this;$("a",t).each((function(t,i){var n=$(i);n.click((function(t){if(t.preventDefault(),!n.data("close")&&""!==n.data("close")){var i=n.attr("href");i&&("undefined"===typeof n.data("picker-choose")?e._load(i):e._choose({url:i,value:n.data("picker-value")||"",text:n.data("picker-text")||""}))}}))}))}},{key:"_handleCheckboxes",value:function(t){var e=this;$("input[type=checkbox][data-picker-choose]",t).each((function(t,i){var n=$(i);i.checked=null!==e._targetFromValue(n.val())})).change((function(t){var i=$(t.target);t.target.checked?e._choose({url:i.data("picker-url"),value:i.val()||"",text:i.data("picker-text")||""},{modify:!1,close:!1}):e._removeValue(e.current.picker,e._targetFromValue(i.val()))}))}},{key:"_choose",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object.assign({interactive:!0,modify:!0,close:!0},e),n=this._escape(t.text),a=null;if(!this.current.target&&i.modify&&(this.current.target=this._targetFromValue(t.value)),this.current.target&&i.modify){var r=$("a",this.current.target);r.data("picker-value",t.value),r.attr("href",t.url),a=this.current.target,this.current.multiple?r.html("&times;&nbsp;".concat(n)):r.text(n)}else{var s="hidden",o=this.current.name;this.current.multiple?(o+="[]",a=$('<div><input type="'.concat(s,'" checked name="').concat(o,'"/><a href="').concat(t.url,'" data-picker-value="').concat(t.value,'" class="label primary">&times;&nbsp;').concat(n,"</a></div>"))):a=$('<div><input type="'.concat(s,'" checked name="').concat(o,'"/><a href="').concat(t.url,'" data-picker-value="').concat(t.value,'">').concat(n,"</a></div>")),a.appendTo(this.current.values),this.current.target||(this.current.target=a)}var c=$("input",a);c.attr("value",t.value),this.current.autosort&&this._sort(),i.interactive&&(c.trigger("change"),this._removeErrors(),i.close&&this._close())}},{key:"_sort",value:function(){var t=$(".picker-values",this.current.picker);t.children().sort((function(t,e){return $("input",t).val()-$("input",e).val()})).detach().appendTo(t)}},{key:"_close",value:function(){this.modal.foundation("close"),this.current.target=null}},{key:"_removeValue",value:function(t,e){var i=this;if(e){this._setCurrentPicker(t,e);var n=500;navigator&&navigator.webdriver&&(n=0),this.current.target.fadeOut(n,(function(){i.current.target.remove(),i.current.target=null}))}}},{key:"_removeErrors",value:function(){var t=this.current.picker.parent();$(".is-invalid-input",t).removeClass("is-invalid-input"),$(".is-invalid-label",t).removeClass("is-invalid-label"),$(".form-error.is-visible",t).removeClass("is-visible")}},{key:"_escape",value:function(t){return t.replace(/[\u00A0-\u9999<>&]/gim,(function(t){return"&#".concat(t.charCodeAt(0),";")}))}},{key:"_targetFromEvent",value:function(t){return t.target.parentNode}},{key:"_targetFromValue",value:function(t){return $("[data-picker-value=".concat(t,"]"),this.current.picker).parent()[0]||null}}],i&&a(e.prototype,i),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},85212:function(t,e,i){"use strict";i.d(e,{Z:function(){return o}});var n=i(49528);i(85641),i(49827),i(2905);function a(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var s=["bold","italic","link","underline","header","list","alt","break","width","style","code","blockquote","indent"];function o(t){var e=$(t).data("toolbar"),i=$(t).data("disabled"),r=[["bold","italic","underline","linebreak"],[{list:"ordered"},{list:"bullet"}],["link","clean"],["code","blockquote"],[{indent:"-1"},{indent:"+1"}]],o=!1,c=!1;"content"===e?r=[[{header:[2,3,4,5,6,!1]}]].concat(a(r)):"full"===e&&(o=!0,c=!0,r=[[{header:[2,3,4,5,6,!1]}]].concat(a(r),[["video"],["image"]]));var l={linebreak:{},toolbar:{container:r,handlers:{linebreak:n.Z}}},u=$(t).siblings('input[type="hidden"]');t.innerHTML=u.val()||"";var h=$('meta[name="csrf-token"]').attr("content");if(c&&s.push("video"),o){s.push("image"),l.imageResize={modules:["Resize","DisplaySize"]},l.imageUpload={url:$(t).data("uploadImagesPath"),method:"POST",name:"image",withCredentials:!1,headers:{"X-CSRF-Token":h},callbackOK:function(t,e){$("div.ql-toolbar").last().removeClass("editor-loading"),e(t.url)},callbackKO:function(t){$("div.ql-toolbar").last().removeClass("editor-loading"),console.log("Image upload error: ".concat(t.message))},checkBeforeSend:function(t,e){$("div.ql-toolbar").last().addClass("editor-loading"),e(t)}};var d=$(t).data("dragAndDropHelpText");$(t).after('<p class="help-text" style="margin-top:-1.5rem;">'.concat(d,"</p>"))}var f=new Quill(t,{modules:l,formats:s,theme:"snow"});return!1===o&&f.root.addEventListener("drop",(function(t){return t.preventDefault()})),i&&f.disable(),f.on("text-change",(function(){var e=f.getText(),i=new CustomEvent("quill-position",{detail:f.getSelection()});if(t.dispatchEvent(i),"\n"!==e&&"\n\n"!==e||0!==f.root.querySelectorAll("iframe").length){var n="<p><br></p>",a=f.root.innerHTML.replace(new RegExp("^".concat(n,"|").concat(n,"$"),"g"),"");u.val(a)}else u.val("")})),f.emitter.emit("editor-ready"),f}},71369:function(t,e,i){"use strict";function n(){$("[data-datepicker]").each((function(t,e){var i=$("html").attr("lang")||"en",n=$(e).data("startdate")||"",a=""===$(e).data("timepicker"),r=$(e).fdatepicker.dates[i]&&$(e).fdatepicker.dates[i].format,s=$(e).data("date-format")||r||"mm/dd/yyyy";$(e).fdatepicker({format:s,initialDate:n,language:i,pickTime:a,disableDblClickSelection:!0,leftArrow:"<<",rightArrow:">>"})}))}i.d(e,{Z:function(){return n}})},77857:function(t,e,i){"use strict";function n(t,e,i){var n=null;return function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];n&&clearTimeout(n),n=setTimeout((function(){n=null,Reflect.apply(e,t,r)}),i)}}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,s=void 0,s=function(t,e){if("object"!==a(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===a(s)?s:String(s)),n)}var r,s}i.d(e,{Z:function(){return p}});var s=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.checkboxesTree=document.querySelectorAll("[data-checkboxes-tree]"),this.checkboxesTree&&(this.globalChecks=document.querySelectorAll("[data-global-checkbox] input"),this.globalChecks.forEach((function(t){""===t.value&&t.classList.add("ignore-filter")})),this.checkGlobalCheck(),this.checkboxesTree.forEach((function(t){return t.addEventListener("click",(function(t){return e.checkTheCheckBoxes(t.target)}))})),document.querySelectorAll("[data-children-checkbox] input").forEach((function(t){t.addEventListener("change",(function(t){return e.checkTheCheckParent(t.target)}))})),document.querySelectorAll("[data-children-checkbox] input").forEach((function(t){e.checkTheCheckParent(t)})))}var e,i,n;return e=t,(i=[{key:"updateChecked",value:function(t,e){var i=this;t.each((function(t,n){(""===n.value&&1===e.length||""!==n.value&&e.includes(n.value))&&(n.checked=!0,i.checkTheCheckBoxes(n),i.checkTheCheckParent(n))}))}},{key:"setContainerForm",value:function(t){t.on("submit ajax:before",(function(){t.find(".ignore-filters input, input.ignore-filter").each((function(t,e){e.disabled=!0}))})),t.on("ajax:send",(function(){t.find(".ignore-filters input, input.ignore-filter").each((function(t,e){e.disabled=!1}))}))}},{key:"checkTheCheckBoxes",value:function(t){var e=t.dataset.checkboxesTree,i=t.checked;document.querySelectorAll("#".concat(e," input[type='checkbox']")).forEach((function(t){t.checked=i,t.indeterminate=!1,t.classList.add("ignore-filter")}))}},{key:"checkGlobalCheck",value:function(){this.globalChecks.forEach((function(t){var e=t.dataset.checkboxesTree,i=document.querySelectorAll("#".concat(e," input[type='checkbox']")),n=document.querySelectorAll("#".concat(e," input[type='checkbox']:checked")),a=Array.from(i).filter((function(t){return t.indeterminate}));0===n.length&&0===a.length?(t.checked=!1,t.indeterminate=!1):n.length===i.length&&0===a.length?(t.checked=!0,t.indeterminate=!1):(t.checked=!0,t.indeterminate=!0),i.forEach((function(e){t.indeterminate&&!e.indeterminate?e.classList.remove("ignore-filter"):e.classList.add("ignore-filter");var i=e.parentNode.parentNode.nextElementSibling;i&&i.classList.contains("filters__subfilters")&&(e.indeterminate?i.classList.remove("ignore-filters"):i.classList.add("ignore-filters"))}))}))}},{key:"checkTheCheckParent",value:function(t){var e=$(t).parents(".filters__subfilters").attr("id");if(e){var i=document.querySelector("[data-checkboxes-tree=".concat(e,"]")),n=document.querySelectorAll("#".concat(e," > div > [data-children-checkbox] > input, #").concat(e," > [data-children-checkbox] > input")),a=document.querySelectorAll("#".concat(e," > div > [data-children-checkbox] > input:checked, #").concat(e," > [data-children-checkbox] > input:checked")),r=Array.from(n).filter((function(t){return t.indeterminate}));0===a.length&&0===r.length?(i.checked=!1,i.indeterminate=!1):a.length===n.length&&0===r.length?(i.checked=!0,i.indeterminate=!1):(i.checked=!0,i.indeterminate=!0),n.forEach((function(t){parent.indeterminate&&!t.indeterminate?t.classList.remove("ignore-filter"):t.classList.add("ignore-filter");var e=t.parentNode.parentNode.nextElementSibling;e&&e.classList.contains("filters__subfilters")&&(t.indeterminate?e.classList.remove("ignore-filters"):e.classList.add("ignore-filters"))})),this.checkTheCheckParent(i)}else this.checkGlobalCheck()}}])&&r(e.prototype,i),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),o=i(42113),c=i(67925);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,a,r,s,o=[],c=!0,l=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;c=!1}else for(;!(c=(n=r.call(i)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(t){l=!0,a=t}finally{try{if(!c&&null!=i.return&&(s=i.return(),Object(s)!==s))return}finally{if(l)throw a}}return o}}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return h(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$form=e,this.id=this.$form.attr("id")||this._getUID(),this.mounted=!1,this.changeEvents=!0,this.theCheckBoxesTree=new s,this.theDataPicker=window.theDataPicker||new c.Z($(".data-picker")),this._updateInitialState(),this._onFormChange=n(this,this._onFormChange.bind(this)),this._onFormSubmit=n(this,this._onFormSubmit.bind(this)),this._onPopState=this._onPopState.bind(this),window.Decidim.PopStateHandler?this.popStateSubmiter=!1:(this.popStateSubmiter=!0,window.Decidim.PopStateHandler=this.id)}var e,i,a;return e=t,i=[{key:"unmountComponent",value:function(){this.mounted&&(this.mounted=!1,this.$form.off("change","input, select",this._onFormChange),this.$form.off("submit",this._onFormSubmit),(0,o.AP)("filters-".concat(this.id)))}},{key:"mountComponent",value:function(){var t=this;if(this.$form.length>0&&!this.mounted){this.mounted=!0;var e=0,i=$(this.$form.closest(".filters").parent().find(".skip").attr("href"));0===i.length&&this.$form.data("remoteFill")&&(i=this.$form.data("remoteFill")),this.$form.on("change","input:not([data-disable-dynamic-change]), select:not([data-disable-dynamic-change])",this._onFormChange),this.$form.on("submit",this._onFormSubmit),this.currentFormRequest=null,this.$form.on("ajax:beforeSend",(function(n){t.currentFormRequest&&t.currentFormRequest.abort(),t.currentFormRequest=n.originalEvent.detail[0],(e+=1)>0&&i.length>0&&!i.hasClass("spinner-container")&&i.addClass("spinner-container")})),this.$form.on("ajax:success",(function(){(e-=1)<=0&&i.length>0&&i.removeClass("spinner-container")})),this.$form.on("ajax:error",(function(){(e-=1)<=0&&i.length>0&&i.removeClass("spinner-container"),t.$form.find(".spinner-container").addClass("hide")})),this.theCheckBoxesTree.setContainerForm(this.$form),(0,o.jC)("filters-".concat(this.id),(function(e){t._onPopState(e)}))}}},{key:"_updateInitialState",value:function(){var t=u(this._currentStateAndPath(),2),e=t[0],i=t[1];i._path=e,(0,o.lO)(null,i)}},{key:"_getLocation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=(0,o.SB)(),i="";return i=e&&e._path?e._path:window.location.pathname+window.location.search+window.location.hash,t?window.location.origin+i:i}},{key:"_parseLocationFilterValues",value:function(){var t=decodeURIComponent(this._getLocation()).match(/filter\[([^\]]*)\](?:\[\])?=([^&]*)/g);return t?t.reduce((function(t,e){var i=u(e.match(/filter\[([^\]]*)\](\[\])?=([^&]*)/),4),n=i[1],a=i[2],r=i[3];return a?(t[n]||(t[n]=[]),t[n].push(r)):t[n]=r,t}),{}):null}},{key:"_parseLocationOrderValue",value:function(){var t=this._getLocation().match(/order=([^&]*)/),e=this.$form.find(".order-by .menu").find(".menu a:first").data("order");return t&&(e=t[1]),e}},{key:"_clearForm",value:function(){var t=this;this.$form.find("input[type=checkbox]").each((function(t,e){e.checked=e.indeterminate=!1})),this.$form.find("input[type=radio]").attr("checked",!1),this.$form.find(".data-picker").each((function(e,i){t.theDataPicker.clear(i)})),this.$form.find("fieldset input[type=radio]:first").each((function(){$(this)[0].checked=!0}))}},{key:"_onPopState",value:function(t){var e=this;this.changeEvents=!1,this._clearForm();var i=this._parseLocationFilterValues(),n=this._parseLocationOrderValue();this.$form.find("input.order_filter").val(n),i&&Object.keys(i).forEach((function(t){var n=i[t];if(Array.isArray(n)){var a=e.$form.find('input[type=checkbox][name="filter['.concat(t,'][]"]'));e.theCheckBoxesTree.updateChecked(a,n)}else e.$form.find('*[name="filter['.concat(t,']"]')).each((function(t,e){switch(e.type){case"hidden":break;case"radio":case"checkbox":e.checked=n===e.value;break;default:e.value=n}}))})),$(".data-picker",this.$form).each((function(i,n){var a=t[n.id];a&&e.theDataPicker.load(n,a)})),this.popStateSubmiter&&Rails.fire(this.$form[0],"submit",{from:"pop"}),this.changeEvents=!0}},{key:"_onFormChange",value:function(){this.changeEvents&&u(this._currentStateAndPath(),1)[0]!==this._getLocation(!1)&&Rails.fire(this.$form[0],"submit")}},{key:"_onFormSubmit",value:function(t){var e=t.originalEvent.detail;if(!e||"pop"!==e.from){var i=u(this._currentStateAndPath(),2),n=i[0],a=i[1];(0,o.qA)(n,a),this._saveFilters(n)}}},{key:"_currentStateAndPath",value:function(){var t=this,e=this.$form.attr("action"),i=this.$form.find(":not(.ignore-filters)").find("select:not(.ignore-filter), input:not(.ignore-filter)").serialize(),n="",a={};return n=e.indexOf("?")<0?"".concat(e,"?").concat(i):"".concat(e,"&").concat(i),$(".data-picker",this.$form).each((function(e,i){a[i.id]=t.theDataPicker.save(i)})),[n,a]}},{key:"_getUID",value:function(){return"filter-form-".concat((new Date).getUTCMilliseconds(),"-").concat(Math.floor(1e7*Math.random()))}},{key:"_saveFilters",value:function(t){if(window.sessionStorage){var e,i,n,a=this.$form.attr("action");sessionStorage.setItem("filteredParams",JSON.stringify((e={},n=t,(i=f(i=a))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e)))}}}],i&&d(e.prototype,i),a&&d(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},85118:function(){!function(t){t.fn.fdatepicker.dates.lb={days:["Sonndeg","M\xe9indeg","D\xebnschdeg","M\xebttwoch","Donneschdeg","Freideg","Samschdeg","Sonndeg"],daysShort:["Son","M\xe9i","D\xebn","M\xebt","Don","Fre","Sam","Son"],daysMin:["So","M\xe9","D\xeb","M\xeb","Do","Fr","Sa","So"],months:["Januar","Februar","M\xe4erz","Abr\xebll","Mee","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Febr","Mrz","Abr","Mee","Jun","Jul","Aug","Sept","Okt","Nov","Dez"],today:"Haut"}}(jQuery)},47957:function(t,e,i){"use strict";i(96896),i(54498),i(23875),i(39646),i(74097),i(25247),i(61729),i(41802),i(88454),i(57883),i(52668),i(14851),i(82348),i(7386),i(96055),i(5207),i(66418),i(34090),i(63364),i(29476),i(59184),i(42656),i(11623),i(27945),i(66050),i(32766),i(1064),i(83685),i(86462),i(14728),i(22345),i(81090),i(63922),i(13265),i(30269),i(21302),i(11805),i(28322),i(36798),i(57733),i(96025),i(21268),i(34486),i(40705),i(64058),i(54402),i(32016),i(11219),i(95692),i(35426),i(53489),i(47200),i(6348),i(82722),i(70401),i(4808),i(63406),i(25013),i(31092),i(61342),i(42675),i(36341),i(45042),i(29167),i(85118)},15947:function(){$((function(){$(".gallery__container").on("closed.zf.callout",(function(t){$(t.target).remove()}))}))},8347:function(t,e,i){"use strict";var n=i(41326),a=i.n(n);$((function(){var t=$(".js-hashtags"),e=t.attr("data-noresults"),i=null;e&&(i=function(){return"<li>".concat(e,"</li>")});var n="";t.on("quill-position",(function(t){null!==t.detail&&("#"===t.target.__quill.getText(t.detail.index-1,1)&&(n=t.detail.index))}));var r=new(a())({trigger:"#",values:function(t,e){!function(t,e){$.post("/api",{query:'{hashtags(name:"'.concat(t,'") {name}}')}).then((function(t){var i=t.data.hashtags||{};e(i)})).fail((function(){e([])})).always((function(){var t=$(r.current.element).parent();t.addClass("is-active"),t.find(".tribute-container").removeAttr("style")}))}(t,(function(t){return e(t)}))},positionMenu:!0,menuContainer:null,fillAttr:"name",noMatchTemplate:i,lookup:function(t){return t.name},selectTemplate:function(t){if("undefined"===typeof t)return null;if(this.range.isContentEditable(this.current.element)){if($(this.current.element).hasClass("ql-editor")){var e=$(this.current.element).parent().get(0).__quill;e.insertText(n-1,"#".concat(t.original.name," "),Quill.sources.API);var i=n+t.original.name.length+2,a=0;return a=e.getLength()>i?i:e.getLength()-1,setTimeout((function(){e.setSelection(a,0)}),500),""}return'<span contenteditable="false">#'.concat(t.original.name,"</span>")}return"#".concat(t.original.name)},menuItemTemplate:function(t){return"<strong>".concat(t.original.name,"</strong>")}});setTimeout((function(){t.each((function(t,e){var i=$(".ql-editor",e);i.length>0?r.attach(i):r.attach(e)}))}),1e3),t.on("focusin",(function(t){r.menuContainer=t.target.parentNode})),t.on("focusout",(function(t){var e=$(t.target).parent();e.hasClass("is-active")&&e.removeClass("is-active")})),t.on("input",(function(t){var e=$(t.target).parent();r.isActive?($(".tribute-container").appendTo(e),e.addClass("is-active")):e.removeClass("is-active")}))}))},22879:function(t,e,i){"use strict";var n=i(41326),a=i.n(n);$((function(){var t=$(".js-mentions"),e=t.attr("data-noresults"),i=null;e&&(i=function(){return"<li>".concat(e,"</li>")});var n="";t.on("quill-position",(function(t){null!==t.detail&&("@"===t.target.__quill.getText(t.detail.index-1,1)&&(n=t.detail.index))}));var r=new(a())({trigger:"@",values:function(t,e){var i=this,n=null;return function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var o=i;clearTimeout(n),n=setTimeout((function(){return t.apply(o,r)}),e)}}((function(t,e){!function(t,e){var i='{users(filter:{wildcard:"'.concat(t,'"}){nickname,name,avatarUrl,__typename,...on UserGroup{membersCount}}}');$.post("/api",{query:i}).then((function(t){var i=t.data.users||{};e(i)})).fail((function(){e([])})).always((function(){var t=$(r.current.element).parent();t.addClass("is-active"),t.find(".tribute-container").removeAttr("style")}))}(t,(function(t){return e(t)}))}),250),positionMenu:!0,menuContainer:null,allowSpaces:!0,menuItemLimit:5,fillAttr:"nickname",selectClass:"highlight",noMatchTemplate:i,lookup:function(t){return t.nickname+t.name},selectTemplate:function(t){if("undefined"===typeof t)return null;if(this.range.isContentEditable(this.current.element)){if($(this.current.element).hasClass("ql-editor")){var e=$(this.current.element).parent().get(0).__quill;e.insertText(n-1,"".concat(t.original.nickname," "),Quill.sources.API);var i=n+t.original.nickname.length+2,a=0;return a=e.getLength()>i?i:e.getLength()-1,setTimeout((function(){e.setSelection(a,0)}),500),""}return'<span contenteditable="false">'.concat(t.original.nickname,"</span>")}return t.original.nickname},menuItemTemplate:function(t){var e="";if(window.Decidim&&"UserGroup"===t.original.__typename){var i=window.Decidim.config.get("icons_path");e='<span class="is-group">'.concat(t.original.membersCount,'x <svg class="icon--members icon"><use href="').concat(i,'#icon-members"/></svg></span>')}return'<div class="tribute-item '.concat(t.original.__typename,'">\n      <span class="author__avatar"><img src="').concat(t.original.avatarUrl,'" alt="author-avatar"></span>\n        <strong>').concat(t.original.nickname,"</strong>\n        <small>").concat(t.original.name,"</small>\n        ").concat(e,"\n      </div>")}}),s=function(t){t.on("focusin",(function(t){r.menuContainer=t.target.parentNode})),t.on("focusout",(function(t){var e=$(t.target).parent();e.hasClass("is-active")&&e.removeClass("is-active")})),t.on("input",(function(t){var e=$(t.target).parent();r.isActive?($(".tribute-container").appendTo(e),e.addClass("is-active")):e.removeClass("is-active")}))};s(t),$(document).on("attach-mentions-element",(function(t,e){e&&(r.attach(e),r.menu&&!document.body.contains(r.menu)&&r.range.getDocument().body.appendChild(r.menu),s($(e)))})),setTimeout((function(){t.each((function(t,e){var i=$(".ql-editor",e);i.length>0?r.attach(i):r.attach(e)}))}),1e3)}))},33622:function(t,e,i){"use strict";i(72665);$((function(){$(".js-tags-container").tagsinput({tagClass:"input__tag",trimValue:!0})}))},70953:function(t,e,i){"use strict";var n=i(30381),a=i.n(n);$((function(){var t=!0,e=$("#timeoutModal"),i=parseInt(e.data("session-timeout"),10),n=e.data("seconds-until-timeout-path"),r=e.data("heartbeat-path"),s=parseInt(e.data("session-timeout-interval"),10),o=e.data("prevent-timeout-seconds"),c=a()().add(i,"seconds"),l=a()(),u=$("#continueSession"),h=a()(),d=a()().add(o,"seconds");if(u.on("click",(function(){e.foundation("close"),$(".reveal-overlay").css("display","none"),h=a()()})),!isNaN(s)&&i){var f=function(t){t&&(c=a()().add(t,"seconds"))},p=function(){return $.ajax({method:"POST",url:r,contentType:"application/javascript"})},m=setInterval((function(){var i,r=Math.round((a()()-h)/1e3);!("block"===$("#timeoutModal").parent().css("display"))&&r>=300&&(h=a()(),i=300,(a()()-l)/1e3<i)?p():Math.round((c-a()())/1e3)>170||(a()()<d?p():$.ajax({method:"GET",url:n,contentType:"application/json",headers:{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")}}).then((function(i){var n=i.seconds_remaining;f(n),t?n<=90?e.find("#reveal-hidden-sign-out")[0].click():n<=150&&e.foundation("open"):p()})))}),s);$(document).mousemove((function(){l=a()()})),$(document).scroll((function(){l=a()()})),$(document).keypress((function(){l=a()()})),$(document).on("ajax:complete",(function(){f(i)})),$(document).ajaxComplete((function(t,e,a){a&&a.url===n||f(i)})),window.addEventListener("beforeunload",(function(){clearInterval(m)})),window.Decidim.enableSessionTimeout=function(){t=!0},window.Decidim.disableSessionTimeout=function(){t=!1}}}))},24597:function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"===typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}!function(e){function n(){return new Date(Date.UTC.apply(Date,arguments))}var a=function(t,i){var n=this;this.element=e(t),this.autoShow=void 0==i.autoShow||i.autoShow,this.appendTo=i.appendTo||"body",this.closeButton=i.closeButton,this.language=i.language||this.element.data("date-language")||"en",this.language=this.language in r?this.language:this.language.split("-")[0],this.language=this.language in r?this.language:"en",this.isRTL=r[this.language].rtl||!1,this.format=s.parseFormat(i.format||this.element.data("date-format")||r[this.language].format||"mm/dd/yyyy"),this.formatText=i.format||this.element.data("date-format")||r[this.language].format||"mm/dd/yyyy",this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".prefix, .postfix"),this.hasInput=this.component&&this.element.find("input").length,this.disableDblClickSelection=i.disableDblClickSelection,this.onRender=i.onRender||function(){},this.component&&0===this.component.length&&(this.component=!1),this.linkField=i.linkField||this.element.data("link-field")||!1,this.linkFormat=s.parseFormat(i.linkFormat||this.element.data("link-format")||"yyyy-mm-dd hh:ii:ss"),this.minuteStep=i.minuteStep||this.element.data("minute-step")||5,this.pickerPosition=i.pickerPosition||this.element.data("picker-position")||"bottom-right",this.initialDate=i.initialDate||null,this.faCSSprefix=i.faCSSprefix||"fa",this.leftArrow=i.leftArrow||'<i class="'.concat(this.faCSSprefix," ").concat(this.faCSSprefix,'-chevron-left fi-arrow-left"/>'),this.rightArrow=i.rightArrow||'<i class="'.concat(this.faCSSprefix," ").concat(this.faCSSprefix,'-chevron-right fi-arrow-right"/>'),this.closeIcon=i.closeIcon||'<i class="'.concat(this.faCSSprefix," ").concat(this.faCSSprefix,"-remove ").concat(this.faCSSprefix,'-times fi-x"></i>'),this.minView=0,"minView"in i?this.minView=i.minView:"minView"in this.element.data()&&(this.minView=this.element.data("min-view")),this.minView=s.convertViewMode(this.minView),this.maxView=s.modes.length-1,"maxView"in i?this.maxView=i.maxView:"maxView"in this.element.data()&&(this.maxView=this.element.data("max-view")),this.maxView=s.convertViewMode(this.maxView),this.startViewMode="month","startView"in i?this.startViewMode=i.startView:"startView"in this.element.data()&&(this.startViewMode=this.element.data("start-view")),this.startViewMode=s.convertViewMode(this.startViewMode),this.viewMode=this.startViewMode,"minView"in i||"maxView"in i||this.element.data("min-view")||this.element.data("max-view")||(this.pickTime=!1,"pickTime"in i&&(this.pickTime=i.pickTime),1==this.pickTime?(this.minView=0,this.maxView=4):(this.minView=2,this.maxView=4)),this.forceParse=!0,"forceParse"in i?this.forceParse=i.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=e(s.template(this.leftArrow,this.rightArrow,this.closeIcon)).appendTo(this.isInline?this.element:this.appendTo).on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.closeButton?this.picker.find("a.datepicker-close").show():this.picker.find("a.datepicker-close").hide(),this.isInline?this.picker.addClass("datepicker-inline"):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.isRTL&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".date-switch").each((function(){e(this).parent().prepend(e(this).siblings(".next")),e(this).parent().append(e(this).siblings(".prev"))})),this.picker.find(".prev, .next").toggleClass("prev next")),e(document).on("mousedown",(function(t){n.isInput&&t.target===n.element[0]||0===e(t.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length&&n.hide()})),this.autoclose=!0,"autoclose"in i?this.autoclose=i.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in i?this.keyboardNavigation=i.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.todayBtn=i.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=i.todayHighlight||this.element.data("date-today-highlight")||!1,this.calendarWeeks=!1,"calendarWeeks"in i?this.calendarWeeks=i.calendarWeeks:"dateCalendarWeeks"in this.element.data()&&(this.calendarWeeks=this.element.data("date-calendar-weeks")),this.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",(function(t,e){return parseInt(e)+1})),this.weekStart=(i.weekStart||this.element.data("date-weekstart")||r[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.datesDisabled=[],this.setStartDate(i.startDate||this.element.data("date-startdate")),this.setEndDate(i.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(i.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.setDatesDisabled(i.datesDisabled||this.element.data("dates-disabled")),null!=this.initialDate&&(this.date=this.viewDate=s.parseDate(this.initialDate,this.format,this.language),this.setValue()),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show(),this._attachEvents()};a.prototype={constructor:a,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this.keyboardNavigation?this._events=[[this.element,{focus:this.autoShow?e.proxy(this.show,this):function(){},keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this),click:this.element.attr("readonly")?e.proxy(this.show,this):function(){}}]]:this._events=[[this.element,{focus:this.autoShow?e.proxy(this.show,this):function(){}}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:this.autoShow?e.proxy(this.show,this):function(){},keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this.disableDblClickSelection&&(this._events[this._events.length]=[this.element,{dblclick:function(t){t.preventDefault(),t.stopPropagation(),e(this).blur()}}]);for(var t,i,n=0;n<this._events.length;n++)t=this._events[n][0],i=this._events[n][1],t.on(i)},_detachEvents:function(){for(var t,e,i=0;i<this._events.length;i++)t=this._events[i][0],e=this._events[i][1],t.off(e);this._events=[]},show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.update(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.element.trigger({type:"show",date:this.date})},hide:function(t){this.isInline||this.picker.is(":visible")&&(this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.element.trigger({type:"hide",date:this.date}))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.element.data().datepicker},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):(this.component&&this.element.find("input").val(t),this.element.data("date",t))},getFormattedDate:function(t){return void 0===t&&(t=this.format),s.formatDate(this.date,t,this.language)},setStartDate:function(t){this.startDate=t||-1/0,this.startDate!==-1/0&&(this.startDate=s.parseDate(this.startDate,this.format,this.language)),this.update(),this.updateNavArrows()},setEndDate:function(t){this.endDate=t||1/0,this.endDate!==1/0&&(this.endDate=s.parseDate(this.endDate,this.format,this.language)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,(function(t){return parseInt(t,10)})),this.update(),this.updateNavArrows()},setDatesDisabled:function(t){this.datesDisabled=t||[],e.isArray(this.datesDisabled)||(this.datesDisabled=this.datesDisabled.split(/,\s*/)),this.datesDisabled=e.map(this.datesDisabled,(function(t){return s.parseDate(t,this.format,this.language).valueOf()})),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=[];this.element.parents().map((function(){"auto"!=e(this).css("z-index")&&t.push(parseInt(e(this).css("z-index")))}));var i=t.sort((function(t,e){return t-e})).pop()+10,n=this.component?this.component:this.element,a=n.offset(),r=n.outerHeight()+parseInt(n.css("margin-top")),s=n.outerWidth()+parseInt(n.css("margin-left")),o=a.top+r,c=a.left;this.picker.removeClass("datepicker-top datepicker-bottom");var l=e(window).scrollTop()<a.top-this.picker.outerHeight(),u=o+this.picker.outerHeight()<e(window).scrollTop()+e(window).height();!u&&l?(o=a.top-this.picker.outerHeight(),this.picker.addClass("datepicker-top")):(u||e(window).scrollTop(a.top),this.picker.addClass("datepicker-bottom")),a.left+this.picker.width()>=e(window).width()&&(c=a.left+s-this.picker.width()),this.picker.css({top:o,left:c,zIndex:i})}},update:function(){var t,e=!1,i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();arguments&&arguments.length&&("string"===typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),this.date=s.parseDate(t,this.format,this.language),e?this.setValue():""==i&&this.element.trigger({type:"changeDate",date:null}),this.date<this.startDate?this.viewDate=new Date(this.startDate.valueOf()):this.date>this.endDate?this.viewDate=new Date(this.endDate.valueOf()):this.viewDate=new Date(this.date.valueOf()),this.fill()},fillDow:function(){var t=this.weekStart,e="<tr>";if(this.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.weekStart+7;)e+='<th class="dow">'.concat(r[this.language].daysMin[t++%7],"</th>");e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'.concat(r[this.language].monthsShort[e++],"</span>");this.picker.find(".datepicker-months td").html(t)},fill:function(){if(null!=this.date&&null!=this.viewDate){var t=new Date(this.viewDate.valueOf()),i=t.getUTCFullYear(),a=t.getUTCMonth(),o=t.getUTCDate(),c=t.getUTCHours(),l=t.getUTCMinutes(),u=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,h=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,d=this.endDate!==1/0?this.endDate.getUTCFullYear():1/0,f=this.endDate!==1/0?this.endDate.getUTCMonth():1/0,p=this.date&&n(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate()).valueOf(),m=new Date;r[this.language].titleFormat||r.en.titleFormat;this.picker.find(".datepicker-days thead th:eq(1)").text("".concat(r[this.language].months[a]," ").concat(i)),this.picker.find(".datepicker-hours thead th:eq(1)").text("".concat(o," ").concat(r[this.language].months[a]," ").concat(i)),this.picker.find(".datepicker-minutes thead th:eq(1)").text("".concat(o," ").concat(r[this.language].months[a]," ").concat(i)),this.picker.find("tfoot th.today").text(r[this.language].today).toggle(!1!==this.todayBtn),this.updateNavArrows(),this.fillMonths();var v=n(i,a-1,28,0,0,0,0),g=s.getDaysInMonth(v.getUTCFullYear(),v.getUTCMonth());v.setUTCDate(g),v.setUTCDate(g-(v.getUTCDay()-this.weekStart+7)%7);var y=new Date(v.valueOf());y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var b,k=[];v.valueOf()<y;){if(v.getUTCDay()==this.weekStart&&(k.push("<tr>"),this.calendarWeeks)){var w=new Date(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()-v.getDay()+10-(this.weekStart&&this.weekStart%7<5&&7)),D=new Date(w.getFullYear(),0,4),C=~~((w-D)/864e5/7+1.5);k.push('<td class="cw">'.concat(C,"</td>"))}b=" ".concat(this.onRender(v)," "),v.getUTCFullYear()<i||v.getUTCFullYear()==i&&v.getUTCMonth()<a?b+=" old":(v.getUTCFullYear()>i||v.getUTCFullYear()==i&&v.getUTCMonth()>a)&&(b+=" new"),this.todayHighlight&&v.getUTCFullYear()==m.getFullYear()&&v.getUTCMonth()==m.getMonth()&&v.getUTCDate()==m.getDate()&&(b+=" today"),p&&v.valueOf()==p&&(b+=" active"),(v.valueOf()<this.startDate||v.valueOf()>this.endDate||-1!==e.inArray(v.getUTCDay(),this.daysOfWeekDisabled)||-1!==e.inArray(v.valueOf(),this.datesDisabled))&&(b+=" disabled"),k.push('<td class="day'.concat(b,'">').concat(v.getUTCDate(),"</td>")),v.getUTCDay()==this.weekEnd&&k.push("</tr>"),v.setUTCDate(v.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(k.join("")),k=[];for(var T=0;T<24;T++){b="",(S=n(i,a,o,T)).valueOf()+36e5<this.startDate||S.valueOf()>this.endDate?b+=" disabled":c==T&&(b+=" active"),k.push('<span class="hour'.concat(b,'">').concat(T,":00</span>"))}this.picker.find(".datepicker-hours td").html(k.join("")),k=[];for(T=0;T<60;T+=this.minuteStep){var S;b="",(S=n(i,a,o,c,T)).valueOf()<this.startDate||S.valueOf()>this.endDate?b+=" disabled":Math.floor(l/this.minuteStep)==Math.floor(T/this.minuteStep)&&(b+=" active"),k.push('<span class="minute'.concat(b,'">').concat(c,":").concat(T<10?"0".concat(T):T,"</span>"))}this.picker.find(".datepicker-minutes td").html(k.join(""));var j=this.date&&this.date.getUTCFullYear(),$=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");j&&j==i&&$.eq(this.date.getUTCMonth()).addClass("active"),(i<u||i>d)&&$.addClass("disabled"),i==u&&$.slice(0,h).addClass("disabled"),i==d&&$.slice(f+1).addClass("disabled"),k="",i=10*parseInt(i/10,10);var x=this.picker.find(".datepicker-years").find("th:eq(1)").text("".concat(i,"-").concat(i+9)).end().find("td");i-=1;for(T=-1;T<11;T++)k+='<span class="year'.concat(-1==T||10==T?" old":"").concat(j==i?" active":"").concat(i<u||i>d?" disabled":"",'">').concat(i,"</span>"),i+=1;x.html(k)}},updateNavArrows:function(){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth(),n=t.getUTCDate(),a=t.getUTCHours();switch(this.viewMode){case 0:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()&&a<=this.startDate.getUTCHours()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()&&a>=this.endDate.getUTCHours()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()&&n<=this.startDate.getUTCDate()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()&&n>=this.endDate.getUTCDate()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 2:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()&&i<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()&&i>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 3:case 4:this.startDate!==-1/0&&e<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.endDate!==1/0&&e>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(t){t.stopPropagation(),t.preventDefault(),(e(t.target).hasClass("datepicker-close")||e(t.target).parent().hasClass("datepicker-close"))&&this.hide();var i=e(t.target).closest("span, td, th");if(1==i.length){if(i.is(".disabled"))return void this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"date-switch":this.showMode(1);break;case"prev":case"next":var a=s.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,a);break;case 1:this.viewDate=this.moveDate(this.viewDate,a);break;case 2:this.viewDate=this.moveMonth(this.viewDate,a);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,a)}this.fill();break;case"today":var r=new Date;r=n(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()),this.viewMode=this.startViewMode,this.showMode(0),this._setDate(r)}break;case"span":if(!i.is(".disabled")){if(i.is(".month"))if(3===this.minView){var o=i.parent().find("span").index(i)||0,c=this.viewDate.getUTCFullYear(),l=1,u=this.viewDate.getUTCHours(),h=this.viewDate.getUTCMinutes(),d=this.viewDate.getUTCSeconds();this._setDate(n(c,o,l,u,h,d,0))}else{this.viewDate.setUTCDate(1);o=i.parent().find("span").index(i);this.viewDate.setUTCMonth(o),this.element.trigger({type:"changeMonth",date:this.viewDate})}else if(i.is(".year"))if(4===this.minView){c=parseInt(i.text(),10)||0,o=0,l=1,u=this.viewDate.getUTCHours(),h=this.viewDate.getUTCMinutes(),d=this.viewDate.getUTCSeconds();this._setDate(n(c,o,l,u,h,d,0))}else{this.viewDate.setUTCDate(1);c=parseInt(i.text(),10)||0;this.viewDate.setUTCFullYear(c),this.element.trigger({type:"changeYear",date:this.viewDate})}else if(i.is(".hour")){u=parseInt(i.text(),10)||0,c=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCDate(),h=this.viewDate.getUTCMinutes(),d=this.viewDate.getUTCSeconds();this._setDate(n(c,o,l,u,h,d,0))}else if(i.is(".minute")){h=parseInt(i.text().substr(i.text().indexOf(":")+1),10)||0,c=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),l=this.viewDate.getUTCDate(),u=this.viewDate.getUTCHours(),d=this.viewDate.getUTCSeconds();this._setDate(n(c,o,l,u,h,d,0))}if(0!=this.viewMode){var f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}else this.fill(),this.autoclose&&this.hide()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){l=parseInt(i.text(),10)||1,c=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),u=this.viewDate.getUTCHours(),h=this.viewDate.getUTCMinutes(),d=this.viewDate.getUTCSeconds();i.is(".old")?0===o?(o=11,c-=1):o-=1:i.is(".new")&&(11==o?(o=0,c+=1):o+=1),this._setDate(n(c,o,l,u,h,d,0))}f=this.viewMode;this.showMode(-1),this.fill(),f==this.viewMode&&this.autoclose&&this.hide()}}},_setDate:function(t,e){var i;e&&"date"!=e||(this.date=t),e&&"view"!=e||(this.viewDate=t),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date}),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),this.autoclose)},moveHour:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return e=e>0?1:-1,i.setUTCHours(i.getUTCHours()+e),i},moveDate:function(t,e){if(!e)return t;var i=new Date(t.valueOf());return e=e>0?1:-1,i.setUTCDate(i.getUTCDate()+e),i},moveMonth:function(t,e){if(!e)return t;var i,n,a=new Date(t.valueOf()),r=a.getUTCDate(),s=a.getUTCMonth(),o=Math.abs(e);if(e=e>0?1:-1,1==o)n=-1==e?function(){return a.getUTCMonth()==s}:function(){return a.getUTCMonth()!=i},i=s+e,a.setUTCMonth(i),(i<0||i>11)&&(i=(i+12)%12);else{for(var c=0;c<o;c++)a=this.moveMonth(a,e);i=a.getUTCMonth(),a.setUTCDate(r),n=function(){return i!=a.getUTCMonth()}}for(;n();)a.setUTCDate(--r),a.setUTCMonth(i);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.startDate&&t<=this.endDate},keydown:function(t){if(!this.keyboardNavigation)return!0;if(this.picker.is(":not(:visible)"))27==t.keyCode&&this.show();else{var e,i,n,a,r=!1;switch(t.keyCode){case 27:case 13:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):((i=new Date(this.date.valueOf())).setUTCDate(this.date.getUTCDate()+e),(n=new Date(this.viewDate.valueOf())).setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),r=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),n=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),n=this.moveMonth(this.viewDate,e)):((i=new Date(this.date.valueOf())).setUTCDate(this.date.getUTCDate()+7*e),(n=new Date(this.viewDate.valueOf())).setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=n,this.setValue(),this.update(),t.preventDefault(),r=!0);break;case 9:this.hide()}if(r)this.element.trigger({type:"changeDate",date:this.date}),this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.change()}},showMode:function(t){if(t){var e=Math.max(0,Math.min(s.modes.length-1,this.viewMode+t));e>=this.minView&&e<=this.maxView&&(this.viewMode=e)}this.picker.find(">div").hide().filter(".datepicker-".concat(s.modes[this.viewMode].clsName)).css("display","block"),this.updateNavArrows()},changeViewDate:function(t){this.date=t,this.viewDate=t,this.fill()},reset:function(t){this._setDate(null,"date")}},e.fn.fdatepicker=function(n){var r=Array.apply(void 0,arguments);return r.shift(),this.each((function(){var s,o=e(this),c=o.data("datepicker"),l="object"===i(n)&&n;(c||o.data("datepicker",c=new a(this,e.extend({},e.fn.fdatepicker.defaults,l))),"string"===typeof n&&"function"===typeof c[n])&&(s=c)[n].apply(s,t(r))}))},e.fn.fdatepicker.defaults={onRender:function(t){return""}},e.fn.fdatepicker.Constructor=a;var r=e.fn.fdatepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",titleFormat:"MM yyyy"}},s={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,s.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/hh?|ii?|ss?|dd?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return this.formatText=t,{separators:e,parts:i}},parseDate:function(t,i,a){if(t instanceof Date)return new Date(t.valueOf()-6e4*t.getTimezoneOffset());if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(t)&&(i=this.parseFormat("yyyy-mm-dd")),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(t)&&(i=this.parseFormat("yyyy-mm-dd hh:ii")),/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(t)&&(i=this.parseFormat("yyyy-mm-dd hh:ii:ss")),/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(t)){var s,o=/([-+]\d+)([dmwy])/,c=t.match(/([-+]\d+)([dmwy])/g);t=new Date;for(var l=0;l<c.length;l++)switch(d=o.exec(c[l]),s=parseInt(d[1]),d[2]){case"d":t.setUTCDate(t.getUTCDate()+s);break;case"m":t=Datetimepicker.prototype.moveMonth.call(Datetimepicker.prototype,t,s);break;case"w":t.setUTCDate(t.getUTCDate()+7*s);break;case"y":t=Datetimepicker.prototype.moveYear.call(Datetimepicker.prototype,t,s)}return n(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())}c=t&&t.match(this.nonpunctuation)||[],t=new Date;var u,h,d,f={},p=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","d","dd"],m={hh:function(t,e){return t.setUTCHours(e)},h:function(t,e){return t.setUTCHours(e)},ii:function(t,e){return t.setUTCMinutes(e)},i:function(t,e){return t.setUTCMinutes(e)},ss:function(t,e){return t.setUTCSeconds(e)},s:function(t,e){return t.setUTCSeconds(e)},yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};if(m.M=m.MM=m.mm=m.m,m.dd=m.d,t=n(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),c.length==i.parts.length){l=0;for(var v=i.parts.length;l<v;l++){if(u=parseInt(c[l],10),d=i.parts[l],isNaN(u))switch(d){case"MM":h=e(r[a].months).filter((function(){var t=this.slice(0,c[l].length);return t==c[l].slice(0,t.length)})),u=e.inArray(h[0],r[a].months)+1;break;case"M":h=e(r[a].monthsShort).filter((function(){var t=this.slice(0,c[l].length);return t==c[l].slice(0,t.length)})),u=e.inArray(h[0],r[a].monthsShort)+1}f[d]=u}var g;for(l=0;l<p.length;l++)(g=p[l])in f&&!isNaN(f[g])&&m[g](t,f[g])}return t},formatDate:function(t,i,n){if(null==t)return"";var a={h:t.getUTCHours(),i:t.getUTCMinutes(),s:t.getUTCSeconds(),d:t.getUTCDate(),m:t.getUTCMonth()+1,M:r[n].monthsShort[t.getUTCMonth()],MM:r[n].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};a.hh=(a.h<10?"0":"")+a.h,a.ii=(a.i<10?"0":"")+a.i,a.ss=(a.s<10?"0":"")+a.s,a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m;t=[];for(var s=e.extend([],i.separators),o=0,c=i.parts.length;o<c;o++)s.length&&t.push(s.shift()),t.push(a[i.parts[o]]);return t.join("")},convertViewMode:function(t){switch(t){case 4:case"decade":t=4;break;case 3:case"year":t=3;break;case 2:case"month":t=2;break;case 1:case"day":t=1;break;case 0:case"hour":t=0}return t},headTemplate:function(t,e){return"".concat('<thead><tr><th class="prev">').concat(t,"</th>")+'<th colspan="5" class="date-switch"></th>'+'<th class="next">'.concat(e,"</th>")+"</tr></thead>"},contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>',template:function(t,e,i){return"".concat('<div class="datepicker"><div class="datepicker-minutes"><table class=" table-condensed">').concat(s.headTemplate(t,e)).concat(s.contTemplate).concat(s.footTemplate,"</table>")+'</div><div class="datepicker-hours">'+'<table class=" table-condensed">'.concat(s.headTemplate(t,e)).concat(s.contTemplate).concat(s.footTemplate,"</table>")+'</div><div class="datepicker-days">'+'<table class=" table-condensed">'.concat(s.headTemplate(t,e),"<tbody></tbody>").concat(s.footTemplate,"</table>")+'</div><div class="datepicker-months">'+'<table class="table-condensed">'.concat(s.headTemplate(t,e)).concat(s.contTemplate).concat(s.footTemplate,"</table>")+'</div><div class="datepicker-years">'+'<table class="table-condensed">'.concat(s.headTemplate(t,e)).concat(s.contTemplate).concat(s.footTemplate,"</table>")+"</div>"+'<a class="button datepicker-close tiny alert right" style="width:auto;">'.concat(i,"</a>")+"</div>"}};e.fn.fdatepicker.DPGlobal=s}(window.jQuery)},50983:function(t,e,i){"use strict";var n=i(70350);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}$((function(){var t,e,i={},a={},o={},c=function(t){t.preventDefault();var e=$(t.target).parents(".metric-downloader").data("metric"),n="data:text/csv;charset=utf-8,";n+="key,value\r\n",i[e].forEach((function(t){n+="".concat(t.key,",").concat(t.value,"\r\n")}));var a=document.createElement("a");a.setAttribute("href",encodeURI(n)),a.setAttribute("download","".concat(e,"_metric_data.csv")),document.body.appendChild(a),a.click(),document.body.removeChild(a)};$(".metric-chart:visible").each((function(t,e){a[$(e).data("metric")]=e})),$(".metric-downloader").each((function(t,e){e.onclick=c})),$.isEmptyObject(a)||(e=Object.keys(a),o.names=JSON.stringify(e||[]),o.spaceType=$("#metrics #metrics-space_type").val()||null,o.spaceId=$("#metrics #metrics-space_id").val()||null,$.post("/api",(t="metrics(names: ".concat(o.names,', space_type: "').concat(o.spaceType,'", space_id: ').concat(o.spaceId,") { name history { key value } }"),{query:"{ ".concat(t," }")})).then((function(t){t.data?$.each(t.data.metrics,(function(t,e){var o=a[e.name];if(0!==e.history.length){var c=$(o).data("info");i[e.name]=$.extend(!0,[],e.history),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(t){return t.forEach((function(t){t.key=n.ji_(t.key),t.value=Number(t.value)})),t.sort((function(t,e){return n.j2p(t.key,e.key)}))}(t.data),i=t.title,a=t.objectName||"",r=n.Ys(t.container),s=t.axis||!1,o=(t.ratio||"").split(":").reduce((function(t,e){return t/e}))||4/3,c=!!Object.is(t.tip,void 0)||t.tip;t.agg&&(e=e.map((function(t,e,i){return e>0&&(t.value+=i[e-1].value),t})));var l=0,u=0,h=0,d=0,f=Number(r.node().getBoundingClientRect().width)-d-u,p=f/o-l-h,m=n.VV$([f/10,32]),v=n.Xf().range([0,f]),g=n.BYU().range([p,0]),y=n.SOn().x((function(t){return v(t.key)})).y0(p).y1((function(t){return g(t.value)})),b=n.jvg().x((function(t){return v(t.key)})).y((function(t){return g(t.value)})),k=r.append("svg").attr("width",f+d+u).attr("height",p+l+h).append("g").attr("transform","translate(".concat(d,",").concat(l,")"));if(v.domain(n.Wem(e,(function(t){return t.key}))),g.domain([0,n.Fp7(e,(function(t){return t.value}))]).nice(),k.append("path").data([e]).attr("class","line").attr("d",b),k.append("path").data([e]).attr("class","area").attr("d",y),c){var w=k.append("circle").attr("class","circle").attr("r",6).style("display","none"),D=n.Ys("body").append("div").attr("id","".concat(r.node().id,"-tooltip")).attr("class","chart-tooltip").style("opacity",0);k.on("mouseover",(function(){w.style("display",null),D.style("opacity",1)})).on("mouseout",(function(){w.style("display","none"),D.style("opacity",0)})).on("mousemove",(function(){var t=v.invert(n.Jzs(this)[0]),i=n.YFb((function(t){return t.key})).left(e,t,1),s=e[i-1],o=e[i],c=t-s.key>o.key-t?o:s,l=window.pageXOffset+r.node().getBoundingClientRect().left,u=window.pageYOffset+r.node().getBoundingClientRect().top,h='\n          <div class="tooltip-content">\n            '.concat(n.i$Z("%e %B %Y")(c.key),"<br />\n            ").concat(c.value.toLocaleString()," ").concat(a,"\n          </div>");w.attr("transform","translate(".concat(v(c.key),",").concat(g(c.value),")")),D.html(h).style("left","".concat(l+v(c.key),"px")).style("top","".concat(u+g(c.value),"px"))}))}if(s){var C=n.LLu(v).ticks(n.F0B).tickFormat(n.i$Z("%b %y")).tickSize(-p),T=n.y4O(g).ticks(5).tickSize(8);k.append("g").attr("transform","translate(0,".concat(p,")")).call((function(t){t.call(C),t.select(".domain").remove(),t.selectAll(".tick line").attr("class","dashed"),t.selectAll(".tick text").attr("y",6)})),k.append("g").call((function(t){t.call(T),t.select(".domain").remove(),t.select(".tick:first-of-type").remove(),t.selectAll(".tick text").attr("text-anchor","start").attr("x",6)}));var S=k.append("g").data([e]).attr("transform",(function(t){return"translate(".concat(v(t[t.length-1].key),",").concat(g(t[t.length-1].value),")")}));S.append("circle").attr("class","circle").attr("r",8),S.append("text").attr("class","sum").attr("text-anchor","end").attr("dx",-16).text((function(t){return t[t.length-1].value.toLocaleString()}))}else{var j=k.append("g").attr("text-anchor","start").attr("transform","translate(".concat(m,",").concat(m,")")),$=0;i.length&&j.append("text").attr("x",0).attr("y",0).attr("class","title").text(i).call((function(t,e){t.each((function(){for(var t=n.Ys(this),i="",a=t.text().split(/\s+/).reverse(),r=[],s=0,o=t.attr("x"),c=t.attr("y"),l=t.text(null).append("tspan").attr("x",o).attr("y",c).attr("dy","".concat(0,"em"));i=a.pop();)r.push(i),l.text(r.join(" ")),l.node().getComputedTextLength()>e&&(r.pop(),l.text(r.join(" ")),r=[i],l=t.append("tspan").attr("x",o).attr("y",c).attr("dy","".concat(1.1*++s+0,"em")).text(i));$=1.1*s}))}),f-2*m);var x=parseFloat(getComputedStyle(j.node()).fontSize);j.append("text").attr("x",0).attr("dy",i.length?2*m+$*x:1.25*m).attr("class","sum").text(e[e.length-1].value.toLocaleString())}}(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({container:"#".concat(o.id),data:e.history,title:c.title,objectName:c.object},$(o).data()))}else $(o).remove()})):t.errors&&(console.log("Something wrong happened when fetching metrics:"),$.each(t.errors,(function(t,e){console.log(e.message)})),$("#metrics").remove())})).fail((function(t){console.log("Something wrong happened when fetching metrics: ".concat(t.statusText)),$("#metrics").remove()})))}))},46700:function(t,e,i){var n={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn-bd":76225,"./bn-bd.js":76225,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-in":44175,"./en-in.js":44175,"./en-nz":76319,"./en-nz.js":76319,"./en-sg":31662,"./en-sg.js":31662,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":55251,"./es-do.js":55251,"./es-mx":96112,"./es-mx.js":96112,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fil":42549,"./fil.js":42549,"./fo":94694,"./fo.js":94694,"./fr":15596,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":15596,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-deva":27884,"./gom-deva.js":27884,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./oc-lnc":92135,"./oc-lnc.js":92135,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tk":19005,"./tk.js":19005,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-mo":99807,"./zh-mo.js":99807,"./zh-tw":74152,"./zh-tw.js":74152};function a(t){var e=r(t);return i(e)}function r(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id=46700}}]);
//# sourceMappingURL=7010-ce223328ecb2ea784071.js.map